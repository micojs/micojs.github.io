!function r(i,s,a){function o(t,e){if(!s[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=s[t]={exports:{}},i[t][0].call(n.exports,function(e){return o(i[t][1][e]||e)},n,n.exports,r,i,s,a)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)o(a[e]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Var=n.UnaryExpression=n.Scope=n.Return=n.Program=n.Pop=n.Objekt=n.Method=n.LookUp=n.Location=n.Literal=n.Error=n.Deref=n.Continue=n.CallExpression=n.Break=n.BinaryExpression=n.AssignmentExpression=n.Array=void 0,n.getUniqueId=i,n.getUniqueName=function(e="_"){return e+r()};let r=1;function i(){return r++}class s{constructor(){this.id=r++,this.parent=null}toJSON(){return{constructor:this.constructor.name}}}class a extends s{}n.Pop=a;class o extends s{}n.Deref=o;class u extends s{constructor(e){super(),this.hasValue=e}toJSON(){return{constructor:this.constructor.name,hasValue:this.hasValue}}}n.Return=u;class c extends s{constructor(e){super(),this.target=e}toJSON(){return{constructor:this.constructor.name,target:this.target?this.target.id:null}}}n.Break=c;class l extends s{constructor(e){super(),this.target=e}toJSON(){return{constructor:this.constructor.name,target:this.target?this.target.id:null}}}n.Continue=l;class h extends s{constructor(e){super(),this.length=e}toJSON(){return{constructor:this.constructor.name,length:this.length}}}n.Array=h;class p extends s{constructor(e,t){super(),this.length=e,this.construct=t}toJSON(){return{constructor:this.constructor.name,length:this.length}}}n.Objekt=p;class d extends s{constructor(e,t,n){super(),this.argc=e,this.isNew=t,this.isForward=n}toJSON(){return{constructor:this.constructor.name,argc:this.argc,isNew:this.isNew,isForward:this.isForward}}}n.CallExpression=d;class f extends s{constructor(e){super(),this.operator=e}toJSON(){return{constructor:this.constructor.name,operator:this.operator}}}n.AssignmentExpression=f;class m extends s{constructor(e){super(),this.operator=e}toJSON(){return{constructor:this.constructor.name,operator:this.operator}}}n.BinaryExpression=m;class g extends s{constructor(e,t){super(),this.operator=e,this.prefix=t}toJSON(){return{constructor:this.constructor.name,operator:this.operator}}}n.UnaryExpression=g;class D extends s{constructor(e){if(super(),void 0===e)throw new v("Internal error: invalid LookUp");this.variable=e,this.container=null}toJSON(){return{constructor:this.constructor.name,variable:this.variable,container:this.container}}}n.LookUp=D;class y extends s{constructor(e){super(),this.value=e}toJSON(){return{constructor:this.constructor.name,value:this.value}}}n.Literal=y;class E{constructor(e="var",t=void 0,n){this.id=r++,this.kind=e,this.name=t,this.location=null,this.parent=null,this.context=null,this.deref=null,this.read=0,this.write=0}toJSON(){return{constructor:this.constructor.name,id:this.id,name:this.name,parent:this.parent?this.parent.name:null,kind:this.kind}}addDeref(e){this.deref||(this.deref={}),this.deref[e]=e}isCaptured(){return this.parent.method.captured&&this.id in this.parent.method.captured}rename(e){this.parent?(this.parent.remove(this),this.name=e,this.parent.add(this)):this.name=e}}n.Var=E;class x extends s{constructor(e){super(),this.name=e,this.variables=[],this.index={},this.parent=null,this.children=[],this.method=null,this.transparent=!1,this.breakable=!1,this.hasBreak=!1,this.continuable=!1,this.hasContinue=!1,this.returnable=!1,this.debug=null,this.preEnter=void 0,this.enterCondition=void 0,this.failEnter=void 0,this.preLoop=void 0,this.loopCondition=void 0}toJSON(){return{constructor:this.constructor.name,id:this.id,name:this.name,index:this.index,parent:this.parent?this.parent.name:null,preEnter:this.preEnter,enterCondition:this.enterCondition,failEnter:this.failEnter,children:this.children,loopCondition:this.loopCondition,preLoop:this.preLoop}}label(e){return e+"_"+this.id+(this.debug?`/*${this.debug}*/`:"")}has(e,t){return this.transparent&&this.parent?this.parent.has(e,t):e in this.index||t&&this.parent&&this.parent.has(e,!0)}find(e,t){var n;return this.transparent&&this.parent?this.parent.find(e,t):(n=this.index[e])||(t&&this.parent?(n=this.parent.find(e,!0))&&n.parent.method!=this.method&&n.parent.method.parent?this.method.capture(n):n:void 0)}remove(e){var t;this.transparent&&this.parent?this.parent.remove(e):e&&e.parent==this&&(-1!=(t=this.variables.indexOf(e))&&(this.variables[t]=this.variables[this.variables.length-1],this.variables.pop()),this.index[e.name]==e&&delete this.index[e.name],delete this.index[e.id])}addPreEnter(){var e=new x;return(this.preEnter=e).parent=this,e.transparent=!0,e.method=this.method,this.debug&&(e.debug=this.debug+"(preEnter)"),e}addEnterCondition(){var e=new x;return(this.enterCondition=e).parent=this,e.transparent=!0,e.method=this.method,this.debug&&(e.debug=this.debug+"(enterCondition)"),e}addFailEnter(){var e=new x;return(this.failEnter=e).parent=this,e.transparent=!0,e.method=this.method,this.debug&&(e.debug=this.debug+"(failEnter)"),e}addPreLoop(){var e=new x;return(this.preLoop=e).parent=this,e.transparent=!0,e.method=this.method,this.debug&&(e.debug=this.debug+"(preLoop)"),e}addLoopCondition(){var e=new x;return(this.loopCondition=e).parent=this,e.transparent=!0,e.method=this.method,this.debug&&(e.debug=this.debug+"(loopCondition)"),e}_reg(e){return this.transparent?this.parent._reg(e):(e.name&&(this.index[e.name]=e),e.id&&(this.index[e.id]=e),this)}add(e){if(!e)throw new v("Internal Error: adding null to scope");if(e instanceof E)e.parent=this._reg(e),e.parent.variables.push(e);else if(e instanceof C)e.parent=this._reg(e),e.parent.children.push(e);else if(e instanceof x)this._reg(e),e.parent=this,e.parent.children.push(e),e.method=this.method;else{if(!(e instanceof s))throw new v("Internal Error: Can't add to scope: ",e);this.children.push(e),e.parent=this}}}class C extends(n.Scope=x){constructor(e){super(),this.name=e,(this.method=this).args=new E,this.add(this.args),this.add(new E("const","this")),this.isNative=!1,this.isClass=!1,this.captures=void 0,this.captured=void 0,this.returnable=!0}guessObjectSize(){let e=Object.keys(this.index.this.deref||{}).length;var t,n={};for(t in this.index){var r=this.index[t];r.id in n||!(r instanceof C)||r.isClass||(n[r.id]=r,e+=r.guessObjectSize())}return e}toJSON(){return Object.assign(super.toJSON(),{name:this.name,args:this.args,isNative:this.isNative})}capture(e){var t=new E("capture",e.name);return t.context=e.parent.method.setCaptured(e),this.add(t),this.captures||(this.captures={}),this.captures[t.context.id]=e.id,t}setCaptured(e){return this.captured||(this.captured={},this.context=new E("var"),this.add(this.context)),this.captured[e.id]=e,this.context}}n.Method=C;n.Program=class{constructor(){this.main=new C("_main"),this.resources=new E("var","R"),this.strings=[],this.sourceAST=[],this.main.add(this.resources)}toJSON(){return{constructor:this.constructor.name,main:this.main}}};n.Location=class A{constructor(e,t,n){this.file=e,this.line=t,this.column=n}clone(){return new A(this.file,this.line,this.column)}};class v{constructor(e,t){this.message=e,this.location=t}toJSON(){return{constructor:this.constructor.name,message:this.message,location:this.location}}}n.Error=v},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cppWriter=function(n,e){const r=new s;Array.isArray(e.strings)&&e.strings.forEach(e=>u(e,!0));Array.isArray(e.globals)&&e.globals.forEach(e=>{let t=n.main.index[e];t||(t=new f.Var("var",e),n.main.add(t)),r.globals[t.id]=t});return r.write(n),r.toString(e.platform)};var f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=a(t);if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=i?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("./IR.js"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}const o={std:`
$[[minStringTable]]

#define PRINT(str) printf("%s", str)
#define PRINTLN() printf("\\n");
#define STRDECL(VAR, LEN, STR) __attribute__ ((aligned)) const std::array<uint8_t, sizeof(js::Buffer) + LEN> VAR = js::bufferFrom<LEN>(STR);

#include "js.hpp"

$[[translated]]

int main() {
  {
    js::Local args = js::arguments(0);
    $[[main]](args, false);
  }
  js::gc();
  return 0;
}
`,blit:`
#define RESOURCEREF(x) ((js::ResourceRef*)x)
#define PRINT(str) blit::debug((const char*)(str))
#define PRINTLN() blit::debug("\\n\\r");
#define STRDECL(VAR, LEN, STR) __attribute__ ((aligned)) const std::array<uint8_t, sizeof(js::Buffer) + LEN> VAR = js::bufferFrom<LEN>(STR);

$[[minStringTable]]

#include "blit.h"

$[[translated]]

void init() {
  {
    js::Local args = js::arguments(0);
    js::call($[[main]], args, false);
    js::call($[[init]], args, false);
  }
  js::gc();
}

void render(uint32_t time) {
  {
    js::Local args = js::arguments(1);
    js::set(args, V_0, time);
    js::call($[[render]], args, false);
  }
  js::gc();
}

void JSupdate(uint32_t time) {
  {
    js::Local args = js::arguments(1);
    js::set(args, V_0, time);
    js::call($[[update]], args, false);
  }
  js::gc();
}
`,pokitto:`
#define RESOURCEREF(x) ((js::ResourceRef*)x)
#define PRINT(str) LOG((const char*)(str))
#define PRINTLN() LOG("\\n");
#define STRDECL(VAR, LEN, STR) __attribute__ ((aligned)) const std::array<uint8_t, sizeof(js::Buffer) + LEN> VAR = js::bufferFrom<LEN>(STR);

$[[minStringTable]]

#include "api.h"

$[[translated]]

void JSinit() {
  {
    js::Local args = js::arguments(0);
    js::call($[[main]], args, false);
    js::call($[[init]], args, false);
  }
  js::gc();
}

void JSupdate() {
  {
    js::Local args = js::arguments(1);
    js::set(args, V_0, Pokitto::Core::getTime());
    js::call($[[update]], args, false);
    js::call($[[render]], args, false);
  }
  js::gc();
}
`,espboy:`
#define RESOURCEREF(x) ((js::ResourceRef*)x)
#define PRINT(str) Serial.print((const char*)str)
#define PRINTLN() Serial.print("\\n");
#define STRDECL(VAR, LEN, STR) __attribute__ ((aligned)) const std::array<uint8_t, sizeof(js::Buffer) + LEN> VAR = js::bufferFrom<LEN>(STR);
$[[minStringTable]]

#include "espboy.hpp"

$[[translated]]

void JSinit() {
  {
    js::Local args = js::arguments(0);
    js::call($[[main]], args, false);
    js::call($[[init]], args, false);
  }
  js::gc();
}

void JSupdate(uint32_t time) {
  {
    js::Local args = js::arguments(1);
    js::set(args, V_0, time);
    js::call($[[update]], args, false);
    js::call($[[render]], args, false);
  }
  js::gc();
}
`};let i;function u(e,t){let n=e+"",r=-1;return"string"==typeof e||t?(-1==(r=i.stringTable.indexOf(n))&&(r=i.stringTable.length,i.stringTable.push(n)),n=`js::BufferRef{stringTable[${r}]}`):(0|e)!=e?n+="f":n=`int32_t(${n})`,t&&((t="V_"+(e+"").replace(/([^a-zA-Z_0-9])/g,(e,t)=>t.charCodeAt(0)))in i.minStringTable||(i.minStringTable[t]=n),n=t),n}function c(e){return e instanceof f.Literal?`{${m(e)}}`:m(e)}function m(e,t){switch(e.constructor.name){case"Method":if(e.isNative&&e.name)return e.name;case"Var":return i.globals[e.id]?e.name:e.name?`_${e.id}/*${e.name}*/`:"_"+e.id;case"Literal":return u(e.value,!!t);case"LookUp":var n=e.container||e.parent;if(n instanceof f.Var)return e.variable instanceof f.Literal&&(n.addDeref(e.variable.value),n==i.program.resources)?`RESOURCEREF(${e.variable.value})`:`js::get(${m(n)}, ${m(e.variable,!0)})`;if(n instanceof f.Scope)return m(n.find(e.variable,!0))}return e.constructor.name}class s{constructor(){this.minStringTable={},this.globals={},this.stringTable=[],this.out=[],this.method=null,this.indent=0,this.stack=[],this.main=null,this.program=null,i=this,["","buffer","length","__proto__","this","undefined","[Object]","[Resource]","[Array]","[Function]","null","true","false","this","0","1","2","3","4","5","//new","//method"].forEach(e=>u(e,!0))}error(e,t){throw new f.Error(e,t)}write(e){var t=this[e.constructor.name];if(t)return t.call(this,e);this.error("No writer for "+e.constructor.name,e.location)}Program(e){(i=this).program=e,this.main=e.main,this.out.push(this.write(e.main)),this.writeStringTable()}writeStringTable(){this.out.unshift(["","js::Buffer* const stringTable[] = ","{",this.stringTable.map((e,t)=>`(js::Buffer*) _str${t}.data()`).join(",\n  "),"};","",`const uint32_t stringTableSize = ${this.stringTable.length};`,""]),this.out.unshift([this.stringTable.map((e,t)=>{var n=JSON.stringify(e);return`STRDECL(_str${t}, ${e.length+1}, ${n});`})])}Break(e){return`goto ${e.target.label("failEnter")}; // break`}Continue(e){return`goto ${e.target.label("preLoop")}; // continue`}Return(e){return[this.Deref(),e.hasValue?`return {${m(this.stack.pop())}};`:"return {};"]}Method(e){var t,n;this.out.unshift(`js::Local ${m(e)}(js::Local&, bool);`),e.isNative||(t=this.method,n=["",`js::Local ${m(this.method=e)}(js::Local& ${m(e.args)}, bool isNew)`],this.out.push(n),n.push(this.Scope(e,!0)),this.method=t)}declare(e){return"capture"==e.kind?`js::Tagged& ${m(e)} = *js::getTaggedPtr(js::to<js::Object*>(${m(this.method.args)}), ${u(e.name,!0)}, true);`:e.isCaptured()?`js::Tagged& ${m(e)} = *js::set(${m(this.method.context)}, ${u(e.name,!0)}, {});`:`js::Local ${m(e)}; // `+e.kind}Scope(e,t){var n,r,i,s=[],a=[],o=["// begin "+e.debug,e.transparent?"":"{",a,s],u=[e.transparent?"":"}","// end "+e.debug],c=e.children.map(e=>this.write(e)),l=(!t||(t=e.children[e.children.length-1])&&t instanceof f.Return||c.push("return {};"),e.preEnter&&o.push(this.Scope(e.preEnter,!1)),e.loopCondition?(t=e.label("enterCondition"),n=e.label("failEnter"),r=e.label("preLoop"),o.push(t+":;"),e.enterCondition&&(o.push(this.write(e.enterCondition)),o.push(this.Deref()),o.push(`if (!js::to<bool>(${m(this.stack.pop())})) goto ${n};`)),e.hasContinue&&c.push(r+":;"),e.preLoop&&(c.push(this.write(e.preLoop)),this.stack.pop()),e.loopCondition&&e.loopCondition.children[0]&&((r=e.loopCondition.children[0])instanceof f.Literal&&r.value?c.push(`goto ${t};`):r instanceof f.Literal&&!r.value||(c.push(this.write(e.loopCondition)),c.push(`if (js::to<bool>(${m(this.stack.pop())})) goto ${t};`))),u.unshift(n+":;")):e.enterCondition&&(o.push(this.write(e.enterCondition)),o.push(this.Deref()),r=e.label("failEnter"),o.push(`if (!js::to<bool>(${m(this.stack.pop())})) goto ${r};`),e.failEnter?(t=e.label("afterFail"),u.unshift([`goto ${t};`,r+":;",this.write(e.failEnter),t+":;"])):u.push(r+":;")),{}),h=(l[e.method.args.id]=e.method.args,e.context&&(l[e.context.id]=e.context,a.push(this.declare(e.context)),a.push(`${m(e.context)} = js::alloc(${Object.keys(e.captured).length});`)),e.index);for(i in h){var p,d=h[i];!(d.id in l)&&d instanceof f.Var&&(l[d.id]=d,p=this.declare(d),e==this.main&&d.name?this.out.unshift(p):s.push(p))}return e instanceof f.Method&&s.push(`js::initThis(${m(e.index.this)}, ${m(e.args)}, ${e.guessObjectSize()}, isNew);`),[o,c,u]}LookUp(e){this.stack.push(e)}Literal(e){this.stack.push(e)}Deref(){var e=this.stack.pop();if(e instanceof f.LookUp){var t=e.container||e.parent;if(t instanceof f.Var)return n=new f.Var,this.method.add(n),this.stack.push(n),`${m(n)} = ${m(e)};`;if(t instanceof f.Scope){var n=t.find(e.variable,!0);if(n||this.error(`ReferenceError: ${e.variable} is not defined`,e.location),this.stack.push(n),n instanceof f.Method)return this.Deref()}else this.error("Null context in lookup")}else{if(e instanceof f.Method&&e.captures)return n=m(t=new f.Var),this.method.add(t),this.stack.push(t),(t=[]).push(""+n+` = js::alloc(1, ${m(this.method.context)});`),t.push(`js::set(${n}, V_4747method, ${m(e)});`),t;this.stack.push(e)}}Pop(){this.stack.pop()}AssignmentExpression(e){let t=this.stack.pop();t||this.error("Missing right-hand side for "+e.operator);var n=this.stack.pop(),r=(n||this.error("Missing left-hand side for "+e.operator+m(t)),n instanceof f.LookUp||this.error("Invalid assignment left-hand side "+m(n)),n.container||n.parent),i=[];return"="!=e.operator&&(this.stack.push(n),i.push(this.Deref()),this.stack.push(t),i.push(this.BinaryExpression(e)),t=this.stack.pop()),r instanceof f.Var?n.variable instanceof f.Literal?(r.addDeref(n.variable.value),i.push(`js::set(${m(r)}, ${m(n.variable,!0)}, ${m(t)});`)):i.push(`js::set(${m(r)}, ${m(n.variable)}, ${m(t)});`):r instanceof f.Scope&&((e=r.find(n.variable,!0))||this.error(`Variable ${n.variable} not defined`),i.push(`${m(e)} = ${m(t)};`)),this.stack.push(t),i}UnaryExpression(e){var t=this.stack.pop(),n=new f.Var,r=(e.parent.method.add(n),{true:{"++":"preinc","--":"predec","!":"not","-":"neg","+":"pos"},false:{"++":"inc","--":"dec"}}[!!e.prefix][e.operator]);return this.stack.push(n),`js::op_${r}(${m(n)}, ${m(t)}); // `+e.operator}BinaryExpression(e){var t=[],n=this.stack.pop(),r=(t.push(this.Deref()),this.stack.pop());switch(e.operator){case".":case"[]":var i=new f.LookUp(n);return i.container=r,this.stack.push(i),t}var s=new f.Var;e.parent.add(s),this.stack.push(s);return t.push(`js::op_${{"+":"add","-":"sub","*":"mul","%":"mod","/":"div","<":"lt","<=":"leq",">":"gt",">=":"geq","==":"eq","===":"seq","|":"or","&":"and","^":"xor","<<":"shl",">>":"shr",">>>":"sru","+=":"add","-=":"sub","*=":"mul","%=":"mod","/=":"div","|=":"or","&=":"and","^=":"xor","<<=":"shl",">>=":"shr",">>>=":"sru"}[e.operator]||e.operator}(${m(s)}, ${c(r)}, ${c(n)});`),t}Array(t){var e=new f.Var,n=(this.method.add(e),[]),r=[],i=m(e);n.push(`${i} = js::arguments(${t.length});`),n.push(r);for(let e=0;e<t.length;++e)r[t.length-e-1]=`js::set(${i}, ${u(t.length-e-1,!0)}, ${m(this.stack.pop())});`;return this.stack.push(e),n}Objekt(t){var e=new f.Var,n=(this.method.add(e),[]),r=[],i=m(e);n.push(`${i} = js::alloc(${t.length});`),n.push(r);for(let e=0;e<t.length;++e){var s=this.stack.pop(),a=this.stack.pop();r[t.length-e-1]=`js::set(${i}, ${u(a.variable,!0)}, ${m(s)});`}return this.stack.push(e),n}CallExpression(t){if(t.isForward){const s=this.stack.pop(),o=m(s);return`js::call(${o}, ${m(this.method.args)}, false);`}var e=new f.Var,n=new f.Var,r=(this.method.add(e),this.method.add(n),[]),i=m(e);for(let e=0;e<t.argc;++e)r[t.argc-e-1]=`js::set(${i}, ${u(t.argc-e-1,!0)}, ${m(this.stack.pop())});`;const s=this.stack.pop();this.stack.push(s),r.push(this.Deref());let a=t.argc;const o=m(this.stack.pop());return t.isNew?a++:s.container&&(r.push(`js::set(${i}, V_this, ${m(s.container)});`),a++),this.stack.push(n),[`${i} = js::arguments(${a});`,r,`${m(n)} = js::call(${o}, ${i}, ${t.isNew});`,i+".reset();"]}toString(e){let r=Object.keys(this.minStringTable).map(e=>`#define ${e} `+this.minStringTable[e]).join("\n"),i="";return s.call(this,this.out),(o[e]||o.std).replace(/\$\[\[([^\]]+)\]\]/g,(e,t)=>{if("minStringTable"==t)return r;if("translated"==t)return i;let n=this.main;return(n="main"!=t?this.main.find(t,!0):n)||this.error("Could not find "+t),m(n)});function s(n){for(let e=0,t=n.length;e<t;++e){var r=n[e];"string"==typeof r?("}"==r[0]&&this.indent--,i=(i+="    ".repeat(this.indent))+r+"\n","{"==r&&this.indent++):void 0!==r&&s.call(this,r)}}}}},{"./IR.js":1}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.esAST=function(e,t,n){var r="object"==typeof i&&i.esprima?i.esprima:s,r=r.parse(e,{loc:!0});return r.file=n,r},i.esProg=function(e,t,n,r){u=r;r=new c(t);return r.location.file=e.file,r.parse(e),t.sourceAST.push(e),t};var s=n(e("./node_modules/esprima/dist/esprima.js")),o=n(e("./IR.js"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=a(t);if(t&&t.has(e))return t.get(e);var n,r,i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((r=s?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}let u;class c{constructor(e){this.program=e,this.scope=null,this.location=new o.Location,this.node=null,this.scopeStack=[],this.parse=(e,...t)=>{var n,r=this[e.type];if(r)return n=this.node,this.setNode(e),r=r.call(this,e,...t),this.setNode(n),r;throw console.error("Don't know how to parse "+e.type+" inside",this.node?this.node.type:"null"),console.log(JSON.stringify(e,0,4)),new o.Error("Internal error",this.location)}}getNodeLocation(e){return e&&e.loc&&e.loc.start?new o.Location(this.location.file,e.loc.start.line,e.loc.start.column):this.location.clone()}setNode(e){(this.node=e)&&e.loc&&e.loc.start&&(this.location.column=e.loc.start.column,this.location.line=e.loc.start.line)}error(e){throw new o.Error(e,this.location)}push(e,t){this.scopeStack.push(e);var n=this.scope;t(this.scope=e),this.scope=n,this.scopeStack.pop()}Program(t){this.push(this.program.main,e=>{t.body.forEach(e=>this.parse(e))})}BreakStatement(t){for(let e=this.scopeStack.length-1;-1<e;--e){var n=this.scopeStack[e];if(n.breakable&&(!t.label||n.name==t.label.name))return n.hasBreak=!0,void this.scope.add(new o.Break(n))}}ContinueStatement(t){for(let e=this.scopeStack.length-1;-1<e;--e){var n=this.scopeStack[e];if(n.continuable&&(!t.label||n.name==t.label.name))return n.hasContinue=!0,void this.scope.add(new o.Continue(n))}}BlockStatement(n,e=null){e||(e=new o.Scope,this.scope.add(e)),this.push(e,e=>{for(var t of n.body)if(this.parse(t),u.opts.cancel){u.opts.cancel=!1;break}})}LabeledStatement(e,t){(t=t||new o.Scope).name=e.label.name,this.parse(e.body,t)}IfStatement(t,n){n=n||new o.Scope,this.scope.add(n),n.debug="if",this.push(n.addEnterCondition(),e=>{this.parse(t.test)}),t.alternate&&this.push(n.addFailEnter(),e=>{this.parse(t.alternate)}),this.push(n,e=>{this.parse(t.consequent,n)})}WhileStatement(t,n){n=n||new o.Scope,this.scope.add(n),n.continuable=!0,n.breakable=!0,this.push(n.addEnterCondition(),e=>{this.parse(t.test)}),this.push(n.addLoopCondition(),e=>{this.scope.add(new o.Literal(!0))}),this.push(n,e=>{this.parse(t.body,n)})}ForOfStatement(i,s){s=s||new o.Scope,this.scope.add(s),s.continuable=!0,s.breakable=!0,s.debug="forOf",this.push(s,e=>{const t=new o.Var,n=(s.add(t),new o.Var);s.add(n);let r;this.push(s.addPreEnter(),e=>{e.add(new o.LookUp(n.id)),e.add(new o.Literal(0)),e.add(new o.AssignmentExpression("=")),e.add(new o.Pop),e.add(new o.LookUp(t.id)),this.parse(i.right),e.add(new o.AssignmentExpression("=")),e.add(new o.Pop),this.parse(i.left),(r=e.find(i.left.declarations[0].id.name,!0))||this.error("Could not find iterator "+i.left.declarations[0].id.name)}),this.push(s.addEnterCondition(),e=>{e.add(new o.LookUp(n.id)),e.add(new o.LookUp(t.id)),e.add(new o.Deref),e.add(new o.Literal("length")),e.add(new o.BinaryExpression(".")),e.add(new o.BinaryExpression("<"))}),this.push(s.addPreLoop(),e=>{e.add(new o.LookUp(n.id)),e.add(new o.Literal(1)),e.add(new o.AssignmentExpression("+=")),e.add(new o.Pop)}),this.push(s.addLoopCondition(),e=>{e.add(new o.Literal(!0))}),s.add(new o.LookUp(r.id)),s.add(new o.LookUp(t.id)),s.add(new o.Deref),s.add(new o.LookUp(n.id)),s.add(new o.Deref),s.add(new o.BinaryExpression(".")),s.add(new o.AssignmentExpression("=")),this.parse(i.body,s)})}ForStatement(t,n){n=n||new o.Scope,this.scope.add(n),n.continuable=!0,n.breakable=!0,this.push(n,e=>{t.init&&this.push(n.addPreEnter(),e=>{this.parse(t.init)}),t.test&&this.push(n.addEnterCondition(),e=>{this.parse(t.test)}),t.update&&this.push(n.addPreLoop(),e=>{this.parse(t.update)}),this.push(n.addLoopCondition(),e=>{this.scope.add(new o.Literal(!0))}),this.parse(t.body,n)})}DoWhileStatement(t,n){n=n||new o.Scope,this.scope.add(n),n.continuable=!0,n.breakable=!0,this.push(n.addLoopCondition(),e=>{this.parse(t.test)}),this.push(n,e=>{this.parse(t.body,n)})}VariableDeclaration(t){t.declarations.forEach(e=>this.parse(e,t.kind))}VariableDeclarator(e,t){var n=e.id,r=("Identifier"!=n.type&&this.error("Unsupported initializer type: "+n.type),"var"==t?this.scope.method:this.scope),i=r.find(n.name,!1);i?"var"==t&&"var"==i.kind||this.error("redeclaration of "+i.kind+" "+i.name):r.add(new o.Var(t,n.name,this.location.clone())),e.init&&(this.parse({type:"AssignmentExpression",operator:"=",left:{type:"Identifier",name:n.name},right:e.init}),this.scope.add(new o.Pop))}ClassDeclaration(t){var e,n=new o.Method(t.id?t.id.name:void 0),r=(n.isClass=!0,this.scope.add(n),this.push(n,e=>{this.parse(t.body)}),n.index.this),i={};for(e in n.index){var s=n.index[e];!(s.id in i)&&s instanceof o.Method&&((i[s.id]=s).index.this,r.addDeref(s.name),n.add(new o.LookUp("this")),n.add(new o.Deref),n.add(new o.Literal(s.name)),n.add(new o.BinaryExpression(".")),n.add(new o.LookUp(s.id)),n.add(new o.AssignmentExpression("=")),n.add(new o.Pop))}n.index.constructor&&(n.add(new o.LookUp("constructor")),n.add(new o.CallExpression(0,!0,!0)))}ClassBody(e){e.body.forEach(e=>this.parse(e))}EmptyStatement(e){}AssignmentExpression(e){this.parse(e.left),this.parse(e.right),this.scope.add(new o.Deref),this.scope.add(new o.AssignmentExpression(e.operator))}ExpressionStatement(e){"Literal"==e.expression.type&&"string"==typeof e.expression.value?u.pragma(e.expression.value):(this.parse(e.expression),this.scope.add(new o.Pop))}ReturnStatement(e){e.argument&&this.parse(e.argument),this.scope.add(new o.Return(!!e.argument))}Identifier(e){this.scope.add(new o.LookUp(e.name))}ThisExpression(e){this.scope.add(new o.LookUp("this"))}ObjectExpression(e){e.properties.forEach(e=>{this.parse(e.key),this.parse(e.value)}),this.scope.add(new o.Objekt(e.properties.length,!1))}ArrayExpression(e){e.elements.forEach(e=>{this.parse(e)}),this.scope.add(new o.Array(e.elements.length))}Literal(e){this.scope.add(new o.Literal(e.value))}UnaryExpression(e){this.parse(e.argument),this.scope.add(new o.UnaryExpression(e.operator,e.prefix))}UpdateExpression(e){this.parse(e.argument),this.scope.add(new o.UnaryExpression(e.operator,e.prefix))}BinaryExpression(e){this.parse(e.left),this.scope.add(new o.Deref),this.parse(e.right),this.scope.add(new o.Deref),this.scope.add(new o.BinaryExpression(e.operator)),"."==e.operator&&console.log(e)}LogicalExpression(t){"&&"!=t.operator&&"||"!=t.operator&&this.error("Unimplemented operator "+t.operator);const n=new o.Var("var"),r=(this.scope.add(n),this.scope.add(new o.LookUp(n.id)),this.parse(t.left),this.scope.add(new o.AssignmentExpression("=")),this.scope.add(new o.Pop),new o.Scope);r.debug=t.operator,this.scope.add(r),this.push(r,e=>{this.push(r.addEnterCondition(),e=>{this.scope.add(new o.LookUp(n.id))}),this.push("&&"==t.operator?r:r.addFailEnter(),e=>{this.scope.add(new o.LookUp(n.id)),this.parse(t.right),this.scope.add(new o.AssignmentExpression("=")),this.scope.add(new o.Pop)})}),this.scope.add(new o.LookUp(n.id))}MemberExpression(e){this.parse(e.object),this.scope.add(new o.Deref),e.computed?this.parse(e.property):this.scope.add(new o.Literal(e.property.name)),this.scope.add(new o.BinaryExpression(e.computed?"[]":"."))}CallExpression(e,t){this.parse(e.callee),e.arguments.forEach(e=>{this.parse(e),this.scope.add(new o.Deref)}),this.scope.add(new o.CallExpression(e.arguments.length,!!t))}NewExpression(e){this.CallExpression(e,!0)}ArrowFunctionExpression(e){e=this.FunctionDeclaration(e,!0);this.scope.add(new o.LookUp(e.id))}FunctionExpression(e){e=this.FunctionDeclaration(e);this.scope.add(new o.LookUp(e.id))}MethodDefinition(e){this.FunctionDeclaration(e.value,e.key.name)}FunctionDeclaration(t,e){const a=new o.Method(e||(t.id?t.id.name:void 0));return this.scope.add(a),this.push(a,e=>{const i=new o.Var("var"),s=new o.Var("var","arguments");this.scope.add(i),this.scope.add(s),this.scope.add(new o.LookUp(i.id)),this.scope.add(new o.LookUp(s.id)),this.scope.add(new o.LookUp(a.args.id)),this.scope.add(new o.AssignmentExpression("=")),this.scope.add(new o.Literal("length")),this.scope.add(new o.BinaryExpression(".")),this.scope.add(new o.AssignmentExpression("=")),this.scope.add(new o.Pop),t.params.forEach((t,n)=>{const r=new o.Var("var",t.name,this.getNodeLocation(t));var e;"Identifier"==t.type?(this.scope.add(new o.LookUp(r.id)),this.scope.add(new o.LookUp(s.id)),this.scope.add(new o.Deref),this.scope.add(new o.Literal(n)),this.scope.add(new o.BinaryExpression(".")),this.scope.add(new o.AssignmentExpression("=")),this.scope.add(new o.Pop)):"AssignmentPattern"==t.type&&(r.rename(t.left.name),this.scope.add(new o.LookUp(r.id)),this.scope.add(new o.LookUp(a.args.id)),this.scope.add(new o.Literal(n)),this.scope.add(new o.BinaryExpression(".")),this.scope.add(new o.AssignmentExpression("=")),this.scope.add(new o.Pop),e=new o.Scope,this.scope.add(e),this.push(e.addEnterCondition(),e=>{this.scope.add(new o.LookUp(i.id)),this.scope.add(new o.Literal(n)),this.scope.add(new o.BinaryExpression("<="))}),this.push(e,e=>{this.scope.add(new o.LookUp(r.id)),this.parse(t.right),this.scope.add(new o.AssignmentExpression("=")),this.scope.add(new o.Pop)})),this.scope.add(r)}),this.parse(t.body,a),t.expression&&(this.scope.add(new o.Deref),this.scope.add(new o.Return(!0)))}),a}}},{"./IR.js":1,"./node_modules/esprima/dist/esprima.js":54}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsWriter=function(e,t){return e.sourceAST.map(e=>{var t=["pass/transform-dynamic-to-static-property-access","pass/transform-dynamic-to-static-property-definition","pass/transform-immediate-function-call","pass/transform-logical-association","pass/reordering-function-declarations","pass/remove-unused-label","pass/remove-empty-statement","pass/remove-wasted-blocks","pass/transform-typeof-undefined","pass/reduce-sequence-expression","pass/reduce-branch-jump","pass/reduce-multiple-if-statements","pass/dead-code-elimination","pass/remove-side-effect-free-expressions","pass/remove-context-sensitive-expressions","pass/tree-based-constant-folding","pass/remove-unreachable-branch"].map(e=>i.pass.require(e)),n=["post/transform-static-to-dynamic-property-access"].map(e=>i.pass.require(e)),t=[t,{once:!0,pass:n}];return n=i.optimize(e,t),r.generate(n,{format:{indent:{style:""},quotes:"auto",compact:!0}})}).join("\n")};!function(e,t){if(!t&&e&&e.__esModule)return;if(null===e||"object"!=typeof e&&"function"!=typeof e)return;t=a(t);if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=i?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=e[n])}r.default=e,t&&t.set(e,r)}(e("./IR.js"));function a(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(a=function(e){return e?n:t})(e))}e("esprima");const r=e("escodegen"),i=e("esmangle")},{"./IR.js":1,escodegen:7,esmangle:14,esprima:54}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.JSC=void 0;var r=e("./esProg.js"),i=e("./cppWriter.js"),s=e("./jsWriter.js"),a=e("./jsonWriter.js"),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var s;"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((s=i?Object.getOwnPropertyDescriptor(e,n):null)&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=e[n])}r.default=e,t&&t.set(e,r);return r}(e("./IR.js"));function u(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(u=function(e){return e?n:t})(e))}const c={cpp:i.cppWriter,json:a.jsonWriter,js:s.jsWriter},l={js:[function(e){console.log(JSON.stringify(e,0,4))},r.esAST,r.esProg]};n.JSC=class{constructor(e){var t;this.program=new o.Program,this.opts={},this.dependencies={},this.reader=e,this.lock=!1;for(t of`
                debug, Array,
                rand,
                abs, floor, round, ceil, sqrt,
                cos, sin, atan2, tan,
                min, max,
                vectorLength, angleDifference
                `.trim().split(/\s*,\s*/))this.addSysCall(t)}write(e,t={}){var n=c[e];if(n)return n(this.program,Object.assign({},t,this.opts));throw new Error("No writer for format "+e)}process(){if(!this.lock){this.lock++;let e;do{for(var t in e=!1,this.dependencies){var n=this.dependencies[t];console.log("Dependency ",t),"string"==typeof n&&(e=!0,this.add(t,n),this.dependencies[t]=null)}}while(e);this.lock--}}add(t,e){var n=t.split(".").pop().toLowerCase(),r=l[n];if(!r)throw new Error("No transformer queue for "+n,new Location(t));let i=e;r.forEach(e=>i=e(i,this.program,t,this)||i)}pragma(e){var e=e.trim().split(" "),t=this[e[0]];t&&(e.shift(),t.apply(this,e))}include(e){e in this.dependencies||(this.dependencies[e]=this.reader(e))}ifeq(e,t){this.set("cancel",this.opts[e]!=t)}ifneq(e,t){this.set("cancel",this.opts[e]==t)}getOpt(e){return this.opts[e]}set(e,t){this.opts[e]=t}push(e,...t){let n=this.opts[e];n&&Array.isArray(n)||(n=[],this.opts[e]=n),n.push(...t)}addSysCall(...e){e.forEach(e=>{e=new o.Method(e);e.isNative=!0,this.program.main.add(e)})}}},{"./IR.js":1,"./cppWriter.js":2,"./esProg.js":3,"./jsWriter.js":4,"./jsonWriter.js":6}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonWriter=function(e){return JSON.stringify(e,0,2)}},{}],7:[function(Q,e,ee){!function(Z){!function(){!function(){"use strict";var i,f,m,g,D,y,p,R,l,c,u,U,E,z,x,C,h,v,A,e,t;function q(e){return n.Statement.hasOwnProperty(e.type)}var d,r=Q("estraverse"),F=Q("esutils"),b=r.Syntax,J={"||":(d={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,LogicalOR:3,LogicalAND:4,BitwiseOR:5,BitwiseXOR:6,BitwiseAND:7,Equality:8,Relational:9,BitwiseSHIFT:10,Additive:11,Multiplicative:12,Exponentiation:13,Await:14,Unary:14,Postfix:15,OptionalChaining:16,Call:17,New:18,TaggedTemplate:19,Member:20,Primary:21}).LogicalOR,"&&":d.LogicalAND,"|":d.BitwiseOR,"^":d.BitwiseXOR,"&":d.BitwiseAND,"==":d.Equality,"!=":d.Equality,"===":d.Equality,"!==":d.Equality,is:d.Equality,isnt:d.Equality,"<":d.Relational,">":d.Relational,"<=":d.Relational,">=":d.Relational,in:d.Relational,instanceof:d.Relational,"<<":d.BitwiseSHIFT,">>":d.BitwiseSHIFT,">>>":d.BitwiseSHIFT,"+":d.Additive,"-":d.Additive,"*":d.Multiplicative,"%":d.Multiplicative,"/":d.Multiplicative,"**":d.Exponentiation},S=7,w=1;function W(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:"\n",space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function _(e,t){var n="";for(t|=0;0<t;t>>>=1,e+=e)1&t&&(n+=e);return n}function B(e){var t=e.length;return t&&F.code.isLineTerminator(e.charCodeAt(t-1))}function V(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function s(e,t){var n,r;function i(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}for(n in t)t.hasOwnProperty(n)&&(i(r=t[n])?i(e[n])?s(e[n],r):e[n]=s({},r):e[n]=r);return e}function X(e,t){return 8232==(-2&e)?(t?"u":"\\u")+(8232===e?"2028":"2029"):10===e||13===e?(t?"":"\\")+(10===e?"n":"r"):String.fromCharCode(e)}function $(e){for(var t,n,r,i,s,a,o="",u=0,c=0,l=0,h=e.length;l<h;++l){if(39===(t=e.charCodeAt(l)))++u;else if(34===t)++c;else if(47===t&&g)o+="\\";else{if(F.code.isLineTerminator(t)||92===t){o+=function(e){if(92===e)return"\\\\";if(10===e)return"\\n";if(13===e)return"\\r";if(8232===e)return"\\u2028";if(8233===e)return"\\u2029";throw new Error("Incorrectly classified character")}(t);continue}if(!F.code.isIdentifierPartES5(t)&&(g&&t<32||!g&&!R&&(t<32||126<t))){o+=(i=t,s=e.charCodeAt(l+1),a=void 0,8===i?"\\b":12===i?"\\f":9===i?"\\t":(a=i.toString(16).toUpperCase(),g||255<i?"\\u"+"0000".slice(a.length)+a:0!==i||F.code.isDecimalDigit(s)?11===i?"\\x0B":"\\x"+"00".slice(a.length)+a:"\\0"));continue}}o+=String.fromCharCode(t)}if(r=(n=!("double"===p||"auto"===p&&c<u))?"'":'"',!(n?u:c))return r+o+r;for(e=o,o=r,l=0,h=e.length;l<h;++l)(39===(t=e.charCodeAt(l))&&n||34===t&&!n)&&(o+="\\"),o+=String.fromCharCode(t);return o+r}function k(e,t){if(!h)return Array.isArray(e)?function e(t){for(var n,r="",i=0,s=t.length;i<s;++i)n=t[i],r+=Array.isArray(n)?e(n):n;return r}(e):e;if(null==t){if(e instanceof i)return e;t={}}return null==t.loc?new i(null,null,h,e,t.name||null):new i(t.loc.start.line,t.loc.start.column,!0===h?t.loc.source||null:h,e,t.name||null)}function I(){return c||" "}function N(e,t){var n,r=k(e).toString();return 0===r.length?[t]:0===(n=k(t).toString()).length?[e]:(r=r.charCodeAt(r.length-1),n=n.charCodeAt(0),(43===r||45===r)&&r===n||F.code.isIdentifierPartES5(r)&&F.code.isIdentifierPartES5(n)||47===r&&105===n?[e,I(),t]:F.code.isWhiteSpace(r)||F.code.isLineTerminator(r)||F.code.isWhiteSpace(n)||F.code.isLineTerminator(n)?[e,t]:[e,c,t])}function T(e){return[f,e]}function L(e){var t=f;e(f+=m),f=t}function P(e,t){if("Line"===e.type)return B(e.value)?"//"+e.value:(a="//"+e.value,A||(a+="\n"),a);if(x.format.indent.adjustMultilineComment&&/[\n\r]/.test(e.value)){for(var n,r,i,s,a="/*"+e.value+"*/",o=a.split(/\r\n|[\r\n]/),u=Number.MAX_VALUE,c=1,l=o.length;c<l;++c){for(n=o[c],r=0;r<n.length&&F.code.isWhiteSpace(n.charCodeAt(r));)++r;r<u&&(u=r)}for(void 0!==t?(i=f,"*"===o[1][u]&&(t+=" "),f=t):(1&u&&--u,i=f),c=1,l=o.length;c<l;++c)s=k(T(o[c].slice(u))),o[c]=h?s.join(""):s;return f=i,o.join("\n")}return"/*"+e.value+"*/"}function H(e,t){var n,r,i,s,a,o,u,c,l,h,p,d;if(e.leadingComments&&0<e.leadingComments.length){if(s=t,A){for(t=[],c=(i=e.leadingComments[0]).extendedRange,l=i.range,0<(d=((p=v.substring(c[0],l[0])).match(/\n/g)||[]).length)?(t.push(_("\n",d)),t.push(T(P(i)))):(t.push(p),t.push(P(i))),h=l,n=1,r=e.leadingComments.length;n<r;n++)l=(i=e.leadingComments[n]).range,d=(v.substring(h[1],l[0]).match(/\n/g)||[]).length,t.push(_("\n",d)),t.push(T(P(i))),h=l;d=(v.substring(l[1],c[1]).match(/\n/g)||[]).length,t.push(_("\n",d))}else for(i=e.leadingComments[0],t=[],E&&e.type===b.Program&&0===e.body.length&&t.push("\n"),t.push(P(i)),B(k(t).toString())||t.push("\n"),n=1,r=e.leadingComments.length;n<r;++n)B(k(u=[P(i=e.leadingComments[n])]).toString())||u.push("\n"),t.push(T(u));t.push(T(s))}if(e.trailingComments)if(A)c=(i=e.trailingComments[0]).extendedRange,l=i.range,0<(d=((p=v.substring(c[0],l[0])).match(/\n/g)||[]).length)?(t.push(_("\n",d)),t.push(T(P(i)))):(t.push(p),t.push(P(i)));else for(a=!B(k(t).toString()),o=_(" ",function(e){for(var t=e.length-1;0<=t&&!F.code.isLineTerminator(e.charCodeAt(t));--t);return e.length-1-t}(k([f,t,m]).toString())),n=0,r=e.trailingComments.length;n<r;++n)i=e.trailingComments[n],a?(t=0===n?[t,m]:[t,o]).push(P(i,o)):t=[t,T(P(i))],n===r-1||B(k(t).toString())||(t=[t,"\n"]);return t}function O(e,t,n){for(var r=0,i=e;i<t;i++)"\n"===v[i]&&r++;for(i=1;i<r;i++)n.push(l)}function j(e,t,n){return t<n?["(",e,")"]:e}function K(e){for(var t=e.split(/\r\n|\n/),n=1,r=t.length;n<r;n++)t[n]=l+f+t[n];return t}function n(){}function a(e){return k(e.name,e)}function o(e,t){return e.async?"async"+(t?I():c):""}function M(e){return e.generator&&!x.moz.starlessGenerator?"*"+c:""}function G(e){var t=e.value,n="";return t.async&&(n+=o(t,!e.computed)),t.generator&&(n+=M(t)?"*":""),n}function Y(e){var t=new n;if(q(e))return t.generateStatement(e,w);if(n.Expression.hasOwnProperty(e.type))return t.generateExpression(e,d.Sequence,S);throw new Error("Unknown node type: "+e.type)}n.prototype.maybeBlock=function(e,t){var n,r=this,i=!x.comment||!e.leadingComments;return e.type===b.BlockStatement&&i?[c,this.generateStatement(e,t)]:e.type===b.EmptyStatement&&i?";":(L(function(){n=[l,T(r.generateStatement(e,t))]}),n)},n.prototype.maybeBlockSuffix=function(e,t){var n=B(k(t).toString());return e.type!==b.BlockStatement||x.comment&&e.leadingComments||n?n?[t,f]:[t,l,f]:[t,c]},n.prototype.generatePattern=function(e,t,n){return e.type===b.Identifier?a(e):this.generateExpression(e,t,n)},n.prototype.generateFunctionParams=function(e){var t,n,r,i=!1;if(e.type!==b.ArrowFunctionExpression||e.rest||e.defaults&&0!==e.defaults.length||1!==e.params.length||e.params[0].type!==b.Identifier){for((r=e.type===b.ArrowFunctionExpression?[o(e,!1)]:[]).push("("),e.defaults&&(i=!0),t=0,n=e.params.length;t<n;++t)i&&e.defaults[t]?r.push(this.generateAssignment(e.params[t],e.defaults[t],"=",d.Assignment,S)):r.push(this.generatePattern(e.params[t],d.Assignment,S)),t+1<n&&r.push(","+c);e.rest&&(e.params.length&&r.push(","+c),r.push("..."),r.push(a(e.rest))),r.push(")")}else r=[o(e,!0),a(e.params[0])];return r},n.prototype.generateFunctionBody=function(e){var t,n=this.generateFunctionParams(e);return e.type===b.ArrowFunctionExpression&&(n.push(c),n.push("=>")),e.expression?(n.push(c),"{"===(t=this.generateExpression(e.body,d.Assignment,S)).toString().charAt(0)&&(t=["(",t,")"]),n.push(t)):n.push(this.maybeBlock(e.body,9)),n},n.prototype.generateIterationForStatement=function(e,t,n){var r=["for"+(t.await?I()+"await":"")+c+"("],i=this;return L(function(){t.left.type===b.VariableDeclaration?L(function(){r.push(t.left.kind+I()),r.push(i.generateStatement(t.left.declarations[0],0))}):r.push(i.generateExpression(t.left,d.Call,S)),r=N(r,e),r=[N(r,i.generateExpression(t.right,d.Assignment,S)),")"]}),r.push(this.maybeBlock(t.body,n)),r},n.prototype.generatePropertyKey=function(e,t){var n=[];return t&&n.push("["),n.push(this.generateExpression(e,d.Assignment,S)),t&&n.push("]"),n},n.prototype.generateAssignment=function(e,t,n,r,i){return d.Assignment<r&&(i|=1),j([this.generateExpression(e,d.Call,i),c+n+c,this.generateExpression(t,d.Assignment,i)],d.Assignment,r)},n.prototype.semicolon=function(e){return!U&&32&e?"":";"},V(n.prototype,n.Statement={BlockStatement:function(i,s){var a,o,u=["{",l],c=this;return L(function(){var e,t,n,r;for(0===i.body.length&&A&&2<(a=i.range)[1]-a[0]&&(o=v.substring(a[0]+1,a[1]-1),(u="\n"===o[0]?["{"]:u).push(o)),r=w,8&s&&(r|=16),e=0,t=i.body.length;e<t;++e)A&&(0===e&&(i.body[0].leadingComments&&(a=i.body[0].leadingComments[0].extendedRange,"\n"===(o=v.substring(a[0],a[1]))[0])&&(u=["{"]),i.body[0].leadingComments||O(i.range[0],i.body[0].range[0],u)),0<e)&&(i.body[e-1].trailingComments||i.body[e].leadingComments||O(i.body[e-1].range[1],i.body[e].range[0],u)),e===t-1&&(r|=32),n=i.body[e].leadingComments&&A?c.generateStatement(i.body[e],r):T(c.generateStatement(i.body[e],r)),u.push(n),B(k(n).toString())||A&&e<t-1&&i.body[e+1].leadingComments||u.push(l),!A||e!==t-1||i.body[e].trailingComments||O(i.body[e].range[1],i.range[1],u)}),u.push(T("}")),u},BreakStatement:function(e,t){return e.label?"break "+e.label.name+this.semicolon(t):"break"+this.semicolon(t)},ContinueStatement:function(e,t){return e.label?"continue "+e.label.name+this.semicolon(t):"continue"+this.semicolon(t)},ClassBody:function(r,e){var i=["{",l],s=this;return L(function(e){for(var t=0,n=r.body.length;t<n;++t)i.push(e),i.push(s.generateExpression(r.body[t],d.Sequence,S)),t+1<n&&i.push(l)}),B(k(i).toString())||i.push(l),i.push(f),i.push("}"),i},ClassDeclaration:function(e,t){var n,r=["class"];return e.id&&(r=N(r,this.generateExpression(e.id,d.Sequence,S))),e.superClass&&(n=N("extends",this.generateExpression(e.superClass,d.Unary,S)),r=N(r,n)),r.push(c),r.push(this.generateStatement(e.body,33)),r},DirectiveStatement:function(e,t){return x.raw&&e.raw?e.raw+this.semicolon(t):function(e){for(var t,n="double"===p?'"':"'",r=0,i=e.length;r<i;++r){if(39===(t=e.charCodeAt(r))){n='"';break}if(34===t){n="'";break}92===t&&++r}return n+e+n}(e.directive)+this.semicolon(t)},DoWhileStatement:function(e,t){var n=N("do",this.maybeBlock(e.body,w));return N(this.maybeBlockSuffix(e.body,n),["while"+c+"(",this.generateExpression(e.test,d.Sequence,S),")"+this.semicolon(t)])},CatchClause:function(t,e){var n,r=this;return L(function(){var e;t.param?(n=["catch"+c+"(",r.generateExpression(t.param,d.Sequence,S),")"],t.guard&&(e=r.generateExpression(t.guard,d.Sequence,S),n.splice(2,0," if ",e))):n=["catch"]}),n.push(this.maybeBlock(t.body,w)),n},DebuggerStatement:function(e,t){return"debugger"+this.semicolon(t)},EmptyStatement:function(e,t){return";"},ExportDefaultDeclaration:function(e,t){var n=32&t?33:w,r=N(r=["export"],"default");return r=q(e.declaration)?N(r,this.generateStatement(e.declaration,n)):N(r,this.generateExpression(e.declaration,d.Assignment,S)+this.semicolon(t))},ExportNamedDeclaration:function(r,e){var i=["export"],s=this,t=32&e?33:w;return r.declaration?N(i,this.generateStatement(r.declaration,t)):(r.specifiers&&(0===r.specifiers.length?i=N(i,"{"+c+"}"):r.specifiers[0].type===b.ExportBatchSpecifier?i=N(i,this.generateExpression(r.specifiers[0],d.Sequence,S)):(i=N(i,"{"),L(function(e){var t,n;for(i.push(l),t=0,n=r.specifiers.length;t<n;++t)i.push(e),i.push(s.generateExpression(r.specifiers[t],d.Sequence,S)),t+1<n&&i.push(","+l)}),B(k(i).toString())||i.push(l),i.push(f+"}")),r.source?i=N(i,["from"+c,this.generateExpression(r.source,d.Sequence,S),this.semicolon(e)]):i.push(this.semicolon(e))),i)},ExportAllDeclaration:function(e,t){return["export"+c,"*"+c,"from"+c,this.generateExpression(e.source,d.Sequence,S),this.semicolon(t)]},ExpressionStatement:function(e,t){var n,r,i;return n=[this.generateExpression(e.expression,d.Sequence,S)],123===(r=k(n).toString()).charCodeAt(0)||"class"===(i=r).slice(0,5)&&(123===(i=i.charCodeAt(5))||F.code.isWhiteSpace(i)||F.code.isLineTerminator(i))||"function"===(i=r).slice(0,8)&&(40===(i=i.charCodeAt(8))||F.code.isWhiteSpace(i)||42===i||F.code.isLineTerminator(i))||function(e){var t,n,r;if("async"===e.slice(0,5)&&F.code.isWhiteSpace(e.charCodeAt(5))){for(n=6,r=e.length;n<r&&F.code.isWhiteSpace(e.charCodeAt(n));++n);return n!==r?"function"===e.slice(n,n+8)&&(40===(t=e.charCodeAt(n+8))||F.code.isWhiteSpace(t)||42===t||F.code.isLineTerminator(t)):void 0}}(r)||z&&16&t&&e.expression.type===b.Literal&&"string"==typeof e.expression.value?n=["(",n,")"+this.semicolon(t)]:n.push(this.semicolon(t)),n},ImportDeclaration:function(r,e){var i,s,a=this;return 0===r.specifiers.length?["import",c,this.generateExpression(r.source,d.Sequence,S),this.semicolon(e)]:(i=["import"],s=0,r.specifiers[s].type===b.ImportDefaultSpecifier&&(i=N(i,[this.generateExpression(r.specifiers[s],d.Sequence,S)]),++s),r.specifiers[s]&&(0!==s&&i.push(","),r.specifiers[s].type===b.ImportNamespaceSpecifier?i=N(i,[c,this.generateExpression(r.specifiers[s],d.Sequence,S)]):(i.push(c+"{"),r.specifiers.length-s==1?(i.push(c),i.push(this.generateExpression(r.specifiers[s],d.Sequence,S)),i.push(c+"}"+c)):(L(function(e){var t,n;for(i.push(l),t=s,n=r.specifiers.length;t<n;++t)i.push(e),i.push(a.generateExpression(r.specifiers[t],d.Sequence,S)),t+1<n&&i.push(","+l)}),B(k(i).toString())||i.push(l),i.push(f+"}"+c)))),i=N(i,["from"+c,this.generateExpression(r.source,d.Sequence,S),this.semicolon(e)]))},VariableDeclarator:function(e,t){t=1&t?S:6;return e.init?[this.generateExpression(e.id,d.Assignment,t),c,"=",c,this.generateExpression(e.init,d.Assignment,t)]:this.generatePattern(e.id,d.Assignment,t)},VariableDeclaration:function(e,t){var n,r,i,s,a,o=this;function u(){for(s=e.declarations[0],x.comment&&s.leadingComments?(n.push("\n"),n.push(T(o.generateStatement(s,a)))):(n.push(I()),n.push(o.generateStatement(s,a))),r=1,i=e.declarations.length;r<i;++r)s=e.declarations[r],x.comment&&s.leadingComments?(n.push(","+l),n.push(T(o.generateStatement(s,a)))):(n.push(","+c),n.push(o.generateStatement(s,a)))}return n=[e.kind],a=1&t?w:0,1<e.declarations.length?L(u):u(),n.push(this.semicolon(t)),n},ThrowStatement:function(e,t){return[N("throw",this.generateExpression(e.argument,d.Sequence,S)),this.semicolon(t)]},TryStatement:function(e,t){var n,r,i,s=["try",this.maybeBlock(e.block,w)];if(s=this.maybeBlockSuffix(e.block,s),e.handlers)for(n=0,r=e.handlers.length;n<r;++n)s=N(s,this.generateStatement(e.handlers[n],w)),!e.finalizer&&n+1===r||(s=this.maybeBlockSuffix(e.handlers[n].body,s));else{for(n=0,r=(i=e.guardedHandlers||[]).length;n<r;++n)s=N(s,this.generateStatement(i[n],w)),!e.finalizer&&n+1===r||(s=this.maybeBlockSuffix(i[n].body,s));if(e.handler)if(Array.isArray(e.handler))for(n=0,r=e.handler.length;n<r;++n)s=N(s,this.generateStatement(e.handler[n],w)),!e.finalizer&&n+1===r||(s=this.maybeBlockSuffix(e.handler[n].body,s));else s=N(s,this.generateStatement(e.handler,w)),e.finalizer&&(s=this.maybeBlockSuffix(e.handler.body,s))}return s=e.finalizer?N(s,["finally",this.maybeBlock(e.finalizer,w)]):s},SwitchStatement:function(e,t){var n,r,i,s,a,o=this;if(L(function(){n=["switch"+c+"(",o.generateExpression(e.discriminant,d.Sequence,S),")"+c+"{"+l]}),e.cases)for(a=w,i=0,s=e.cases.length;i<s;++i)i===s-1&&(a|=32),r=T(this.generateStatement(e.cases[i],a)),n.push(r),B(k(r).toString())||n.push(l);return n.push(T("}")),n},SwitchCase:function(e,t){var n,r,i,s,a,o=this;return L(function(){for(n=e.test?[N("case",o.generateExpression(e.test,d.Sequence,S)),":"]:["default:"],i=0,(s=e.consequent.length)&&e.consequent[0].type===b.BlockStatement&&(r=o.maybeBlock(e.consequent[0],w),n.push(r),i=1),i===s||B(k(n).toString())||n.push(l),a=w;i<s;++i)i===s-1&&32&t&&(a|=32),r=T(o.generateStatement(e.consequent[i],a)),n.push(r),i+1===s||B(k(r).toString())||n.push(l)}),n},IfStatement:function(e,t){var n,r,i=this;return L(function(){n=["if"+c+"(",i.generateExpression(e.test,d.Sequence,S),")"]}),r=w,32&t&&(r|=32),e.alternate?(n.push(this.maybeBlock(e.consequent,w)),n=this.maybeBlockSuffix(e.consequent,n),n=e.alternate.type===b.IfStatement?N(n,["else ",this.generateStatement(e.alternate,r)]):N(n,N("else",this.maybeBlock(e.alternate,r)))):n.push(this.maybeBlock(e.consequent,r)),n},ForStatement:function(e,t){var n,r=this;return L(function(){n=["for"+c+"("],e.init?e.init.type===b.VariableDeclaration?n.push(r.generateStatement(e.init,0)):(n.push(r.generateExpression(e.init,d.Sequence,6)),n.push(";")):n.push(";"),e.test&&(n.push(c),n.push(r.generateExpression(e.test,d.Sequence,S))),n.push(";"),e.update&&(n.push(c),n.push(r.generateExpression(e.update,d.Sequence,S))),n.push(")")}),n.push(this.maybeBlock(e.body,32&t?33:w)),n},ForInStatement:function(e,t){return this.generateIterationForStatement("in",e,32&t?33:w)},ForOfStatement:function(e,t){return this.generateIterationForStatement("of",e,32&t?33:w)},LabeledStatement:function(e,t){return[e.label.name+":",this.maybeBlock(e.body,32&t?33:w)]},Program:function(e,t){for(var n,r=e.body.length,i=[E&&0<r?"\n":""],s=17,a=0;a<r;++a)E||a!==r-1||(s|=32),A&&(0!==a||e.body[0].leadingComments||O(e.range[0],e.body[a].range[0],i),0<a)&&(e.body[a-1].trailingComments||e.body[a].leadingComments||O(e.body[a-1].range[1],e.body[a].range[0],i)),n=T(this.generateStatement(e.body[a],s)),i.push(n),a+1<r&&!B(k(n).toString())&&(A&&e.body[a+1].leadingComments||i.push(l)),!A||a!==r-1||e.body[a].trailingComments||O(e.body[a].range[1],e.range[1],i);return i},FunctionDeclaration:function(e,t){return[o(e,!0),"function",M(e)||I(),e.id?a(e.id):"",this.generateFunctionBody(e)]},ReturnStatement:function(e,t){return e.argument?[N("return",this.generateExpression(e.argument,d.Sequence,S)),this.semicolon(t)]:["return"+this.semicolon(t)]},WhileStatement:function(e,t){var n,r=this;return L(function(){n=["while"+c+"(",r.generateExpression(e.test,d.Sequence,S),")"]}),n.push(this.maybeBlock(e.body,32&t?33:w)),n},WithStatement:function(e,t){var n,r=this;return L(function(){n=["with"+c+"(",r.generateExpression(e.object,d.Sequence,S),")"]}),n.push(this.maybeBlock(e.body,32&t?33:w)),n}}),V(n.prototype,n.Expression={SequenceExpression:function(e,t,n){var r,i,s;for(d.Sequence<t&&(n|=1),r=[],i=0,s=e.expressions.length;i<s;++i)r.push(this.generateExpression(e.expressions[i],d.Assignment,n)),i+1<s&&r.push(","+c);return j(r,d.Sequence,t)},AssignmentExpression:function(e,t,n){return this.generateAssignment(e.left,e.right,e.operator,t,n)},ArrowFunctionExpression:function(e,t,n){return j(this.generateFunctionBody(e),d.ArrowFunction,t)},ConditionalExpression:function(e,t,n){return d.Conditional<t&&(n|=1),j([this.generateExpression(e.test,d.LogicalOR,n),c+"?"+c,this.generateExpression(e.consequent,d.Assignment,n),c+":"+c,this.generateExpression(e.alternate,d.Assignment,n)],d.Conditional,t)},LogicalExpression:function(e,t,n){return this.BinaryExpression(e,t,n)},BinaryExpression:function(e,t,n){var r,i=J[e.operator],s="**"===e.operator?d.Postfix:i,a="**"===e.operator?i:i+1;return i<t&&(n|=1),r=47===(r=(s=this.generateExpression(e.left,s,n)).toString()).charCodeAt(r.length-1)&&F.code.isIdentifierPartES5(e.operator.charCodeAt(0))?[s,I(),e.operator]:N(s,e.operator),s=this.generateExpression(e.right,a,n),"/"===e.operator&&"/"===s.toString().charAt(0)||"<"===e.operator.slice(-1)&&"!--"===s.toString().slice(0,3)?(r.push(I()),r.push(s)):r=N(r,s),"in"!==e.operator||1&n?j(r,i,t):["(",r,")"]},CallExpression:function(e,t,n){var r,i,s=[this.generateExpression(e.callee,d.Call,3)];for(e.optional&&s.push("?."),s.push("("),r=0,i=e.arguments.length;r<i;++r)s.push(this.generateExpression(e.arguments[r],d.Assignment,S)),r+1<i&&s.push(","+c);return s.push(")"),2&n?j(s,d.Call,t):["(",s,")"]},ChainExpression:function(e,t,n){return d.OptionalChaining<t&&(n|=2),j(this.generateExpression(e.expression,d.OptionalChaining,n),d.OptionalChaining,t)},NewExpression:function(e,t,n){var r,i,s=e.arguments.length,a=4&n&&!u&&0===s?5:1,o=N("new",this.generateExpression(e.callee,d.New,a));if(!(4&n)||u||0<s){for(o.push("("),r=0,i=s;r<i;++r)o.push(this.generateExpression(e.arguments[r],d.Assignment,S)),r+1<i&&o.push(","+c);o.push(")")}return j(o,d.New,t)},MemberExpression:function(e,t,n){var r=[this.generateExpression(e.object,d.Call,2&n?3:1)];return e.computed?(e.optional&&r.push("?."),r.push("["),r.push(this.generateExpression(e.property,d.Sequence,2&n?S:5)),r.push("]")):(e.optional||e.object.type!==b.Literal||"number"!=typeof e.object.value||(n=k(r).toString()).indexOf(".")<0&&!/[eExX]/.test(n)&&F.code.isDecimalDigit(n.charCodeAt(n.length-1))&&!(2<=n.length&&48===n.charCodeAt(0))&&r.push(" "),r.push(e.optional?"?.":"."),r.push(a(e.property))),j(r,d.Member,t)},MetaProperty:function(e,t,n){var r=[];return r.push("string"==typeof e.meta?e.meta:a(e.meta)),r.push("."),r.push("string"==typeof e.property?e.property:a(e.property)),j(r,d.Member,t)},UnaryExpression:function(e,t,n){var r,i,s=this.generateExpression(e.argument,d.Unary,S);return""===c?r=N(e.operator,s):(r=[e.operator],2<e.operator.length?r=N(r,s):(e=(e=k(r).toString()).charCodeAt(e.length-1),i=s.toString().charCodeAt(0),((43===e||45===e)&&e===i||F.code.isIdentifierPartES5(e)&&F.code.isIdentifierPartES5(i))&&r.push(I()),r.push(s))),j(r,d.Unary,t)},YieldExpression:function(e,t,n){var r=e.delegate?"yield*":"yield";return j(r=e.argument?N(r,this.generateExpression(e.argument,d.Yield,S)):r,d.Yield,t)},AwaitExpression:function(e,t,n){return j(N(e.all?"await*":"await",this.generateExpression(e.argument,d.Await,S)),d.Await,t)},UpdateExpression:function(e,t,n){return e.prefix?j([e.operator,this.generateExpression(e.argument,d.Unary,S)],d.Unary,t):j([this.generateExpression(e.argument,d.Postfix,S),e.operator],d.Postfix,t)},FunctionExpression:function(e,t,n){var r=[o(e,!0),"function"];return e.id?(r.push(M(e)||I()),r.push(a(e.id))):r.push(M(e)||c),r.push(this.generateFunctionBody(e)),r},ArrayPattern:function(e,t,n){return this.ArrayExpression(e,t,n,!0)},ArrayExpression:function(r,e,t,n){var i,s,a=this;return r.elements.length?(s=!n&&1<r.elements.length,i=["[",s?l:""],L(function(e){for(var t=0,n=r.elements.length;t<n;++t)r.elements[t]?(i.push(s?e:""),i.push(a.generateExpression(r.elements[t],d.Assignment,S))):(s&&i.push(e),t+1===n&&i.push(",")),t+1<n&&i.push(","+(s?l:c))}),s&&!B(k(i).toString())&&i.push(l),i.push(s?f:""),i.push("]"),i):"[]"},RestElement:function(e,t,n){return"..."+this.generatePattern(e.argument)},ClassExpression:function(e,t,n){var r,i=["class"];return e.id&&(i=N(i,this.generateExpression(e.id,d.Sequence,S))),e.superClass&&(r=N("extends",this.generateExpression(e.superClass,d.Unary,S)),i=N(i,r)),i.push(c),i.push(this.generateStatement(e.body,33)),i},MethodDefinition:function(e,t,n){var r=e.static?["static"+c]:[],e="get"===e.kind||"set"===e.kind?[N(e.kind,this.generatePropertyKey(e.key,e.computed)),this.generateFunctionBody(e.value)]:[G(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)];return N(r,e)},Property:function(e,t,n){return"get"===e.kind||"set"===e.kind?[e.kind,I(),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:e.shorthand?"AssignmentPattern"===e.value.type?this.AssignmentPattern(e.value,d.Sequence,S):this.generatePropertyKey(e.key,e.computed):e.method?[G(e),this.generatePropertyKey(e.key,e.computed),this.generateFunctionBody(e.value)]:[this.generatePropertyKey(e.key,e.computed),":"+c,this.generateExpression(e.value,d.Assignment,S)]},ObjectExpression:function(r,e,t){var i,s,a,o=this;return r.properties.length?(i=1<r.properties.length,L(function(){a=o.generateExpression(r.properties[0],d.Sequence,S)}),i||/[\r\n]/g.test(k(a).toString())?(L(function(e){var t,n;if(s=["{",l,e,a],i)for(s.push(","+l),t=1,n=r.properties.length;t<n;++t)s.push(e),s.push(o.generateExpression(r.properties[t],d.Sequence,S)),t+1<n&&s.push(","+l)}),B(k(s).toString())||s.push(l),s.push(f),s.push("}"),s):["{",c,a,c,"}"]):"{}"},AssignmentPattern:function(e,t,n){return this.generateAssignment(e.left,e.right,"=",t,n)},ObjectPattern:function(r,e,t){var i,n,s,a,o,u=this;if(!r.properties.length)return"{}";if(a=!1,1===r.properties.length)(o=r.properties[0]).type===b.Property&&o.value.type!==b.Identifier&&(a=!0);else for(n=0,s=r.properties.length;n<s;++n)if((o=r.properties[n]).type===b.Property&&!o.shorthand){a=!0;break}return i=["{",a?l:""],L(function(e){for(var t=0,n=r.properties.length;t<n;++t)i.push(a?e:""),i.push(u.generateExpression(r.properties[t],d.Sequence,S)),t+1<n&&i.push(","+(a?l:c))}),a&&!B(k(i).toString())&&i.push(l),i.push(a?f:""),i.push("}"),i},ThisExpression:function(e,t,n){return"this"},Super:function(e,t,n){return"super"},Identifier:a,ImportDefaultSpecifier:function(e,t,n){return a(e.id||e.local)},ImportNamespaceSpecifier:function(e,t,n){var r=["*"],e=e.id||e.local;return e&&r.push(c+"as"+I()+a(e)),r},ImportSpecifier:function(e,t,n){var r=e.imported,i=[r.name],e=e.local;return e&&e.name!==r.name&&i.push(I()+"as"+I()+a(e)),i},ExportSpecifier:function(e,t,n){var r=e.local,i=[r.name],e=e.exported;return e&&e.name!==r.name&&i.push(I()+"as"+I()+a(e)),i},Literal:function(e,t,n){if(e.hasOwnProperty("raw")&&C&&x.raw)try{if((o=C(e.raw).body[0].expression).type===b.Literal&&o.value===e.value)return e.raw}catch(e){}if(e.regex)return"/"+e.regex.pattern+"/"+e.regex.flags;if(null===e.value)return"null";if("string"==typeof e.value)return $(e.value);if("number"==typeof e.value){var r,i,s,a,o=e.value;if(o!=o)throw new Error("Numeric literal whose value is NaN");if(o<0||0===o&&1/o<0)throw new Error("Numeric literal whose value is negative");if(o===1/0)return g?"null":D?"1e400":"1e+400";if(r=""+o,D&&!(r.length<3)){for(u=r.indexOf("."),g||48!==r.charCodeAt(0)||1!==u||(u=0,r=r.slice(1)),r=(i=r).replace("e+","e"),(s=0)<(a=i.indexOf("e"))&&(s=+i.slice(a+1),i=i.slice(0,a)),0<=u&&(s-=i.length-u-1,i=+(i.slice(0,u)+i.slice(u+1))+""),a=0;48===i.charCodeAt(i.length+a-1);)--a;0!==a&&(s-=a,i=i.slice(0,a)),0!==s&&(i+="e"+s),(i.length<r.length||y&&1e12<o&&Math.floor(o)===o&&(i="0x"+o.toString(16)).length<r.length)&&+i===o&&(r=i)}return r}if("boolean"==typeof e.value)return e.value?"true":"false";var u,c,l,h,p,d,f=e.value,m=f.toString();if(f.source){if(!(u=m.match(/\/([^/]*)$/)))return m;for(u=u[1],m="",d=p=!1,c=0,l=f.source.length;c<l;++c)h=f.source.charCodeAt(c),d=d?(m+=X(h,d),!1):(p?93===h&&(p=!1):47===h?m+="\\":91===h&&(p=!0),m+=X(h,d),92===h);return"/"+m+"/"+u}return m},GeneratorExpression:function(e,t,n){return this.ComprehensionExpression(e,t,n)},ComprehensionExpression:function(e,t,n){var r,i,s,a=this,o=e.type===b.GeneratorExpression?["("]:["["];return x.moz.comprehensionExpressionStartsWithAssignment&&(s=this.generateExpression(e.body,d.Assignment,S),o.push(s)),e.blocks&&L(function(){for(r=0,i=e.blocks.length;r<i;++r)s=a.generateExpression(e.blocks[r],d.Sequence,S),0<r||x.moz.comprehensionExpressionStartsWithAssignment?o=N(o,s):o.push(s)}),e.filter&&(o=N(o,"if"+c),s=this.generateExpression(e.filter,d.Sequence,S),o=N(o,["(",s,")"])),x.moz.comprehensionExpressionStartsWithAssignment||(s=this.generateExpression(e.body,d.Assignment,S),o=N(o,s)),o.push(e.type===b.GeneratorExpression?")":"]"),o},ComprehensionBlock:function(e,t,n){var r=e.left.type===b.VariableDeclaration?[e.left.kind,I(),this.generateStatement(e.left.declarations[0],0)]:this.generateExpression(e.left,d.Call,S);return r=N(r,e.of?"of":"in"),r=N(r,this.generateExpression(e.right,d.Sequence,S)),["for"+c+"(",r,")"]},SpreadElement:function(e,t,n){return["...",this.generateExpression(e.argument,d.Assignment,S)]},TaggedTemplateExpression:function(e,t,n){var r=3;return j([this.generateExpression(e.tag,d.Call,r=2&n?r:1),this.generateExpression(e.quasi,d.Primary,4)],d.TaggedTemplate,t)},TemplateElement:function(e,t,n){return e.value.raw},TemplateLiteral:function(e,t,n){for(var r=["`"],i=0,s=e.quasis.length;i<s;++i)r.push(this.generateExpression(e.quasis[i],d.Primary,S)),i+1<s&&(r.push("${"+c),r.push(this.generateExpression(e.expressions[i],d.Sequence,S)),r.push(c+"}"));return r.push("`"),r},ModuleSpecifier:function(e,t,n){return this.Literal(e,t,n)},ImportExpression:function(e,t,n){return j(["import(",this.generateExpression(e.source,d.Assignment,S),")"],d.Call,t)}}),n.prototype.generateExpression=function(e,t,n){var r,i,s,a=e.type||b.Property;return x.verbatim&&e.hasOwnProperty(x.verbatim)?(i=t,s=(r=e)[x.verbatim],k("string"==typeof s?j(K(s),d.Sequence,i):j(K(s.content),null!=s.precedence?s.precedence:d.Sequence,i),r)):(s=this[a](e,t,n),k(s=x.comment?H(e,s):s,e))},e={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!(n.prototype.generateStatement=function(e,t){var t=this[e.type](e,t),n=k(t=x.comment?H(e,t):t).toString();return e.type!==b.Program||E||""!==l||"\n"!==n.charAt(n.length-1)||(t=h?k(t).replaceRight(/\s+$/,""):n.replace(/\s+$/,"")),k(t,e)}),semicolons:!1},t=W().format,ee.version=Q("./package.json").version,ee.generate=function(e,t){var n,r=W();return f=null!=t?("string"==typeof t.indent&&(r.format.indent.style=t.indent),"number"==typeof t.base&&(r.format.indent.base=t.base),t=s(r,t),m=t.format.indent.style,"string"==typeof t.base?t.base:_(m,t.format.indent.base)):_(m=(t=r).format.indent.style,t.format.indent.base),g=t.format.json,D=t.format.renumber,y=!g&&t.format.hexadecimal,p=g?"double":t.format.quotes,R=t.format.escapeless,l=t.format.newline,c=t.format.space,t.format.compact&&(l=c=m=f=""),u=t.format.parentheses,U=t.format.semicolons,E=t.format.safeConcatenation,z=t.directive,C=g?null:t.parse,h=t.sourceMap,v=t.sourceCode,A=t.format.preserveBlankLines&&null!==v,x=t,h&&(i=(ee.browser?Z.sourceMap:Q("source-map")).SourceNode),r=Y(e),h?(n=r.toStringWithSourceMap({file:t.file,sourceRoot:t.sourceMapRoot}),t.sourceContent&&n.map.setSourceContent(t.sourceMap,t.sourceContent),t.sourceMapWithCode?n:n.map.toString()):(n={code:r.toString(),map:null},t.sourceMapWithCode?n:n.code)},ee.attachComments=r.attachComments,ee.Precedence=s({},d),ee.browser=!1,ee.FORMAT_MINIFY=e,ee.FORMAT_DEFAULTS=t}()}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./package.json":8,estraverse:61,esutils:65,"source-map":76}],8:[function(e,t,n){t.exports={name:"escodegen",description:"ECMAScript code generator",homepage:"http://github.com/estools/escodegen",main:"escodegen.js",bin:{esgenerate:"./bin/esgenerate.js",escodegen:"./bin/escodegen.js"},files:["LICENSE.BSD","README.md","bin","escodegen.js","package.json"],version:"2.0.0",engines:{node:">=6.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/escodegen.git"},dependencies:{estraverse:"^5.2.0",esutils:"^2.0.2",esprima:"^4.0.1",optionator:"^0.8.1"},optionalDependencies:{"source-map":"~0.6.1"},devDependencies:{acorn:"^7.3.1",bluebird:"^3.4.7","bower-registry-client":"^1.0.0",chai:"^4.2.0","chai-exclude":"^2.0.2","commonjs-everywhere":"^0.9.7",gulp:"^3.8.10","gulp-eslint":"^3.0.1","gulp-mocha":"^3.0.1",semver:"^5.1.0"},license:"BSD-2-Clause",scripts:{test:"gulp travis","unit-test":"gulp test",lint:"gulp lint",release:"node tools/release.js","build-min":"./node_modules/.bin/cjsify -ma path: tools/entry-point.js > escodegen.browser.min.js",build:"./node_modules/.bin/cjsify -a path: tools/entry-point.js > escodegen.browser.js"}}},{}],9:[function(e,t,i){!function(n,r){"use strict";"function"==typeof define&&define.amd?define("escope",["exports","estraverse"],function(e,t){n(e,r,t)}):void 0!==i?n(i,r,e("estraverse")):n(function(e,t){for(var n,r=e.split("."),i=0,s=r.length;i<s;++i)n=r[i],t=t.hasOwnProperty(n)?t[n]:t[n]={};return t}("escope",r),r,r.estraverse)}(function(e,t,n){"use strict";var o,r,a,i,u;function s(e,t){if(!e)throw new Error(t)}function c(e,t,n,r,i){this.identifier=e,this.from=t,this.tainted=!1,this.resolved=null,this.flag=n,this.isWrite()&&(this.writeExpr=r),this.__maybeImplicitGlobal=i}function l(e,t){this.name=e,this.identifiers=[],this.references=[],this.defs=[],this.tainted=!1,this.stack=!0,this.scope=t}function h(e,t){this.type=e.type===o.CatchClause?"catch":e.type===o.WithStatement?"with":e.type===o.Program?"global":"function",this.set=new r,this.taints=new r,this.dynamic="global"===this.type||"with"===this.type,this.block=e,this.through=[],this.variables=[],this.references=[],this.left=[],this.variableScope="global"===this.type||"function"===this.type?this:a.variableScope,this.functionExpressionScope=!1,this.directCallToEvalScope=!1,this.thisFound=!1,"function"===this.type&&e.body,t.naming?(this.__define(e.id,{type:l.FunctionName,name:e.id,node:e}),this.functionExpressionScope=!0):("function"===this.type&&(t=new l("arguments",this),this.taints.set("arguments",!0),this.set.set("arguments",t),this.variables.push(t)),e.type===o.FunctionExpression&&e.id&&new h(e,{naming:!0})),this.upper=a,this.isStrict=function(e,t){var n,r,i,s,a;if(e.upper&&e.upper.isStrict)return!0;if("function"===e.type)n=t.body;else{if("global"!==e.type)return!1;n=t}if(u.directive){for(r=0,i=n.body.length;r<i&&"DirectiveStatement"===(s=n.body[r]).type;++r)if('"use strict"'===s.raw||"'use strict'"===s.raw)return!0}else for(r=0,i=n.body.length;r<i&&(s=n.body[r]).type===o.ExpressionStatement&&((a=s.expression).type===o.Literal&&"string"==typeof a.value);++r)if(null!=a.raw){if('"use strict"'===a.raw||"'use strict'"===a.raw)return!0}else if("use strict"===a.value)return!0;return!1}(this,e),this.childScopes=[],a&&a.childScopes.push(this),"global"===(a=this).type&&(this.implicit={set:new r,variables:[]}),i.push(this)}function p(e){this.scopes=e,this.attached=!1}o=n.Syntax,void 0!==t.Map?r=t.Map:((r=function(){this.__data={}}).prototype.get=function(e){if(this.__data.hasOwnProperty(e="$"+e))return this.__data[e]},r.prototype.has=function(e){return this.__data.hasOwnProperty(e="$"+e)},r.prototype.set=function(e,t){this.__data[e="$"+e]=t},r.prototype.delete=function(e){return delete this.__data[e="$"+e]}),c.READ=1,c.WRITE=2,c.RW=3,c.prototype.isStatic=function(){return!this.tainted&&this.resolved&&this.resolved.scope.isStatic()},c.prototype.isWrite=function(){return this.flag&c.WRITE},c.prototype.isRead=function(){return this.flag&c.READ},c.prototype.isReadOnly=function(){return this.flag===c.READ},c.prototype.isWriteOnly=function(){return this.flag===c.WRITE},c.prototype.isReadWrite=function(){return this.flag===c.RW},l.CatchClause="CatchClause",l.Parameter="Parameter",l.FunctionName="FunctionName",l.Variable="Variable",l.ImplicitGlobalVariable="ImplicitGlobalVariable",h.prototype.__close=function(){var e,t,n,r,i,s;if(!this.dynamic||u.optimistic)for(e=0,t=this.left.length;e<t;++e)n=this.left[e],this.__resolve(n)||this.__delegateToUpperScope(n);else if("with"===this.type)for(e=0,t=this.left.length;e<t;++e)(n=this.left[e]).tainted=!0,this.__delegateToUpperScope(n);else for(e=0,t=this.left.length;e<t;++e)for(n=this.left[e],r=this;r.through.push(n),r=r.upper;);if("global"===this.type){for(s=[],e=0,t=this.left.length;e<t;++e)(n=this.left[e]).__maybeImplicitGlobal&&!this.set.has(n.identifier.name)&&s.push(n.__maybeImplicitGlobal);for(e=0,t=s.length;e<t;++e)this.__defineImplicit((i=s[e]).left,{type:l.ImplicitGlobalVariable,name:i.left,node:i})}this.left=null,a=this.upper},h.prototype.__resolve=function(e){var t=e.identifier.name;return!!this.set.has(t)&&((t=this.set.get(t)).references.push(e),t.stack=t.stack&&e.from.variableScope===this.variableScope,e.tainted&&(t.tainted=!0,this.taints.set(t.name,!0)),e.resolved=t,!0)},h.prototype.__delegateToUpperScope=function(e){this.upper&&this.upper.left.push(e),this.through.push(e)},h.prototype.__defineImplicit=function(e,t){var n,r;e&&e.type===o.Identifier&&(n=e.name,this.implicit.set.has(n)?((r=this.implicit.set.get(n)).identifiers.push(e),r.defs.push(t)):((r=new l(n,this)).identifiers.push(e),r.defs.push(t),this.implicit.set.set(n,r),this.implicit.variables.push(r)))},h.prototype.__define=function(e,t){var n,r;e&&e.type===o.Identifier&&(n=e.name,this.set.has(n)?((r=this.set.get(n)).identifiers.push(e),r.defs.push(t)):((r=new l(n,this)).identifiers.push(e),r.defs.push(t),this.set.set(n,r),this.variables.push(r)))},h.prototype.__referencing=function(e,t,n,r){e&&e.type===o.Identifier&&(e=new c(e,this,t||c.READ,n,r),this.references.push(e),this.left.push(e))},h.prototype.__detectEval=function(){var e=this;for(this.directCallToEvalScope=!0;e.dynamic=!0,e=e.upper;);},h.prototype.__detectThis=function(){this.thisFound=!0},h.prototype.__isClosed=function(){return null===this.left},h.prototype.resolve=function(e){var t,n,r;for(s(this.__isClosed(),"scope should be closed"),s(e.type===o.Identifier,"target should be identifier"),n=0,r=this.references.length;n<r;++n)if((t=this.references[n]).identifier===e)return t;return null},h.prototype.isStatic=function(){return!this.dynamic},h.prototype.isArgumentsMaterialized=function(){var e;return"function"!==this.type||!this.isStatic()||(s(e=this.set.get("arguments"),"always have arguments variable"),e.tainted)||0!==e.references.length},h.prototype.isThisMaterialized=function(){return"function"!==this.type||!this.isStatic()||this.thisFound},h.mangledName="__$escope$__",h.prototype.attach=function(){this.functionExpressionScope||(this.block[h.mangledName]=this)},h.prototype.detach=function(){this.functionExpressionScope||delete this.block[h.mangledName]},h.prototype.isUsedName=function(e){if(this.set.has(e))return!0;for(var t=0,n=this.through.length;t<n;++t)if(this.through[t].identifier.name===e)return!0;return!1},p.prototype.__get=function(e){var t,n,r;if(this.attached)return e[h.mangledName]||null;if(h.isScopeRequired(e))for(t=0,n=this.scopes.length;t<n;++t)if(!(r=this.scopes[t]).functionExpressionScope&&r.block===e)return r;return null},p.prototype.acquire=function(e){return this.__get(e)},p.prototype.release=function(e){var t=this.__get(e);if(t)for(t=t.upper;t;){if(!t.functionExpressionScope)return t;t=t.upper}return null},p.prototype.attach=function(){for(var e=0,t=this.scopes.length;e<t;++e)this.scopes[e].attach();this.attached=!0},p.prototype.detach=function(){for(var e=0,t=this.scopes.length;e<t;++e)this.scopes[e].detach();this.attached=!1},h.isScopeRequired=function(e){return h.isVariableScopeRequired(e)||e.type===o.WithStatement||e.type===o.CatchClause},h.isVariableScopeRequired=function(e){return e.type===o.Program||e.type===o.FunctionExpression||e.type===o.FunctionDeclaration},e.version="1.0.3",e.Reference=c,e.Variable=l,e.Scope=h,e.ScopeManager=p,e.analyze=function(e,t){return u=function e(t,n){var r,i;function s(e){return"object"==typeof e&&e instanceof Object&&!(e instanceof RegExp)}for(r in n)n.hasOwnProperty(r)&&(s(i=n[r])?s(t[r])?e(t[r],i):t[r]=e({},i):t[r]=i);return t}({optimistic:!1,directive:!1,ecmaVersion:5},t),t=i=[],a=null,n.traverse(e,{enter:function(e){var t,n,r;switch(h.isScopeRequired(e)&&new h(e,{}),e.type){case o.AssignmentExpression:"="===e.operator?a.__referencing(e.left,c.WRITE,e.right,!a.isStrict&&null!=e.left.name&&e):a.__referencing(e.left,c.RW,e.right),a.__referencing(e.right);break;case o.ArrayExpression:for(t=0,n=e.elements.length;t<n;++t)a.__referencing(e.elements[t]);break;case o.BlockStatement:break;case o.BinaryExpression:a.__referencing(e.left),a.__referencing(e.right);break;case o.BreakStatement:break;case o.CallExpression:for(a.__referencing(e.callee),t=0,n=e.arguments.length;t<n;++t)a.__referencing(e.arguments[t]);u.ignoreEval||e.callee.type!==o.Identifier||"eval"!==e.callee.name||a.variableScope.__detectEval();break;case o.CatchClause:a.__define(e.param,{type:l.CatchClause,name:e.param,node:e});break;case o.ConditionalExpression:a.__referencing(e.test),a.__referencing(e.consequent),a.__referencing(e.alternate);break;case o.ContinueStatement:case o.DirectiveStatement:break;case o.DoWhileStatement:a.__referencing(e.test);break;case o.DebuggerStatement:case o.EmptyStatement:break;case o.ExpressionStatement:a.__referencing(e.expression);break;case o.ForStatement:a.__referencing(e.init),a.__referencing(e.test),a.__referencing(e.update);break;case o.ForInStatement:e.left.type===o.VariableDeclaration?a.__referencing(e.left.declarations[0].id,c.WRITE,null,!1):a.__referencing(e.left,c.WRITE,null,!a.isStrict&&null!=e.left.name&&e),a.__referencing(e.right);break;case o.FunctionDeclaration:for(a.upper.__define(e.id,{type:l.FunctionName,name:e.id,node:e}),t=0,n=e.params.length;t<n;++t)a.__define(e.params[t],{type:l.Parameter,name:e.params[t],node:e,index:t});break;case o.FunctionExpression:for(t=0,n=e.params.length;t<n;++t)a.__define(e.params[t],{type:l.Parameter,name:e.params[t],node:e,index:t});break;case o.Identifier:break;case o.IfStatement:a.__referencing(e.test);break;case o.Literal:case o.LabeledStatement:break;case o.LogicalExpression:a.__referencing(e.left),a.__referencing(e.right);break;case o.MemberExpression:a.__referencing(e.object),e.computed&&a.__referencing(e.property);break;case o.NewExpression:for(a.__referencing(e.callee),t=0,n=e.arguments.length;t<n;++t)a.__referencing(e.arguments[t]);break;case o.ObjectExpression:for(t=0;t<e.properties.length;t++)"init"===e.properties[t].kind&&a.__referencing(e.properties[t].value);break;case o.Program:case o.Property:break;case o.ReturnStatement:a.__referencing(e.argument);break;case o.SequenceExpression:for(t=0,n=e.expressions.length;t<n;++t)a.__referencing(e.expressions[t]);break;case o.SwitchStatement:a.__referencing(e.discriminant);break;case o.SwitchCase:a.__referencing(e.test);break;case o.ThisExpression:a.variableScope.__detectThis();break;case o.ThrowStatement:a.__referencing(e.argument);break;case o.TryStatement:break;case o.UnaryExpression:a.__referencing(e.argument);break;case o.UpdateExpression:a.__referencing(e.argument,c.RW,null);break;case o.VariableDeclaration:for(t=0,n=e.declarations.length;t<n;++t)r=e.declarations[t],a.variableScope.__define(r.id,{type:l.Variable,name:r.id,node:r,index:t,parent:e}),r.init&&(a.__referencing(r.id,c.WRITE,r.init,!1),a.__referencing(r.init));break;case o.VariableDeclarator:break;case o.WhileStatement:a.__referencing(e.test);break;case o.WithStatement:a.upper.__referencing(e.object)}},leave:function(e){for(;a&&e===a.block;)a.__close()}}),s(null===a),u=i=null,new p(t)}},this)},{estraverse:10}],10:[function(o,e,t){!function e(t){"use strict";var n,g,u,r,i,D,y,E,x;function c(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],r[t]="object"==typeof n&&null!==n?c(n):n);return r}function s(){}function C(e,t){this.parent=e,this.key=t}function v(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function a(){}function A(e){return null!=e&&"object"==typeof e&&"string"==typeof e.type}function F(e,t){return(e===n.ObjectExpression||e===n.ObjectPattern)&&"properties"===t}function l(e,t){return(new a).traverse(e,t)}function h(t,e){var n=function(e,t){for(var n,r,i=e.length,s=0;i;)t(e[r=s+(n=i>>>1)])?i=n:(s=r+1,i-=1+n);return s}(e,function(e){return e.range[0]>t.range[0]});return t.extendedRange=[t.range[0],t.range[1]],n!==e.length&&(t.extendedRange[1]=e[n].range[0]),0<=--n&&(t.extendedRange[0]=e[n].range[1]),t}return g=(g=Array.isArray)||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.create||function(e){return s.prototype=e,new s},D=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n},n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},r={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={Break:y={},Skip:E={},Remove:x={}},C.prototype.replace=function(e){this.parent[this.key]=e},C.prototype.remove=function(){return g(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},a.prototype.path=function(){var e,t,n,r,i;function s(e,t){if(g(t))for(n=0,r=t.length;n<r;++n)e.push(t[n]);else e.push(t)}if(!this.__current.path)return null;for(i=[],e=2,t=this.__leavelist.length;e<t;++e)s(i,this.__leavelist[e].path);return s(i,this.__current.path),i},a.prototype.type=function(){return this.current().type||this.__current.wrap},a.prototype.parents=function(){for(var e=[],t=1,n=this.__leavelist.length;t<n;++t)e.push(this.__leavelist[t].node);return e},a.prototype.current=function(){return this.__current.node},a.prototype.__execute=function(e,t){var n=void 0,r=this.__current;return this.__current=t,this.__state=null,e&&(n=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,n},a.prototype.notify=function(e){this.__state=e},a.prototype.skip=function(){this.notify(E)},a.prototype.break=function(){this.notify(y)},a.prototype.remove=function(){this.notify(x)},a.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback="iteration"===t.fallback,this.__keys=r,t.keys&&(this.__keys=function(e,t){for(var n,r=D(t),i=0,s=r.length;i<s;i+=1)e[n=r[i]]=t[n];return e}(i(this.__keys),t.keys))},a.prototype.traverse=function(e,t){var n,r,i,s,a,o,u,c,l,h,p,d;for(this.__initialize(e,t),d={},n=this.__worklist,r=this.__leavelist,n.push(new v(e,null,null,null)),r.push(new v(null,null,null,null));n.length;)if((i=n.pop())===d){if(i=r.pop(),o=this.__execute(t.leave,i),this.__state===y||o===y)return}else if(i.node){if(o=this.__execute(t.enter,i),this.__state===y||o===y)return;if(n.push(d),r.push(i),this.__state!==E&&o!==E){if(s=i.node,a=i.wrap||s.type,!(h=this.__keys[a])){if(!this.__fallback)throw new Error("Unknown node type "+a+".");h=D(s)}for(c=h.length;0<=--c;)if(p=s[u=h[c]])if(g(p)){for(l=p.length;0<=--l;)if(p[l]){if(F(a,h[c]))i=new v(p[l],[u,l],"Property",null);else{if(!A(p[l]))continue;i=new v(p[l],[u,l],null,null)}n.push(i)}}else A(p)&&n.push(new v(p,u,null,null))}}},a.prototype.replace=function(e,t){function n(e){var t,n,r,i;if(e.ref.remove())for(n=e.ref.key,i=e.ref.parent,t=s.length;t--;)if((r=s[t]).ref&&r.ref.parent===i){if(r.ref.key<n)break;--r.ref.key}}var s,r,i,a,o,u,c,l,h,p,d,f,m;for(this.__initialize(e,t),d={},s=this.__worklist,r=this.__leavelist,u=new v(e,null,null,new C(f={root:e},"root")),s.push(u),r.push(u);s.length;)if((u=s.pop())===d){if(u=r.pop(),void 0!==(o=this.__execute(t.leave,u))&&o!==y&&o!==E&&o!==x&&u.ref.replace(o),this.__state!==x&&o!==x||n(u),this.__state===y||o===y)return f.root}else{if(void 0!==(o=this.__execute(t.enter,u))&&o!==y&&o!==E&&o!==x&&(u.ref.replace(o),u.node=o),this.__state!==x&&o!==x||(n(u),u.node=null),this.__state===y||o===y)return f.root;if((i=u.node)&&(s.push(d),r.push(u),this.__state!==E)&&o!==E){if(a=u.wrap||i.type,!(h=this.__keys[a])){if(!this.__fallback)throw new Error("Unknown node type "+a+".");h=D(i)}for(c=h.length;0<=--c;)if(p=i[m=h[c]])if(g(p)){for(l=p.length;0<=--l;)if(p[l]){if(F(a,h[c]))u=new v(p[l],[m,l],"Property",new C(p,l));else{if(!A(p[l]))continue;u=new v(p[l],[m,l],null,new C(p,l))}s.push(u)}}else A(p)&&s.push(new v(p,m,null,new C(i,m)))}}return f.root},t.version=o("./package.json").version,t.Syntax=n,t.traverse=l,t.replace=function(e,t){return(new a).replace(e,t)},t.attachComments=function(e,t,n){var r,i,s,a,o=[];if(!e.range)throw new Error("attachComments needs range information");if(n.length){for(s=0,i=t.length;s<i;s+=1)o.push(h(c(t[s]),n));a=0,l(e,{enter:function(e){for(var t;a<o.length&&!((t=o[a]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}}),a=0,l(e,{leave:function(e){for(var t;a<o.length&&(t=o[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}})}else if(t.length){for(s=0,i=t.length;s<i;s+=1)(r=c(t[s])).extendedRange=[0,e.range[0]],o.push(r);e.leadingComments=o}return e},t.VisitorKeys=r,t.VisitorOption=u,t.Controller=a,t.cloneEnvironment=function(){return e({})},t}(t)},{"./package.json":11}],11:[function(e,t,n){t.exports={name:"estraverse",description:"ECMAScript JS AST traversal functions",homepage:"https://github.com/estools/estraverse",main:"estraverse.js",version:"2.0.0",engines:{node:">=0.10.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/estraverse.git"},devDependencies:{chai:"^2.1.1","coffee-script":"^1.8.0",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},licenses:[{type:"BSD",url:"http://github.com/estools/estraverse/raw/master/LICENSE.BSD"}],scripts:{test:"npm run-script lint && npm run-script unit-test",lint:"jshint estraverse.js","unit-test":"mocha --compilers coffee:coffee-script/register"}}},{}],12:[function(t,r,e){!function(){"use strict";var n,a,s;function o(e){for(var t,n="",r=0,i=(e=void 0===e[0]?s.stringToArray(e):e).length;r<i;r+=1)"'"===(t=e[r])?n+="\\'":0<="\\\n\r\u2028\u2029".indexOf(t)?n+=function(e){var t="\\";switch(e){case"\\":t+="\\";break;case"\n":t+="n";break;case"\r":t+="r";break;case"\u2028":t+="u2028";break;case"\u2029":t+="u2029";break;default:throw new Error("Incorrectly classified character")}return t}(t):n+=" "<=t&&t<="~"?t:function(e,t){var n=e.charCodeAt(0),r=n.toString(16),i="\\";switch(e){case"\b":i+="b";break;case"\f":i+="f";break;case"\t":i+="t";break;default:255<n?i+="u"+"0000".slice(r.length)+r:"\0"===e&&"0123456789".indexOf(t)<0?i+="0":i+="\v"===e?"v":"x"+"00".slice(r.length)+r}return i}(t,e[r+1]);return n}function e(e,t){t=t.get("destructive",{pathName:n})?e:s.deepCopy(e);return s.traverse(t,{enter:function(e,t){var n,r,i,s;if(e.type===a.Program||e.type===a.BlockStatement&&(t.type===a.FunctionExpression||t.type===a.FunctionDeclaration))for(r=0,i=e.body.length;r<i;++r){if(n=e.body[r],(s=n).type!==a.ExpressionStatement||(s=s.expression).type!==a.Literal||"string"!=typeof s.value)return;n.type=a.DirectiveStatement,n.expression.raw?(n.directive=n.expression.raw.substring(1,n.expression.raw.length-1),n.value=n.expression.value,n.raw=n.expression.raw):(n.directive=o(n.expression.value),n.value=n.expression.value,n.raw="'"+n.directive+"'"),delete n.expression}}}),t}n="annotate-directive",s=t("./common"),a=s.Syntax,e.passName=n,r.exports=e}()},{"./common":13}],13:[function(v,e,A){!function(){"use strict";var s,a,e,t,n,r,o,u,i,c,l,h;function p(e){return e[e.length-1]}function d(e){return function e(t,n){var r,i;for(r in t)0!==r.lastIndexOf("__",0)&&t.hasOwnProperty(r)&&("object"==typeof(i=t[r])&&null!==i&&(i=i instanceof RegExp?new RegExp(i):e(i,a(i)?[]:{})),n[r]=i);return n}(e,a(e)?[]:{})}function f(e,t){return null!=e.loc&&(t.loc=d(e.loc)),t}function m(e){return e==e&&(e<0||0===e&&1/e<0)}function g(e){return e.type===s.Literal&&"number"==typeof e.value}function D(e){return g(e)&&1===String(e.value).length}function y(e,t){e={type:s.UnaryExpression,operator:"-",argument:{type:s.Literal,value:-e}};return t?f(t,e):e}function E(e){var t={type:s.UnaryExpression,operator:"void",argument:{type:s.Literal,value:0}};return e?f(e,t):t}function x(e){var t={type:s.BinaryExpression,operator:"/",left:{type:s.Literal,value:0},right:{type:s.Literal,value:0}};return e?f(e,t):t}function C(e){e=e.type;return e===s.Identifier||e===s.MemberExpression}o=v("estraverse"),u=v("escope"),i=v("esutils"),s=o.Syntax,a=(a=Array.isArray)||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c={}.hasOwnProperty,n=function(e,t){return c.call(e,t)},l=Array.prototype.slice,e=function(e){return l.call(e)},h=Array.prototype.slice,t=function(){return h.call(arguments)},r=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t},A.deepCopy=d,A.stringRepeat=function(e,t){var n="";for(t|=0;0<t;t>>>=1,e+=e)1&t&&(n+=e);return n},A.sameValue=r,A.Array={isArray:a,from:e,of:t,last:p,empty:function(e){return 0===e.length}},A.Object={isObject:function(e){return"object"==typeof e&&null!==e},has:n},A.Syntax=s,A.traverse=o.traverse,A.replace=o.replace,A.VisitorKeys=o.VisitorKeys,A.VisitorOption=o.VisitorOption,A.assert=function(e,t){if(!e)throw new Error(t)},A.unreachable=function(){throw new Error("Unreachable point. logically broken.")},A.isIdentifier=function(e){return!i.keyword.isKeywordES5(e,!0)&&!i.keyword.isRestrictedWord(e)&&i.keyword.isIdentifierName(e)},A.moveLocation=f,A.deleteLocation=function(e){return!!e.hasOwnProperty("loc")&&delete e.loc},A.convertToEmptyStatement=function(e){for(var t=o.VisitorKeys[e.type],n=0,r=t.length;n<r;++n)delete e[t[n]];return e.type=s.EmptyStatement,e},A.mayBeCompletionValue=function(e,t){var n,r;if(e.type===s.ExpressionStatement)for(n=t.length-1;0<=n;--n,e=r)switch((r=t[n]).type){case s.FunctionExpression:case s.FunctionDeclaration:return!1;case s.BlockStatement:case s.Program:if(p(r.body)!==e)return!1;break;case s.SwitchCase:if(p(r.consequent)!==e)return!1}return!0},A.isNegative=m,A.isFunctionBody=function(e,t){return e.type===s.BlockStatement&&(t.type===s.FunctionDeclaration||t.type===s.FunctionExpression)},A.SpecialNode={generateNegative:y,isNegative:function(e){return e.type===s.UnaryExpression&&"-"===e.operator&&g(e.argument)},generateUndefined:E,isUndefined:function(e){return e.type===s.UnaryExpression&&"void"===e.operator&&D(e.argument)},generateNaN:x,isNaN:function(e){return!(e.type!==s.BinaryExpression||!D(e.left)||!D(e.right))&&0===e.left.value&&0===e.right.value},isReference:C,canExtractSequence:function(e,t,n){var r;if(t.type===s.CallExpression)return e.type===s.Identifier?"eval"!==e.name&&(r=n.resolve(e))&&r.isStatic():e.type!==s.MemberExpression;if(t.type===s.UnaryExpression){if("delete"===t.operator)return!C(e);if("typeof"===t.operator&&e.type===s.Identifier)return(r=n.resolve(e))&&r.isStatic()}else if(t.type===s.UpdateExpression)return!C(e);return!0},generateFromValue:function(e){if("number"==typeof e){if(isNaN(e))return x();if(m(e))return y(e)}return void 0===e?E():{type:s.Literal,value:e}}},A.delegateVariableDeclarations=function(n,e){var r,i=[];return o.traverse(n,{enter:function(e){var t,n,r;if(e.type===s.VariableDeclaration){if("let"!==e.kind&&"const"!==e.kind){for(t=0,n=e.declarations.length;t<n;++t)delete(r=e.declarations[t]).init,i.push(r);return o.VisitorOption.Skip}}else if(u.Scope.isVariableScopeRequired(e))return o.VisitorOption.Skip}}),i.length?(r=null,o.traverse(e.body,{enter:function(e,t){return e===n||u.Scope.isVariableScopeRequired(e)?o.VisitorOption.Skip:e.type===s.VariableDeclaration&&"var"===e.kind&&t.type!==s.ForInStatement?(r=e,o.VisitorOption.Break):void 0}}),r?(r.declarations=r.declarations.concat(i),null):{type:s.VariableDeclaration,kind:"var",declarations:i}):null},A.isScopedDeclaration=function(e){return e.type===s.VariableDeclaration&&("let"===e.kind||"const"===e.kind)||e.type===s.FunctionDeclaration}}()},{escope:9,estraverse:49,esutils:52}],14:[function(t,e,r){!function(){"use strict";var e,f,c,n,l,h;function p(e,t){return f.traverse(e,{leave:function(e){e.type===n.IfStatement&&e.alternate&&e.consequent.type!==n.BlockStatement&&function(e){for(;;){switch(e.type){case n.IfStatement:if(!e.alternate)return 1;e=e.alternate;continue;case n.LabeledStatement:case n.ForStatement:case n.ForInStatement:case n.WhileStatement:case n.WithStatement:e=e.body;continue}return}}(e.consequent)&&(e.consequent={type:n.BlockStatement,body:[e.consequent]}),t||e.type!==n.DirectiveStatement||(e.type=n.ExpressionStatement,e.expression=f.moveLocation(e,{type:n.Literal,value:e.value,raw:e.raw}),delete e.directive,delete e.value,delete e.raw)}}),e}function d(e,t,n){var r,i,s,a,o,u,c;for(u=n.get("destructive")?e:f.deepCopy(e),a=[],o=[],r=0,i=t.length;r<i;++r)(c="function"!=typeof(c=t[r])?c[Object.keys(c)[0]]:c).hasOwnProperty("passName")?c.passName:c.name,o.push(c),a.push(!0);do{for(l=!1,r=0,i=o.length;r<i;++r)if(s=o[r],a[r]){if((s=s(u,n)).modified)for(var l=!0,h=!(d=p=h=void 0),p=0,d=a.length;p<d;++p)a[p]=h;else a[r]=!1;u=s.result}}while(l);return u}e=t("esshorten"),f=t("./common"),c=t("./options"),l=t("./pass"),h=t("./annotate-directive"),n=f.Syntax,r.version=t("../package.json").version,r.mangle=e.mangle,r.optimize=function(e,t,n){var r,i,s,a,o,u;for(e=h(e,new c({destructive:!1})),null==t&&(t=l.__defaultPipeline),n=new c(n),r=0,i=t.length;r<i;++r)if(o=t[r],f.Array.isArray(o))e=d(e,o,n);else if(o.once)for(s=0,a=(u=o.pass).length;s<a;++s)e=u[s](e,n).result;return p(e,n.get("directive"))},r.pass=l}()},{"../package.json":53,"./annotate-directive":12,"./common":13,"./options":17,"./pass":18,esshorten:55}],15:[function(e,t,u){!function(){"use strict";var a,r;function o(e,t){return e.type===a.Literal?"object"!=typeof e.value||null===e.value||t:e.type===a.UnaryExpression?"void"===e.operator||"delete"===e.operator||"!"===e.operator?o(e.argument,!0):o(e.argument,!1):e.type===a.BinaryExpression?"in"!==e.operator&&"instanceof"!==e.operator&&o(e.left,!1)&&o(e.right,!1):e.type===a.LogicalExpression&&o(e.left,!0)&&o(e.right,!0)}function i(e){return e.type===a.Literal?e.value:e.type===a.UnaryExpression?n(e.operator,i(e.argument)):e.type===a.BinaryExpression?s(e.operator,i(e.left),i(e.right)):e.type===a.LogicalExpression?t(e.operator,i(e.left),i(e.right)):void r.unreachable()}function t(e,t,n){return"||"===e?t||n:"&&"===e?t&&n:void r.unreachable()}function n(e,t){switch(e){case"+":return+t;case"-":return-t;case"~":return~t;case"!":return!t;case"delete":return!0;case"void":return;case"typeof":return typeof t}r.unreachable()}function s(e,t,n){switch(e){case"|":return t|n;case"^":return t^n;case"&":return t&n;case"==":return t==n;case"!=":return t!=n;case"===":return t===n;case"!==":return t!==n;case"<":return t<n;case">":return n<t;case"<=":return t<=n;case">=":return n<=t;case"<<":return t<<n;case">>":return t>>n;case">>>":return t>>>n;case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n;case"%":return t%n}r.unreachable()}r=e("./common"),a=r.Syntax,u.constant={doBinary:s,doUnary:n,doLogical:t,evaluate:i,isConstant:o},u.hasSideEffect=function(e,s){return function e(t){var n,r,i;switch(t.type){case a.AssignmentExpression:return!0;case a.ArrayExpression:for(n=0,r=t.elements.length;n<r;++n)if(null!==t.elements[n]&&e(t.elements[n]))return!0;return!1;case a.BinaryExpression:return!o(t);case a.CallExpression:return!0;case a.ConditionalExpression:return e(t.test)||e(t.consequent)||e(t.alternate);case a.FunctionExpression:return!1;case a.Identifier:return!(i=s.resolve(t))||!i.isStatic();case a.Literal:return!1;case a.LogicalExpression:return e(t.left)||e(t.right);case a.MemberExpression:case a.NewExpression:return!0;case a.ObjectExpression:for(n=0,r=t.properties.length;n<r;++n)if(e(t.properties[n]))return!0;return!1;case a.Property:return e(t.value);case a.SequenceExpression:for(n=0,r=t.expressions.length;n<r;++n)if(e(t.expressions[n]))return!0;return!1;case a.ThisExpression:return!1;case a.UnaryExpression:return"void"===t.operator||"delete"===t.operator||"typeof"===t.operator||"!"===t.operator?e(t.argument):!o(t);case a.UpdateExpression:return!0}return!0}(e)},u.booleanCondition=function e(t){var n;switch(t.type){case a.AssignmentExpression:return e(t.right);case a.ArrayExpression:return!0;case a.BinaryExpression:return o(t)?!!i(t):null;case a.CallExpression:return null;case a.ConditionalExpression:return!0===(n=e(t.test))?e(t.consequent):!1===n?e(t.alternate):(n=e(t.consequent))===e(t.alternate)?n:null;case a.FunctionExpression:return!0;case a.Identifier:return null;case a.Literal:return!!i(t);case a.LogicalExpression:return"&&"===t.operator?null===(n=e(t.left))?null:!!n&&e(t.right):null===(n=e(t.left))?null:!!n||e(t.right);case a.MemberExpression:return null;case a.NewExpression:case a.ObjectExpression:return!0;case a.Property:return r.unreachable(),null;case a.SequenceExpression:return e(r.Array.last(t.expressions));case a.ThisExpression:return null;case a.UnaryExpression:return"void"!==t.operator&&("typeof"===t.operator||("!"===t.operator?null===(n=e(t.argument))?null:!n:o(t)?!!i(t):null));case a.UpdateExpression:return null}return null}}()},{"./common":13}],16:[function(e,n,t){!function(t){!function(){!function(){"use strict";var e;void 0!==t.Map?e=t.Map:((e=function(){this.__data={}}).prototype.get=function(e){if(this.__data.hasOwnProperty(e="$"+e))return this.__data[e]},e.prototype.has=function(e){return this.__data.hasOwnProperty(e="$"+e)},e.prototype.set=function(e,t){this.__data[e="$"+e]=t},e.prototype.delete=function(e){return delete this.__data[e="$"+e]},e.prototype.clear=function(){this.__data={}},e.prototype.forEach=function(e,t){var n,r;for(n in this.__data)this.__data.hasOwnProperty(n)&&(r=n.substring(1),e.call(t,this.__data[n],r,this))},e.prototype.keys=function(){var e,t=[];for(e in this.__data)this.__data.hasOwnProperty(e)&&t.push(e.substring(1));return t},e.prototype.values=function(){var e,t=[];for(e in this.__data)this.__data.hasOwnProperty(e)&&t.push(this.__data[e]);return t},e.prototype.items=function(){var e,t=[];for(e in this.__data)this.__data.hasOwnProperty(e)&&t.push([e.substring(1),this.__data[e]]);return t}),n.exports=e}()}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],17:[function(t,n,e){!function(){"use strict";var a;function e(e){var t={destructive:!0,preserveCompletionValue:!1};this.data=null==e?t:function e(t,n){var r,i,s;for(r in n)a.Object.has(n,r)&&(r in t&&(i=t[r],s=n[r],a.Object.isObject(s))&&a.Object.isObject(i)?t[r]=e(i,s):t[r]=n[r]);return t}(t,e)}a=t("./common"),e.prototype.get=function(e,t){return(null!=t&&a.Object.has(t,"pathName")&&null!=(t=this.data[t.pathName])&&a.Object.has(t,e)?t:this.data)[e]},n.exports=e}()},{"./common":13}],18:[function(i,e,o){!function(){"use strict";var t,s,e,n,a;function r(e,t){var n,r,i;for(s[e]={},n=0,r=t.length;n<r;++n)i=t[n],a.assert(null==s[e][i.passName],"don't create duplicate pass names"),s[e][i.passName]=i;a.assert(null==s.__direct[i.passName],"don't create duplicate pass names"),s.__direct[i.passName]=i}a=i("./common"),t=i("./query"),s={__direct:{}},e=[i("./pass/hoist-variable-to-arguments"),i("./pass/transform-dynamic-to-static-property-access"),i("./pass/transform-dynamic-to-static-property-definition"),i("./pass/transform-immediate-function-call"),i("./pass/transform-logical-association"),i("./pass/reordering-function-declarations"),i("./pass/remove-unused-label"),i("./pass/remove-empty-statement"),i("./pass/remove-wasted-blocks"),i("./pass/transform-to-compound-assignment"),i("./pass/transform-to-sequence-expression"),i("./pass/transform-branch-to-expression"),i("./pass/transform-typeof-undefined"),i("./pass/reduce-sequence-expression"),i("./pass/reduce-branch-jump"),i("./pass/reduce-multiple-if-statements"),i("./pass/dead-code-elimination"),i("./pass/remove-side-effect-free-expressions"),i("./pass/remove-context-sensitive-expressions"),i("./pass/tree-based-constant-folding"),i("./pass/concatenate-variable-definition"),i("./pass/drop-variable-definition"),i("./pass/remove-unreachable-branch"),i("./pass/eliminate-duplicate-function-declarations")],n=[i("./post/transform-static-to-dynamic-property-access"),i("./post/transform-infinity"),i("./post/rewrite-boolean"),i("./post/rewrite-conditional-expression"),i("./post/omit-parens-in-void-context-iife")],r("pass",e),r("post",n),o.require=function(e){return a.Object.has(s.__direct,e)?s.__direct[e]:t.get(s,e.split("/"))},o.Registry=s,o.__defaultPipeline=[e,{once:!0,pass:n}]}()},{"./common":13,"./pass/concatenate-variable-definition":19,"./pass/dead-code-elimination":20,"./pass/drop-variable-definition":21,"./pass/eliminate-duplicate-function-declarations":22,"./pass/hoist-variable-to-arguments":23,"./pass/reduce-branch-jump":24,"./pass/reduce-multiple-if-statements":25,"./pass/reduce-sequence-expression":26,"./pass/remove-context-sensitive-expressions":27,"./pass/remove-empty-statement":28,"./pass/remove-side-effect-free-expressions":29,"./pass/remove-unreachable-branch":30,"./pass/remove-unused-label":31,"./pass/remove-wasted-blocks":32,"./pass/reordering-function-declarations":33,"./pass/transform-branch-to-expression":34,"./pass/transform-dynamic-to-static-property-access":35,"./pass/transform-dynamic-to-static-property-definition":36,"./pass/transform-immediate-function-call":37,"./pass/transform-logical-association":38,"./pass/transform-to-compound-assignment":39,"./pass/transform-to-sequence-expression":40,"./pass/transform-typeof-undefined":41,"./pass/tree-based-constant-folding":42,"./post/omit-parens-in-void-context-iife":43,"./post/rewrite-boolean":44,"./post/rewrite-conditional-expression":45,"./post/transform-infinity":46,"./post/transform-static-to-dynamic-property-access":47,"./query":48}],19:[function(t,i,e){!function(){"use strict";var n,c,r,l;function e(e,t){t=t.get("destructive",{pathName:n})?e:r.deepCopy(e);return l=!1,r.traverse(t,{leave:function(e){var t,n,r,i,s,a,o,u;if(e.type===c.BlockStatement||e.type===c.Program){for(o=null,u=[],t=0,n=e.body.length;t<n;++t)if((s=e.body[t]).type===c.VariableDeclaration&&"var"===s.kind)if(o)for(l=!0,r=0,i=s.declarations.length;r<i;++r)a=s.declarations[r],o.declarations.push(a);else u.push(o=s);else o=null,u.push(s);e.body=u}}}),{result:t,modified:l}}n="concatenate-variable-definition",r=t("../common"),c=r.Syntax,e.passName=n,i.exports=e}()},{"../common":13}],20:[function(r,i,e){!function(){"use strict";var n,l,h,p,d;function f(e,t,n){this.node=e,this.type=n,this.labels=t.labels||[],t.labels=null}function t(){this.targets=[]}function m(e){this.current=[],this.upper=e,this.jumps=new t,this.labels=null,this.next()}function g(e){(e.__$context=this).node=e}function D(e,t){var n=function(e){for(;;){switch(e.type){case l.IfStatement:if(e.alternate)return null;e=e.consequent;continue;case l.WithStatement:case l.LabeledStatement:e=e.body;continue;case l.BlockStatement:if(e.body.length){e=h.Array.last(e.body);continue}}return e}}(t);return n&&n.type===l.ContinueStatement&&p.jumps.lookupContinuableTarget(n.label)===e&&(d=!0,h.convertToEmptyStatement(n)),y(t)}function y(e){var u=!1;return e?(h.traverse(e,{enter:function(e){var t,n,r,i,s,a,o;switch(m.isRequired(e)&&(p=new m(p)),u|=!p.isDead(),e.type){case l.Program:return e.body=c(0,e.body),h.VisitorOption.Skip;case l.BlockStatement:return p.jumps.push(new f(e,p,f.NAMED_ONLY)),e.body=c(0,e.body),p.jumps.pop(),p.resolveJump(e),h.VisitorOption.Skip;case l.BreakStatement:return e.label&&p.labels&&p.labels.indexOf(e.label)?(d=!0,h.convertToEmptyStatement(e)):p.jumpTo(p.jumps.lookupBreakableTarget(e.label)),h.VisitorOption.Skip;case l.CatchClause:return u|=y(e.body),h.VisitorOption.Skip;case l.ContinueStatement:return p.jumpTo(p.jumps.lookupContinuableTarget(e.label)),h.VisitorOption.Skip;case l.DoWhileStatement:return p.jumps.push(new f(e,p,f.ITERATION)),u|=D(e,e.body),p.jumps.pop(),u|=y(e.test),p.resolveJump(e),p.revive(),h.VisitorOption.Skip;case l.DebuggerStatement:case l.EmptyStatement:return h.VisitorOption.Skip;case l.ExpressionStatement:break;case l.ForStatement:return u=(u|=y(e.init))|y(e.test),p.jumps.push(new f(e,p,f.ITERATION)),u|=D(e,e.body),p.jumps.pop(),u|=y(e.update),p.resolveJump(e),p.revive(),h.VisitorOption.Skip;case l.ForInStatement:return u=(u|=y(e.left))|y(e.right),p.jumps.push(new f(e,p,f.ITERATION)),u|=D(e,e.body),p.jumps.pop(),p.resolveJump(e),p.revive(),h.VisitorOption.Skip;case l.IfStatement:return u=(u|=y(e.test))|y(e.consequent),e.alternate?(i=!p.isDead(),p.revive()||p.insert(e),u|=y(e.alternate),s=!p.isDead(),p.erase(e)&&p.revive(),(a=g.lookup(e))&&(a.consequent=i,a.alternate=s)):p.revive(),h.VisitorOption.Skip;case l.LabeledStatement:p.register(e);break;case l.ReturnStatement:return u|=y(e.argument),p.kill(),h.VisitorOption.Skip;case l.SwitchStatement:for(y(e.discriminant),p.jumps.push(new f(e,p,f.SWITCH)),t=0,n=e.cases.length;t<n;++t)r=e.cases[t],u|=y(r),r.test||(o=!0),p.isDead()&&t+1<n&&p.next();return p.jumps.pop(),p.resolveJump(e),p.isDead()&&!o&&p.next(),h.VisitorOption.Skip;case l.SwitchCase:return e.test&&(u|=y(e.test)),e.consequent=c(0,e.consequent),h.VisitorOption.Skip;case l.ThrowStatement:return u|=y(e.argument),p.kill(),h.VisitorOption.Skip;case l.TryStatement:return u|=y(e.block),e.handlers&&e.handlers.length&&(p.revive()||p.insert(e),e.handlers=c(0,e.handlers),p.erase(e))&&p.revive(),e.finalizer&&(p.revive()||p.insert(e),u|=y(e.finalizer),p.erase(e)||p.kill()),h.VisitorOption.Skip;case l.WhileStatement:return u|=y(e.test),p.jumps.push(new f(e,p,f.ITERATION)),u|=D(e,e.body),p.jumps.pop(),p.resolveJump(e),p.revive(),h.VisitorOption.Skip;case l.WithStatement:break;case l.VariableDeclaration:case l.FunctionDeclaration:u=!0}},leave:function(e){m.isRequired(e)?p=p.upper:e.type===l.LabeledStatement&&p.unregister()}}),u):!p.isDead();function c(e,t){for(var n,r,i,s=[],a=0,o=t.length;a<o;++a)(n=t[a]).type===l.IfStatement?(i=new g(n),r=y(n),i.detach()):r=y(n),r?(u|=1,s.push(n),n.type!==l.IfStatement||!n.alternate||i.consequent&&i.alternate||i.consequent===i.alternate||(d=!0,i.consequent?(n.test=h.moveLocation(n.test,{type:l.UnaryExpression,operator:"!",argument:n.test}),s.push(n.consequent),n.consequent=n.alternate):s.push(n.alternate),n.alternate=null)):d=!0;return s}}function e(e,t){t=t.get("destructive",{pathName:n})?e:h.deepCopy(e);return p=null,d=!1,y(t),h.assert(null===p,"status should be null"),{result:t,modified:d}}n="dead-code-elimination",h=r("../common"),l=h.Syntax,f.NAMED_ONLY=0,f.ITERATION=2,f.SWITCH=3,f.prototype.isIteration=function(){return this.type===f.ITERATION},f.prototype.isAnonymous=function(){return 2&this.type},f.prototype.contains=function(e){return-1!==this.labels.indexOf(e)},t.prototype.lookupContinuableTarget=function(e){for(var t,n=this.targets.length-1;0<=n;--n)if((t=this.targets[n]).isIteration()&&(!e||t.contains(e.name)))return t.node;h.unreachable()},t.prototype.lookupBreakableTarget=function(e){for(var t,n=this.targets.length-1;0<=n;--n)if(t=this.targets[n],e){if(t.contains(e.name))return t.node}else if(t.isAnonymous())return t.node;h.unreachable()},t.prototype.push=function(e){this.targets.push(e)},t.prototype.pop=function(){this.targets.pop()},m.NEXT={},m.prototype.insert=function(e){this.current.push(e)},m.prototype.erase=function(e){e=this.current.indexOf(e);return-1!==e&&(this.current.splice(e,1),!0)},m.prototype.kill=function(){return this.erase(m.NEXT)},m.prototype.has=function(e){return-1!==this.current.indexOf(e)},m.prototype.jumpTo=function(e){this.kill(),this.insert(e)},m.prototype.resolveJump=function(e){e=this.current.indexOf(e);-1!==e&&(this.current.splice(e,1),this.insert(m.NEXT))},m.prototype.clear=function(){this.current.length=0},m.prototype.next=function(){this.insert(m.NEXT)},m.prototype.isDead=function(){return!this.has(m.NEXT)},m.prototype.revive=function(){return!!this.isDead()&&(this.next(),!0)},m.prototype.register=function(e){this.labels||(this.labels=[]),this.labels.push(e.label.name)},m.prototype.unregister=function(){this.labels=null},m.isRequired=function(e){var t=e.type;return h.assert(e,"should be node"),t===l.Program||t===l.FunctionExpression||t===l.FunctionDeclaration},g.prototype.detach=function(){delete this.node.__$context},g.lookup=function(e){return e.__$context},e.passName=n,i.exports=e}()},{"../common":13}],21:[function(t,i,e){!function(){"use strict";var n,y,E,x,r,C;function e(e,t){var g,D,t=t.get("destructive",{pathName:n})?e:E.deepCopy(e);return x=!1,D=null,(g=r.analyze(t,{directive:!0})).attach(),E.traverse(t,{enter:function(e,t){e.__$parent$__=t}}),t=E.replace(t,{enter:function(e,t){var n,r,i,s,a=e;if(D&&D.variableScope.isStatic()){if(r=function(e){var t,n,r,i,s,a,o;if(!e.candidates){for(a=[],s=[],t=0,n=e.variables.length;t<n;++t)for(r=0,i=(o=e.variables[t]).identifiers.length;r<i;++r)s.push(o.identifiers[r]),a.push(o);e.candidates={slots:a,identifiers:s}}return e.candidates}(D.variableScope),e.type===y.VariableDeclaration&&"var"===e.kind){for(n=e.declarations.length;n--;)if(l=e.declarations[n],-1!==(i=r.identifiers.indexOf(l.id))&&function(e){var t,n,r,i;if(1===e.identifiers.length){if(0!==e.references.length)for(t=0,n=e.references.length;t<n;++t){if((r=e.references[t]).isRead())return;if(r.isWrite()){if(!r.writeExpr)return;if(!(i=r.writeExpr.__$parent$__))return;if(i.type!==y.AssignmentExpression&&i.type!==y.VariableDeclarator)return;if(C.hasSideEffect(r.writeExpr,r.from))return}}return 1}}(s=r.slots[i])){x=!0,d=m=f=c=u=o=p=h=l=void 0;var o,u,c,l=e,h=n,p=s;for(l.declarations.splice(h,1),o=0,u=p.references.length;o<u;++o)if(c=p.references[o],E.assert(!c.isRead()),c.isWrite()&&c.writeExpr.__$parent$__.type===y.AssignmentExpression){d=m=f=void 0;var d,f=c.writeExpr.__$parent$__,m=c.writeExpr;for(d in f)delete f[d];for(d in m)f[d]=m[d]}}0===e.declarations.length&&(a=t.type===y.ForStatement?null:E.moveLocation(e,{type:y.EmptyStatement}))}if(e.type===y.FunctionDeclaration&&-1!==(i=r.identifiers.indexOf(e.id))&&1===(s=r.slots[i]).identifiers.length&&0===s.references.length)return x=!0,a=E.moveLocation(e,{type:y.EmptyStatement})}return D=g.acquire(e)||D,a},leave:function(e){D=g.release(e)||D}}),g.detach(),E.traverse(t,{enter:function(e){delete e.__$parent$__,delete e.__$escope$__}}),{result:t,modified:x}}n="drop-variable-definition",E=t("../common"),r=t("escope"),C=t("../evaluator"),y=E.Syntax,e.passName=n,i.exports=e}()},{"../common":13,"../evaluator":15,escope:9}],22:[function(t,r,e){!function(){"use strict";var n,u,c,l,h;function e(e,t){var r,i,t=t.get("destructive",{pathName:n})?e:l.deepCopy(e),s=0,a=h=!1,o=[new c];return t=l.replace(t,{enter:function(e){var t,n,r;e.type===u.FunctionDeclaration&&(n=e.id.name,(t=l.Array.last(o)).has(n)?((r=t.get(n)).declarations.push(e),++r.count):t.set(n,r={declarations:[e],count:1})),e.type===u.BlockStatement&&o.push(new c),e.type!==u.FunctionDeclaration&&e.type!==u.FunctionExpression||++s},leave:function(e){var t,n,r,i;return e.type===u.BlockStatement&&(t=o.pop(),0===s?0!==t.keys().length&&(a=!0):(r=t,i=e,n=l.replace(i,{enter:function(e){var t;return e.type===u.FunctionDeclaration&&(t=e.id.name,--(t=r.get(t)).count,0!==t.count)?(h=!0,l.moveLocation(e,{type:u.EmptyStatement})):e!==i&&e.type===u.BlockStatement?this.skip():void 0}}))),e.type!==u.FunctionDeclaration&&e.type!==u.FunctionExpression||--s,n}}),l.assert(1===o.length,"global map remains"),a||(r=o[0],i=t,t=l.replace(i,{enter:function(e){var t,n;return e.type===u.FunctionDeclaration&&(t=e.id.name,n=(t=r.get(t)).count===t.declarations.length,--t.count,1<t.declarations.length)?n?(h=!0,l.Array.last(t.declarations)):(h=!0,l.moveLocation(e,{type:u.EmptyStatement})):e!==i&&e.type===u.BlockStatement?this.skip():void 0}})),{result:t,modified:h}}n="eliminate-duplicate-function-declarations",l=t("../common"),c=t("../map"),u=l.Syntax,e.passName=n,r.exports=e}()},{"../common":13,"../map":16}],23:[function(t,n,e){!function(){"use strict";var i,u,c,s,l;function e(e,t){var n,r,t=t.get("destructive",{pathName:i})?e:c.deepCopy(e);return l=!1,(r=s.analyze(t,{directive:!(n=null)})).attach(),c.traverse(t,{enter:function(e){var t,i;function o(e){for(var t=!1,n=0,r=i.params.length;n<r;++n)if(e.name===i.params[n].name){t=!0;break}t||i.params.push(e)}e.type!==u.CallExpression&&e.type!==u.NewExpression||(t=e.callee).type!==u.FunctionExpression||t.id||t.params.length!==e.arguments.length||(n=r.acquire(t)).isArgumentsMaterialized()||e.type===u.NewExpression&&n.isThisMaterialized()||((i=t).body=c.replace(i.body,{enter:function(e,t){var n,r,i,s,a;if(e.type===u.FunctionExpression||e.type===u.FunctionDeclaration)this.skip();else if(e.type===u.VariableDeclaration&&"var"===e.kind){if(t.type===u.ForInStatement)return c.assert(1===e.declarations.length,"for-in declaration length should be 1"),(s=e.declarations[0]).init||s.id.type!==u.Identifier?void 0:(o(s.id),l=!0,s.id);for(t=t.type===u.ForStatement,i=[],n=0,r=e.declarations.length;n<r;++n){if((s=e.declarations[n]).id.type!==u.Identifier)return;o(s.id),s.init&&i.push(c.moveLocation(s,{type:u.AssignmentExpression,operator:"=",left:s.id,right:s.init}))}return(l=!0,0===i.length)?t?null:c.moveLocation(e,{type:u.EmptyStatement}):(a=1===i.length?i[0]:c.moveLocation(e,{type:u.SequenceExpression,expressions:i}),t?a:c.moveLocation(e,{type:u.ExpressionStatement,expression:a}))}}}))}}),r.detach(),{result:t,modified:l}}i="hoist-variable-to-arguments",s=t("escope"),c=t("../common"),u=c.Syntax,e.passName=i,n.exports=e}()},{"../common":13,escope:9}],24:[function(t,r,e){!function(){"use strict";var n,o,u,c;function l(e,t){var n,r=e[t],i=e[t+1];return r.type===o.IfStatement&&!r.alternate&&r.consequent.type===o.ReturnStatement&&i.type===o.ReturnStatement&&(c=!0,e.splice(t,1),n=r.consequent.argument,i=i.argument,n||i?(n=n||u.SpecialNode.generateUndefined(),i=i||u.SpecialNode.generateUndefined(),e[t]=u.moveLocation(r,{type:o.ReturnStatement,argument:{type:o.ConditionalExpression,test:r.test,consequent:n,alternate:i}})):e[t]=u.moveLocation(r,{type:o.ReturnStatement,argument:{type:o.SequenceExpression,expressions:[r.test,u.SpecialNode.generateUndefined()]}}),1)}function e(e,t){t=t.get("destructive",{pathName:n})?e:u.deepCopy(e);return c=!1,u.traverse(t,{leave:function(e,t){var n,r,i,s,a;switch(e.type){case o.BlockStatement:case o.Program:for(n=0;n<e.body.length-1;)l(e.body,n)||++n;u.isFunctionBody(e,t)&&0<e.body.length&&(n=e.body.length-1,r=e.body,(a=r[i=n]).type!==o.IfStatement||a.alternate||a.consequent.type===o.ReturnStatement&&(c=!0,(s=a.consequent.argument)?r[i]=u.moveLocation(a,{type:o.ReturnStatement,argument:{type:o.ConditionalExpression,test:a.test,consequent:s,alternate:u.SpecialNode.generateUndefined()}}):r[i]=u.moveLocation(a,{type:o.ReturnStatement,argument:{type:o.SequenceExpression,expressions:[a.test,u.SpecialNode.generateUndefined()]}})));break;case o.SwitchCase:for(n=0;n<e.consequent.length-1;)l(e.consequent,n)||++n}}}),{result:t,modified:c}}n="reduce-branch-jump",u=t("../common"),o=u.Syntax,e.passName=n,r.exports=e}()},{"../common":13}],25:[function(t,a,e){!function(){"use strict";var n,r,i,s;function e(e,t){t=t.get("destructive",{pathName:n})?e:i.deepCopy(e);return s=!1,i.traverse(t,{leave:function(e){e.type!==r.IfStatement||e.alternate||e.consequent.type!==r.IfStatement||e.consequent.alternate||(s=!0,e.test={type:r.LogicalExpression,operator:"&&",left:e.test,right:e.consequent.test},e.consequent=e.consequent.consequent)}}),{result:t,modified:s}}n="reduce-multiple-if-statements",i=t("../common"),r=i.Syntax,e.passName=n,a.exports=e}()},{"../common":13}],26:[function(t,i,e){!function(){"use strict";var n,p,d,f,r,m;function g(e,t){return!f.hasSideEffect(e,t)||e.type===p.Identifier||e.type===p.MemberExpression&&!(f.hasSideEffect(e.object,t)||e.computed&&(e=e.property,t=t,!f.constant.isConstant(e)||null!==(n=f.constant.evaluate(e))&&"object"==typeof n)&&(e.type!==p.Identifier||!(n=t.resolve(e))||!n.isStatic()));var n}function e(e,t){var l,h,t=t.get("destructive",{pathName:n})?e:d.deepCopy(e);return m=!1,l=null,(h=r.analyze(t,{directive:!0})).attach(),t=d.replace(t,{enter:function(e){l=h.acquire(e)||l},leave:function(e){var t,n;switch(e.type){case p.SequenceExpression:for(var r,i,s,a=e,o=[],u=0,c=a.expressions.length;u<c;++u)if((s=a.expressions[u]).type===p.SequenceExpression)for(m=!0,d.deleteLocation(a),r=0,i=s.expressions.length;r<i;++r)o.push(s.expressions[r]);else o.push(s);a.expressions=o;break;case p.ConditionalExpression:e.test.type===p.SequenceExpression&&(m=!0,t=e.test,e.test=d.Array.last(t.expressions),t.expressions[t.expressions.length-1]=e);break;case p.LogicalExpression:e.left.type===p.SequenceExpression&&(m=!0,t=e.left,e.left=d.Array.last(t.expressions),t.expressions[t.expressions.length-1]=e);break;case p.BinaryExpression:e.left.type===p.SequenceExpression?(m=!0,t=e.left,e.left=d.Array.last(t.expressions),t.expressions[t.expressions.length-1]=e):e.right.type!==p.SequenceExpression||f.hasSideEffect(e.left,l)||(m=!0,t=e.right,e.right=d.Array.last(t.expressions),t.expressions[t.expressions.length-1]=e);break;case p.UpdateExpression:case p.UnaryExpression:if(e.argument.type===p.SequenceExpression){if(n=d.Array.last(e.argument.expressions),!d.SpecialNode.canExtractSequence(n,e,l))break;m=!0,t=e.argument,e.argument=d.Array.last(t.expressions),t.expressions[t.expressions.length-1]=e}break;case p.AssignmentExpression:"="===e.operator&&e.right.type===p.SequenceExpression&&g(e.left,l)&&(m=!0,t=e.right,e.right=d.Array.last(t.expressions),t.expressions[t.expressions.length-1]=e)}return l=h.release(e)||l,t}}),h.detach(),{result:t,modified:m}}n="reduce-sequence-expression",r=t("escope"),d=t("../common"),f=t("../evaluator"),p=d.Syntax,e.passName=n,i.exports=e}()},{"../common":13,"../evaluator":15,escope:9}],27:[function(t,s,e){!function(){"use strict";var n,o,u,r,c,l;function i(e,t,n,r){this.transform=e,this.booleanFunction=t,this.voidFunction=n,this.scope=r}function h(e,t){return new i(i.prototype.voidTransformation,p,h,t).apply(e)}function p(e,t){return new i(i.prototype.booleanTransformation,p,p,t).apply(e)}function e(e,t){var r,i,s,a,e=t.get("destructive",{pathName:n})?e:u.deepCopy(e);return l=!1,r=0,i=t.get("preserveCompletionValue",{pathName:n}),s=null,(a=c.analyze(e,{directive:!0})).attach(),e=u.replace(e,{enter:function(e){var t,n;switch(s=a.acquire(e)||s,e.type!==o.FunctionExpression&&e.type!==o.FunctionDeclaration||++r,e.type){case o.AssignmentExpression:case o.ArrayExpression:case o.BlockStatement:case o.BinaryExpression:case o.BreakStatement:case o.CallExpression:case o.CatchClause:break;case o.ConditionalExpression:e.test=p(e.test,s);break;case o.ContinueStatement:break;case o.DoWhileStatement:e.test=p(e.test,s);break;case o.DebuggerStatement:case o.EmptyStatement:break;case o.ExpressionStatement:i&&0===r||(e.expression=h(e.expression,s));break;case o.FunctionExpression:case o.ForInStatement:case o.FunctionDeclaration:break;case o.ForStatement:e.init&&e.init.type!==o.VariableDeclaration&&(e.init=h(e.init,s)),e.test&&(e.test=p(e.test,s)),e.update&&(e.update=h(e.update,s));break;case o.Identifier:break;case o.IfStatement:e.test=p(e.test,s);break;case o.Literal:case o.LabeledStatement:case o.LogicalExpression:case o.MemberExpression:case o.NewExpression:case o.ObjectExpression:case o.Program:case o.Property:case o.ReturnStatement:break;case o.SequenceExpression:for(t=0,n=e.expressions.length-1;t<n;++t)e.expressions[t]=h(e.expressions[t],s);break;case o.SwitchStatement:case o.SwitchCase:case o.ThisExpression:case o.ThrowStatement:case o.TryStatement:break;case o.UnaryExpression:"!"===e.operator?e.argument=p(e.argument,s):"void"===e.operator&&(e.argument=h(e.argument,s));break;case o.UpdateExpression:case o.VariableDeclaration:case o.VariableDeclarator:break;case o.WhileStatement:e.test=p(e.test,s);break;case o.WithStatement:}},leave:function(e){s=a.release(e)||s,e.type!==o.FunctionExpression&&e.type!==o.FunctionDeclaration||--r}}),a.detach(),{result:e,modified:l}}n="remove-context-sensitive-expressions",u=t("../common"),r=t("../evaluator"),c=t("escope"),o=u.Syntax,i.prototype.booleanTransformation=function(e){var t;do{if(e.type===o.UnaryExpression){if("!"===e.operator&&e.argument.type===o.UnaryExpression&&"!"===e.argument.operator){l=!0,e=e.argument.argument;continue}}else if(e.type===o.LogicalExpression){if(e.left.type===o.UnaryExpression&&"!"===e.left.operator&&e.right.type===o.UnaryExpression&&"!"===e.right.operator){l=!0,e.left=e.left.argument,e.right=e.right.argument,e.operator="||"===e.operator?"&&":"||",e=u.moveLocation(e,{type:o.UnaryExpression,operator:"!",argument:e});continue}}else e.type===o.ConditionalExpression&&e.test.type===o.UnaryExpression&&"!"===e.test.operator&&(l=!0,e.test=e.test.argument,t=e.consequent,e.consequent=e.alternate,e.alternate=t);break}while(1);return e},i.prototype.voidTransformation=function(e){var t,n;do{if((e=this.booleanTransformation(e)).type===o.UnaryExpression){if("!"===e.operator||"void"===e.operator){l=!0,e=e.argument;continue}}else e.type===o.LogicalExpression?e.left.type===o.UnaryExpression&&"!"===e.left.operator&&(l=!0,e.left=e.left.argument,e.operator="||"===e.operator?"&&":"||"):e.type===o.ConditionalExpression&&(t=r.hasSideEffect(e.consequent,this.scope),n=r.hasSideEffect(e.alternate,this.scope),t||n?t?n||(l=!0,e=u.moveLocation(e,{type:o.LogicalExpression,operator:"&&",left:e.test,right:e.consequent})):(l=!0,e=u.moveLocation(e,{type:o.LogicalExpression,operator:"||",left:e.test,right:e.alternate})):(l=!0,e=e.test));break}while(1);return e},i.prototype.apply=function(e){for(;;)if(e===(e=this.transform(e))){e.type===o.LogicalExpression?(e.left=this.booleanFunction(e.left,this.scope),e.right=this.voidFunction(e.right,this.scope)):e.type===o.ConditionalExpression?(e.consequent=this.voidFunction(e.consequent,this.scope),e.alternate=this.voidFunction(e.alternate,this.scope)):e.type===o.SequenceExpression&&(e.expressions[e.expressions.length-1]=this.voidFunction(u.Array.last(e.expressions),this.scope));break}return e},e.passName=n,s.exports=e}()},{"../common":13,"../evaluator":15,escope:9}],28:[function(t,o,e){!function(){"use strict";var n,s,r,a;function i(e){for(var t,n=[],r=0,i=e.length;r<i;++r)(t=e[r]).type===s.EmptyStatement?a=!0:n.push(t);return n}function e(e,t){return a=!1,t=t.get("destructive",{pathName:n})?e:r.deepCopy(e),r.traverse(t,{enter:function(e){var t;switch(e.type){case s.BlockStatement:case s.Program:e.body=i(e.body);break;case s.SwitchCase:e.consequent=i(e.consequent);break;case s.IfStatement:(t=e).alternate&&(t.alternate.type===s.EmptyStatement?(a=!0,t.alternate=null):t.consequent.type===s.EmptyStatement&&(a=!0,t.consequent=t.alternate,t.alternate=null,t.test=r.moveLocation(t.test,{type:s.UnaryExpression,operator:"!",argument:t.test})));break;case s.SwitchStatement:e.cases.length&&!(t=r.Array.last(e.cases)).test&&r.Array.empty(t.consequent)&&(a=!0,e.cases.pop())}}}),{result:t,modified:a}}n="remove-empty-statement",r=t("../common"),s=r.Syntax,e.passName=n,o.exports=e}()},{"../common":13}],29:[function(t,n,e){!function(){"use strict";var a,o,c,u,l,h;function e(e,t){var r,i,n;function s(e,t){return!!(e.type!==o.ExpressionStatement||n&&"global"===t.type)}return e=t.get("destructive",{pathName:a})?e:c.deepCopy(e),n=t.get("preserveCompletionValue",{pathName:a}),h=!1,r=null,(i=u.analyze(e,{directive:!0})).attach(),e=c.replace(e,{enter:function(e,t){var n=e;return r=i.acquire(e)||r,(n=n.type===o.SequenceExpression?function(e,t,n,r){var i,s,a,o,u;for(c.assert(1<e.expressions.length,"expressions should be more than one"),o=[],i=0,s=e.expressions.length;i<s;++i)u=a,a=e.expressions[i],(i+1===s&&r||l.hasSideEffect(a,t))&&o.push(a);if(!r&&0===o.length)return h=!0,a;for(c.assert(0<o.length,"result should be more than zero");;){if(s===o.length)return e;if(1!==o.length)return h=!0,e.expressions=o,e;if(c.SpecialNode.canExtractSequence(o[0],n,t))return h=!0,o[0];o.unshift(u)}}(n,r,t,s(t,r)):n).type===o.SequenceExpression&&(c.assert(1<n.expressions.length,"sequences' length should be more than 1"),(e=c.Array.last(n.expressions)).type!==o.UnaryExpression||"void"!==e.operator||l.hasSideEffect(e.argument,r)||(h=!0,n.expressions.pop(),t=c.moveLocation(e,{type:o.UnaryExpression,operator:"void",argument:c.Array.last(n.expressions)}),1===n.expressions.length?n=t:n.expressions[n.expressions.length-1]=t)),s(n,r)||l.hasSideEffect(n.expression,r)||(h=!0,n=c.moveLocation(n,{type:o.EmptyStatement})),n},leave:function(e){r=i.release(e)||r}}),i.detach(),{result:e,modified:h}}a="remove-side-effect-free-expressions",u=t("escope"),c=t("../common"),l=t("../evaluator"),o=c.Syntax,e.passName=a,n.exports=e}()},{"../common":13,"../evaluator":15,escope:9}],30:[function(t,r,e){!function(){"use strict";var n,u,c,l,h,p;function e(e,t){var o,t=t.get("destructive",{pathName:n})?e:c.deepCopy(e);return p=!1,o=[],{result:c.replace(t,{enter:function(e){var t;if(l.Scope.isVariableScopeRequired(e))o.push(e);else switch(t=c.Array.last(o),e.type){case u.IfStatement:var n,r=t,i=e,s=h.booleanCondition(i.test);if(i.alternate){if("boolean"==typeof s)return p=!0,n=[],s?((a=c.delegateVariableDeclarations(i.alternate,r))&&n.push(a),n.push(c.moveLocation(i.test,{type:u.ExpressionStatement,expression:i.test}),i.consequent)):((a=c.delegateVariableDeclarations(i.consequent,r))&&n.push(a),n.push(c.moveLocation(i.test,{type:u.ExpressionStatement,expression:i.test}),i.alternate)),{type:u.BlockStatement,body:n}}else if("boolean"==typeof s)return p=!0,n=[],s?n.push(c.moveLocation(i.test,{type:u.ExpressionStatement,expression:i.test}),i.consequent):((a=c.delegateVariableDeclarations(i.consequent,r))&&n.push(a),n.push(c.moveLocation(i.test,{type:u.ExpressionStatement,expression:i.test}))),{type:u.BlockStatement,body:n};return;case u.LogicalExpression:s=e,r=h.booleanCondition(s.left);return"boolean"==typeof r?(p=!0,r?"&&"===s.operator?c.moveLocation(s,{type:u.SequenceExpression,expressions:[s.left,s.right]}):s.left:"&&"===s.operator?s.left:c.moveLocation(s,{type:u.SequenceExpression,expressions:[s.left,s.right]})):void 0;case u.ConditionalExpression:var a=e,i=h.booleanCondition(a.test);if("boolean"==typeof i)return p=!0,i?c.moveLocation(a,{type:u.SequenceExpression,expressions:[a.test,a.consequent]}):c.moveLocation(a,{type:u.SequenceExpression,expressions:[a.test,a.alternate]})}},leave:function(e){l.Scope.isVariableScopeRequired(e)&&o.pop()}}),modified:p}}n="remove-unreachable-branch",l=t("escope"),c=t("../common"),h=t("../evaluator"),u=c.Syntax,e.passName=n,r.exports=e}()},{"../common":13,"../evaluator":15,escope:9}],31:[function(u,c,e){!function(){"use strict";var n,r,t,i,s,a;function o(e){this.set=new t,this.unused=[],this.upper=e}function e(e,t){t=t.get("destructive",{pathName:n})?e:i.deepCopy(e);return s=null,a=!1,{result:i.replace(t,{enter:function(e){switch(e.type){case r.Program:case r.FunctionDeclaration:case r.FunctionExpression:s=new o(s);break;case r.LabeledStatement:s.register(e);break;case r.BreakStatement:case r.ContinueStatement:s.resolve(e)}},leave:function(e){var t=s.unregister(e);return e.type!==r.Program&&e.type!==r.FunctionDeclaration&&e.type!==r.FunctionExpression||(s=s.close()),t}}),modified:a}}n="remove-unused-label",i=u("../common"),t=u("../map"),r=i.Syntax,o.prototype.register=function(e){var t;i.assert(e.type===r.LabeledStatement),t=e.label.name,i.assert(!this.set.has(t),"duplicate label is found"),this.set.set(t,{used:!1,stmt:e})},o.prototype.unregister=function(e){var t,n;return e.type!==r.LabeledStatement||(t=e.label.name,n=this.set.get(t),this.set.delete(t),n.used)?e:(a=!0,e.body)},o.prototype.resolve=function(e){e.label&&(e=e.label.name,i.assert(this.set.has(e),"unresolved label"),this.set.get(e).used=!0)},o.prototype.close=function(){return this.upper},e.passName=n,c.exports=e}()},{"../common":13,"../map":16}],32:[function(t,r,e){!function(){"use strict";var n,c,l,h;function e(e,t){t=t.get("destructive",{pathName:n})?e:l.deepCopy(e);return h=!1,{result:l.replace(t,{leave:function(e,t){var n,r;if(e.type===c.BlockStatement||e.type===c.Program)for(n=0,r=e.body.length;n<r;++n)if(e.body[n].type===c.BlockStatement){e.body=function(e){for(var t,n,r,i,s,a=[],o=0,u=e.length;o<u;++o)if((r=e[o]).type===c.BlockStatement){for(s=!0,t=0,n=r.body.length;t<n;++t)i=r.body[t],l.isScopedDeclaration(i)&&(s=!1);s?(h=!0,a=a.concat(r.body)):a.push(r)}else a.push(r);return a}(e.body);break}if(t.type!==c.FunctionDeclaration&&t.type!==c.FunctionExpression&&t.type!==c.TryStatement&&t.type!==c.CatchClause){for(;e.type===c.BlockStatement&&1===e.body.length&&!l.isScopedDeclaration(e.body[0]);)h=!0,e=e.body[0];return e.type===c.BlockStatement&&0===e.body.length?(h=!0,{type:c.EmptyStatement}):e}}}),modified:h}}n="remove-wasted-blocks",l=t("../common"),c=l.Syntax,e.passName=n,r.exports=e}()},{"../common":13}],33:[function(t,s,e){!function(){"use strict";var n,o,r,u;function i(e){for(var t,n=[],r=[],i=[],s=0,a=e.length;s<a;++s)((t=e[s]).type===o.FunctionDeclaration?(r.length+n.length!==s&&(u=!0),r):t.type===o.DirectiveStatement?n:i).push(t);return n.concat(r,i)}function e(e,t){t=t.get("destructive",{pathName:n})?e:r.deepCopy(e);return u=!1,r.traverse(t,{leave:function(e){switch(e.type){case o.Program:e.body=i(e.body);break;case o.FunctionDeclaration:case o.FunctionExpression:e.body.body=i(e.body.body)}}}),{result:t,modified:u}}n="reordering-function-declarations",r=t("../common"),o=r.Syntax,e.passName=n,s.exports=e}()},{"../common":13}],34:[function(t,r,e){!function(){"use strict";var n,i,s,a;function e(e,t){var e=t.get("destructive",{pathName:n})?e:s.deepCopy(e),r=t.get("preserveCompletionValue",{pathName:n});return a=!1,{result:s.replace(e,{leave:function(e){var t,n;if(e.type===i.IfStatement&&(n=this.parents(),!r||!s.mayBeCompletionValue(e,n)))return e.alternate?e.consequent.type===i.ExpressionStatement&&e.alternate.type===i.ExpressionStatement?(a=!0,s.moveLocation(e,{type:i.ExpressionStatement,expression:s.moveLocation(e,{type:i.ConditionalExpression,test:e.test,consequent:e.consequent.expression,alternate:e.alternate.expression})})):e.consequent.type===i.ReturnStatement&&e.alternate.type===i.ReturnStatement?(a=!0,e.consequent.argument||e.alternate.argument?(n=e.consequent.argument||s.SpecialNode.generateUndefined(),t=e.alternate.argument||s.SpecialNode.generateUndefined(),s.moveLocation(e,{type:i.ReturnStatement,argument:s.moveLocation(e,{type:i.ConditionalExpression,test:e.test,consequent:n,alternate:t})})):s.moveLocation(e,{type:i.ReturnStatement,argument:s.moveLocation(e,{type:i.SequenceExpression,expressions:[e.test,s.SpecialNode.generateUndefined()]})})):e.consequent.type===i.ThrowStatement&&e.alternate.type===i.ThrowStatement?(a=!0,s.moveLocation(e,{type:i.ThrowStatement,argument:s.moveLocation(e,{type:i.ConditionalExpression,test:e.test,consequent:e.consequent.argument,alternate:e.alternate.argument})})):void 0:e.consequent.type===i.ExpressionStatement?(a=!0,s.moveLocation(e,{type:i.ExpressionStatement,expression:s.moveLocation(e,{type:i.LogicalExpression,operator:"&&",left:e.test,right:e.consequent.expression})})):e.consequent.type===i.EmptyStatement?(a=!0,s.moveLocation(e,{type:i.ExpressionStatement,expression:e.test})):void 0}}),modified:a}}n="transform-branch-to-expression",s=t("../common"),i=s.Syntax,e.passName=n,r.exports=e}()},{"../common":13}],35:[function(t,a,e){!function(){"use strict";var n,r,i,s;function e(e,t){return s=!1,t=t.get("destructive",{pathName:n})?e:i.deepCopy(e),i.traverse(t,{enter:function(e){var t;e.type===r.MemberExpression&&e.computed&&(t=e.property).type===r.Literal&&"string"==typeof t.value&&(i.isIdentifier(t.value)?(s=!0,e.computed=!1,e.property=i.moveLocation(t,{type:r.Identifier,name:t.value})):t.value===Number(t.value).toString()&&(s=!0,e.computed=!0,e.property=i.moveLocation(e.property,i.SpecialNode.generateFromValue(Number(e.property.value)))))}}),{result:t,modified:s}}n="transform-dynamic-to-static-property-access",i=t("../common"),r=i.Syntax,e.passName=n,a.exports=e}()},{"../common":13}],36:[function(t,a,e){!function(){"use strict";var n,r,i,s;function e(e,t){t=t.get("destructive",{pathName:n})?e:i.deepCopy(e);return s=!1,i.traverse(t,{enter:function(e){var t;e.type===r.Property&&e.key.type===r.Literal&&"string"==typeof e.key.value&&(i.isIdentifier(e.key.value)?(s=!0,e.key=i.moveLocation(e.key,{type:r.Identifier,name:e.key.value})):e.key.value===Number(e.key.value).toString()&&(t=i.SpecialNode.generateFromValue(Number(e.key.value))).type===r.Literal&&(s=!0,e.key=i.moveLocation(e.key,t)))}}),{result:t,modified:s}}n="transform-dynamic-to-static-property-definition",i=t("../common"),r=i.Syntax,e.passName=n,a.exports=e}()},{"../common":13}],37:[function(t,a,e){!function(){"use strict";var n,i,r,s;function e(e,t){t=t.get("destructive",{pathName:n})?e:r.deepCopy(e);return s=!1,{result:r.replace(t,{leave:function(e){if(function(e){var t,n,r;if(e.type===i.CallExpression&&(t=e.callee).type===i.FunctionExpression&&t.body.type===i.BlockStatement){if(0!==t.body.body.length)for(n=0,r=t.body.body.length;n<r;++n)if(t.body.body[n].type!==i.FunctionDeclaration)return;return 1}}(e))return s=!0,e=e,0===(t=r.Array.from(e.arguments)).length?r.SpecialNode.generateUndefined(e):(t.push(r.SpecialNode.generateUndefined()),r.moveLocation(e,{type:i.SequenceExpression,expressions:t}));var t}}),modified:s}}n="transform-immediate-function-call",r=t("../common"),i=r.Syntax,e.passName=n,a.exports=e}()},{"../common":13}],38:[function(t,a,e){!function(){"use strict";var n,r,i,s;function e(e,t){t=t.get("destructive",{pathName:n})?e:i.deepCopy(e);return s=!1,i.traverse(t,{enter:function(e){e.type===r.LogicalExpression&&e.right.type===r.LogicalExpression&&e.operator===e.right.operator&&(s=!0,e.left={type:r.LogicalExpression,operator:e.operator,left:e.left,right:e.right.left},e.right=e.right.right)}}),{result:t,modified:s}}n="transform-logical-association",i=t("../common"),r=i.Syntax,e.passName=n,a.exports=e}()},{"../common":13}],39:[function(t,i,e){!function(){"use strict";var n,a,r,o,u;function c(e,t){return e.type===t.type&&e.type===a.Identifier&&e.name===t.name}function e(e,t){var i,s,t=t.get("destructive",{pathName:n})?e:r.deepCopy(e);return u=!1,i=null,(s=o.analyze(t,{directive:!0})).attach(),r.traverse(t,{enter:function(e){var t,n,r;i=s.acquire(e)||i,e.type===a.AssignmentExpression&&"="===e.operator&&(t=e.left,(n=e.right).type===a.BinaryExpression&&c(n.left,t)?(r=function(e){switch(e){case"*":case"/":case"%":case"+":case"-":case"<<":case">>":case">>>":case"&":case"^":case"|":return e+"="}return null}(n.operator))&&(u=!0,e.operator=r,e.right=n.right):n.type===a.AssignmentExpression&&c(n.left,t)&&function(e){switch(e){case"*=":case"/=":case"%=":case"+=":case"-=":case"<<=":case">>=":case">>>=":case"&=":case"^=":case"|=":return e}}(n.operator)&&i.resolve(e.left).isStatic()&&(u=!0,e.operator=n.operator,e.right=n.right))},leave:function(e){i=s.release(e)||i}}),s.detach(),{result:t,modified:u}}n="transform-to-compound-assignment",o=t("escope"),r=t("../common"),a=r.Syntax,e.passName=n,i.exports=e}()},{"../common":13,escope:9}],40:[function(t,i,e){!function(){"use strict";var n,c,r,l;function e(e,t){return l=!1,t=t.get("destructive",{pathName:n})?e:r.deepCopy(e),r.traverse(t,{enter:function(e){switch(e.type){case c.BlockStatement:case c.Program:var t,n,r,i,s,a,o=e;function u(e,t){return 1!==e.length&&(l=!0,e={type:c.SequenceExpression,expressions:e},t.type===c.ExpressionStatement?t.expression=e:t.argument=e),t}for(a=[],r=[],t=0,n=o.body.length;t<n;++t)s=i,(i=o.body[t]).type===c.ExpressionStatement?r.push(i.expression):i.type===c.ReturnStatement&&null!=i.argument||i.type===c.ThrowStatement?(r.push(i.argument),a.push(u(r,i)),r=[]):(i.type!==c.ForStatement||i.init&&i.init.type===c.VariableDeclaration?i.type===c.IfStatement?r.length&&(l=!0,r.push(i.test),i.test={type:c.SequenceExpression,expressions:r},r=[]):r.length&&(a.push(u(r,s)),r=[]):r.length&&(l=!0,i.init&&r.push(i.init),1===r.length?i.init=r[0]:i.init={type:c.SequenceExpression,expressions:r},r=[]),a.push(i));r.length&&a.push(u(r,i)),o.body=a}}}),{result:t,modified:l}}n="transform-to-sequence-expression",r=t("../common"),c=r.Syntax,e.passName=n,i.exports=e}()},{"../common":13}],41:[function(t,i,e){!function(){"use strict";var n,o,u,r,c;function l(e){return e.type===o.Literal&&"undefined"===e.value}function e(e,t){var s,a,t=t.get("destructive",{pathName:n})?e:u.deepCopy(e);return c=!1,a=null,(s=r.analyze(t,{directive:!0})).attach(),u.traverse(t,{enter:function(e){var t,n,r,i;if(a=s.acquire(e)||a,e.type===o.BinaryExpression&&("==="===e.operator||"!=="===e.operator||"=="===e.operator||"!="===e.operator)){if(l(e.left))n="left",t="right";else{if(!l(e.right))return;n="right",t="left"}e[t].type===o.UnaryExpression&&"typeof"===e[t].operator&&((r=e[t].argument).type!==o.Identifier||(i=a.resolve(r))&&i.isStatic()&&i.resolved)&&(c=!0,e[n]=u.SpecialNode.generateUndefined(),e[t]=r,e.operator="!"===e.operator.charAt(0)?"!==":"===")}},leave:function(e){a=s.release(e)||a}}),s.detach(),{result:t,modified:c}}n="transform-typeof-undefined",r=t("escope"),u=t("../common"),o=u.Syntax,e.passName=n,i.exports=e}()},{"../common":13,escope:9}],42:[function(t,r,e){!function(){"use strict";var n,o,u,c,l;function h(e){return e.type===o.ConditionalExpression&&(c.constant.isConstant(e.consequent)||c.constant.isConstant(e.alternate))}function e(e,t){t=t.get("destructive",{pathName:n})?e:u.deepCopy(e);return l=!1,{result:u.replace(t,{leave:function(e){var t,n;switch(e.type){case o.BinaryExpression:case o.LogicalExpression:case o.UnaryExpression:if(n=e,u.SpecialNode.isUndefined(n)||u.SpecialNode.isNegative(n)||u.SpecialNode.isNaN(n)||!c.constant.isConstant(n,!1)){var r,i,s,a=e;switch(a.type){case o.BinaryExpression:if("in"===a.operator||"instanceof"===a.operator)return a;c.constant.isConstant(a.left)&&h(a.right)?(l=!0,i=(r=a).operator,s=c.constant.evaluate(r.left),a=a.right,c.constant.isConstant(a.consequent)?a.consequent=u.SpecialNode.generateFromValue(c.constant.doBinary(i,s,c.constant.evaluate(a.consequent))):(r.right=a.consequent,a.consequent=r),c.constant.isConstant(a.alternate)?a.alternate=u.SpecialNode.generateFromValue(c.constant.doBinary(i,s,c.constant.evaluate(a.alternate))):(r.right=a.alternate,a.alternate=r)):c.constant.isConstant(a.right)&&h(a.left)&&(l=!0,i=(r=a).operator,s=c.constant.evaluate(r.right),a=a.left,c.constant.isConstant(a.consequent)?a.consequent=u.SpecialNode.generateFromValue(c.constant.doBinary(i,c.constant.evaluate(a.consequent),s)):(r.left=a.consequent,a.consequent=r),c.constant.isConstant(a.alternate)?a.alternate=u.SpecialNode.generateFromValue(c.constant.doBinary(i,c.constant.evaluate(a.alternate),s)):(r.left=a.alternate,a.alternate=r));break;case o.LogicalExpression:break;case o.UnaryExpression:h(a.argument)&&(l=!0,i=(s=a).operator,a=s.argument,c.constant.isConstant(a.consequent)?a.consequent=u.SpecialNode.generateFromValue(c.constant.doUnary(i,c.constant.evaluate(a.consequent))):(s.argument=a.consequent,a.consequent=s),c.constant.isConstant(a.alternate)?a.alternate=u.SpecialNode.generateFromValue(c.constant.doUnary(i,c.constant.evaluate(a.alternate))):(s.argument=a.alternate,a.alternate=s))}return a}return l=!0,u.moveLocation(e,u.SpecialNode.generateFromValue(c.constant.evaluate(e)));case o.ConditionalExpression:if(c.constant.isConstant(e.consequent)&&c.constant.isConstant(e.alternate)&&(n=c.constant.evaluate(e.consequent),t=c.constant.evaluate(e.alternate),u.sameValue(n,t)))return l=!0,u.moveLocation(e,{type:o.SequenceExpression,expressions:[e.test,u.SpecialNode.generateFromValue(n)]})}}}),modified:l}}n="tree-based-constant-folding",u=t("../common"),c=t("../evaluator"),o=u.Syntax,e.passName=n,r.exports=e}()},{"../common":13,"../evaluator":15}],43:[function(t,r,e){!function(){"use strict";var n,s,a,o;function e(e,t){var e=t.get("destructive",{pathName:n})?e:a.deepCopy(e),i=t.get("preserveCompletionValue",{pathName:n});return o=!1,{result:a.replace(e,{enter:function(e,t){var n,r;if((r=e).type===s.CallExpression&&r.callee.type===s.FunctionExpression){if((r=t).type===s.ExpressionStatement){if((n=this.parents()).pop(),i&&a.mayBeCompletionValue(r,n))return}else{if(!(r.type===s.SequenceExpression&&2<=r.expressions.length&&r.expressions[0]===e))return;if((n=this.parents()).pop(),n.pop().type!==s.ExpressionStatement)return}return o=!0,{type:s.UnaryExpression,operator:"!",argument:e}}},leave:function(e){e.type!==s.FunctionExpression&&e.type!==s.FunctionDeclaration||0}}),modified:o}}n="omit-parens-in-void-context-iife",a=t("../common"),s=a.Syntax,e.passName=n,r.exports=e}()},{"../common":13}],44:[function(o,u,e){!function(){"use strict";var n,t,r,i;function s(e){return e.type===t.Literal&&"boolean"==typeof e.value}function a(e){if(s(e))return i=!0,r.moveLocation(e,{type:t.UnaryExpression,operator:"!",argument:r.moveLocation(e,{type:t.Literal,value:+!e.value})});if(e.type===t.BinaryExpression&&"=="===e.operator||"!="===e.operator){if(s(e.left))return i=!0,e.left=r.moveLocation(e.left,{type:t.Literal,value:+e.left.value}),e;if(s(e.right))i=!0,e.right=r.moveLocation(e.right,{type:t.Literal,value:+e.right.value})}return e}function e(e,t){return i=!1,t=t.get("destructive",{pathName:n})?e:r.deepCopy(e),{result:r.replace(t,{enter:a}),modified:i}}n="rewrite-boolean",r=o("../common"),t=r.Syntax,e.passName=n,u.exports=e}()},{"../common":13}],45:[function(t,a,e){!function(){"use strict";var n,i,r,s;function e(e,t){return s=!1,t=t.get("destructive",{pathName:n})?e:r.deepCopy(e),r.traverse(t,{enter:function(e){var t,n,r;e.type===i.ConditionalExpression&&(t=(e=e).test,n=e.consequent,r=e.alternate,t.type===i.UnaryExpression)&&"!"===t.operator&&(s=!0,e.consequent=r,e.alternate=n,e.test=t.argument)}}),{result:t,modified:s}}n="rewrite-conditional-expression",r=t("../common"),i=r.Syntax,e.passName=n,a.exports=e}()},{"../common":13}],46:[function(t,n,e){!function(){"use strict";var r,i,s;function e(e,t){var t=t.get("destructive",{pathName:r})?e:s.deepCopy(e),n=!1;return{result:s.replace(t,{enter:function(e){if(e.type===i.Literal&&"number"==typeof e.value&&e.value===1/0)return n=!0,s.moveLocation(e,{type:i.BinaryExpression,operator:"/",left:{type:i.Literal,value:1},right:{type:i.Literal,value:0}})}}),modified:n}}r="transform-infinity",s=t("../common"),i=s.Syntax,e.passName=r,n.exports=e}()},{"../common":13}],47:[function(t,n,e){!function(){"use strict";var r,i,s;function e(e,t){var t=t.get("destructive",{pathName:r})?e:s.deepCopy(e),n=!1;return s.traverse(t,{enter:function(e){var t;if(e.type===i.MemberExpression&&!e.computed&&e.property.type===i.Identifier)switch((t=e.property).name){case"undefined":n=!0,e.computed=!0,e.property=s.moveLocation(t,{type:i.UnaryExpression,operator:"void",argument:{type:i.Literal,value:0}});break;case"true":case"false":n=!0,e.computed=!0,e.property=s.moveLocation(t,{type:i.Literal,value:"true"===t.name});break;case"Infinity":n=!0,e.computed=!0,e.property=s.moveLocation(t,{type:i.BinaryExpression,operator:"/",left:{type:i.Literal,value:1},right:{type:i.Literal,value:0}})}}}),{result:t,modified:n}}r="transform-static-to-dynamic-property-access",s=t("../common"),i=s.Syntax,e.passName=r,n.exports=e}()},{"../common":13}],48:[function(e,t,n){!function(){"use strict";var a=e("./common");n.get=function(e,t){for(var n=e,r=0,i=t.length;r<i;++r)n=n[t[r]];return n},n.set=function(e,t,n){var r,i,s;for(a.assert(0<t.length),s=e,r=0,i=t.length-1;r<i;++r)s=s[t[r]];s[t[r]]=n}}()},{"./common":13}],49:[function(e,t,n){!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["exports"],t):t(void 0!==n?n:e.estraverse={})}(this,function(e){"use strict";var m,g,u,D,y,E;function c(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],r[t]="object"==typeof n&&null!==n?c(n):n);return r}function x(e,t){this.parent=e,this.key=t}function C(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function n(){}function l(e,t){return(new n).traverse(e,t)}function h(t,e){var n=function(e,t){for(var n,r,i=e.length,s=0;i;)t(e[r=s+(n=i>>>1)])?i=n:(s=r+1,i-=1+n);return s}(e,function(e){return e.range[0]>t.range[0]});return t.extendedRange=[t.range[0],t.range[1]],n!==e.length&&(t.extendedRange[1]=e[n].range[0]),0<=--n&&(t.extendedRange[0]=e[n].range[1]),t}m={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},g=(g=Array.isArray)||function(e){return"[object Array]"===Object.prototype.toString.call(e)},D={AssignmentExpression:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","defaults","rest","body"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","body","superClass"],ClassExpression:["id","body","superClass"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","defaults","rest","body"],FunctionExpression:["id","params","defaults","rest","body"],Identifier:[],IfStatement:["test","consequent","alternate"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handlers","handler","guardedHandlers","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={Break:y={},Skip:E={}},x.prototype.replace=function(e){this.parent[this.key]=e},n.prototype.path=function(){var e,t,n,r,i;function s(e,t){if(g(t))for(n=0,r=t.length;n<r;++n)e.push(t[n]);else e.push(t)}if(!this.__current.path)return null;for(i=[],e=2,t=this.__leavelist.length;e<t;++e)s(i,this.__leavelist[e].path);return s(i,this.__current.path),i},n.prototype.parents=function(){for(var e=[],t=1,n=this.__leavelist.length;t<n;++t)e.push(this.__leavelist[t].node);return e},n.prototype.current=function(){return this.__current.node},n.prototype.__execute=function(e,t){var n=void 0,r=this.__current;return this.__current=t,this.__state=null,e&&(n=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,n},n.prototype.notify=function(e){this.__state=e},n.prototype.skip=function(){this.notify(E)},n.prototype.break=function(){this.notify(y)},n.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null},n.prototype.traverse=function(e,t){var n,r,i,s,a,o,u,c,l,h,p,d;for(this.__initialize(e,t),d={},n=this.__worklist,r=this.__leavelist,n.push(new C(e,null,null,null)),r.push(new C(null,null,null,null));n.length;)if((i=n.pop())===d){if(i=r.pop(),o=this.__execute(t.leave,i),this.__state===y||o===y)return}else if(i.node){if(o=this.__execute(t.enter,i),this.__state===y||o===y)return;if(n.push(d),r.push(i),this.__state!==E&&o!==E)for(s=i.node,a=i.wrap||s.type,c=(h=D[a]).length;0<=--c;)if(p=s[u=h[c]])if(g(p))for(l=p.length;0<=--l;)p[l]&&(i=a!==m.ObjectExpression&&a!==m.ObjectPattern||"properties"!==h[c]?new C(p[l],[u,l],null,null):new C(p[l],[u,l],"Property",null),n.push(i));else n.push(new C(p,u,null,null))}},n.prototype.replace=function(e,t){var n,r,i,s,a,o,u,c,l,h,p,d,f;for(this.__initialize(e,t),p={},n=this.__worklist,r=this.__leavelist,o=new C(e,null,null,new x(d={root:e},"root")),n.push(o),r.push(o);n.length;)if((o=n.pop())===p){if(o=r.pop(),void 0!==(a=this.__execute(t.leave,o))&&a!==y&&a!==E&&o.ref.replace(a),this.__state===y||a===y)return d.root}else{if(void 0!==(a=this.__execute(t.enter,o))&&a!==y&&a!==E&&(o.ref.replace(a),o.node=a),this.__state===y||a===y)return d.root;if((i=o.node)&&(n.push(p),r.push(o),this.__state!==E)&&a!==E)for(s=o.wrap||i.type,u=(l=D[s]).length;0<=--u;)if(h=i[f=l[u]])if(g(h))for(c=h.length;0<=--c;)h[c]&&(o=s===m.ObjectExpression&&"properties"===l[u]?new C(h[c],[f,c],"Property",new x(h,c)):new C(h[c],[f,c],null,new x(h,c)),n.push(o));else n.push(new C(h,f,null,new x(i,f)))}return d.root},e.version="1.5.1-dev",e.Syntax=m,e.traverse=l,e.replace=function(e,t){return(new n).replace(e,t)},e.attachComments=function(e,t,n){var r,i,s,a,o=[];if(!e.range)throw new Error("attachComments needs range information");if(n.length){for(s=0,i=t.length;s<i;s+=1)o.push(h(c(t[s]),n));a=0,l(e,{enter:function(e){for(var t;a<o.length&&!((t=o[a]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}}),a=0,l(e,{leave:function(e){for(var t;a<o.length&&(t=o[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}})}else if(t.length){for(s=0,i=t.length;s<i;s+=1)(r=c(t[s])).extendedRange=[0,e.range[0]],o.push(r);e.leadingComments=o}return e},e.VisitorKeys=D,e.VisitorOption=u,e.Controller=n})},{}],50:[function(e,r,t){!function(){"use strict";var t;function n(e){return 48<=e&&e<=57}t={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},r.exports={isDecimalDigit:n,isHexDigit:function(e){return n(e)||97<=e&&e<=102||65<=e&&e<=70},isOctalDigit:function(e){return 48<=e&&e<=55},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||92===e||128<=e&&t.NonAsciiIdentifierStart.test(String.fromCharCode(e))},isIdentifierPart:function(e){return 36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||92===e||128<=e&&t.NonAsciiIdentifierPart.test(String.fromCharCode(e))}}}()},{}],51:[function(e,t,n){!function(){"use strict";var i=e("./code");function n(e,t){if(t&&function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return 1;default:return}}(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}t.exports={isKeywordES5:function(e,t){return!(!t&&"yield"===e)&&n(e,t)},isKeywordES6:n,isRestrictedWord:function(e){return"eval"===e||"arguments"===e},isIdentifierName:function(e){var t,n,r;if(0===e.length)return!1;if(r=e.charCodeAt(0),!i.isIdentifierStart(r)||92===r)return!1;for(t=1,n=e.length;t<n;++t)if(r=e.charCodeAt(t),!i.isIdentifierPart(r)||92===r)return!1;return!0}}}()},{"./code":50}],52:[function(e,t,n){!function(){"use strict";n.code=e("./code"),n.keyword=e("./keyword")}()},{"./code":50,"./keyword":51}],53:[function(e,t,n){t.exports={name:"esmangle",description:"ECMAScript code mangler / minifier",homepage:"http://github.com/Constellation/esmangle.html",main:"lib/esmangle.js",bin:{esmangle:"./bin/esmangle.js"},version:"1.0.1",engines:{node:">=0.6.0"},directories:{lib:"./lib"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/Constellation/esmangle.git"},dependencies:{esutils:"~ 1.0.0",esshorten:"~1.1.0",estraverse:"~1.5.0",escope:"~1.0.1","source-map":"~0.1.33",escodegen:"~1.3.2",optionator:"~0.3.0",esprima:"~1.1.1"},devDependencies:{chai:"*","grunt-contrib-jshint":"~0.8.0","grunt-mocha-test":"~0.8.1","grunt-contrib-copy":"~0.5.0","grunt-contrib-clean":"~0.5.0",async:"~0.2.9",q:"~0.9.7","commonjs-everywhere":"~0.9.4","grunt-cli":"~0.1.11",grunt:"~0.4.2","grunt-update-submodules":"~0.2.1","grunt-shell":"~0.6.1",clone:"~0.1.11"},licenses:[{type:"BSD",url:"http://github.com/Constellation/esmangle/raw/master/LICENSE.BSD"}],scripts:{test:"grunt travis",lint:"grunt lint","regression-test":"grunt test:regression","unit-test":"grunt test",build:"grunt build"}}},{}],54:[function(e,t,n){var r,i;r=this,i=function(){return r=[function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),c=n(3),l=n(8),a=n(15);function r(e,t,n){function r(e,t){n&&n(e,t),i&&i.visit(e,t)}var i=null,s="function"==typeof n?r:null,a=!1,o=(t&&(a="boolean"==typeof t.comment&&t.comment,o="boolean"==typeof t.attachComment&&t.attachComment,a||o)&&((i=new u.CommentHandler).attach=o,t.comment=!0,s=r),!1),e=(t&&"string"==typeof t.sourceType&&(o="module"===t.sourceType),new(t&&"boolean"==typeof t.jsx&&t.jsx?c.JSXParser:l.Parser)(e,t,s)),t=o?e.parseModule():e.parseScript();return a&&i&&(t.comments=i.comments),e.config.tokens&&(t.tokens=e.tokens),e.config.tolerant&&(t.errors=e.errorHandler.errors),t}t.parse=r,t.parseModule=function(e,t,n){return(t=t||{}).sourceType="module",r(e,t,n)},t.parseScript=function(e,t,n){return(t=t||{}).sourceType="script",r(e,t,n)},t.tokenize=function(e,t,n){var r=new a.Tokenizer(e,t),i=[];try{for(;;){var s=r.getNextToken();if(!s)break;n&&(s=n(s)),i.push(s)}}catch(e){r.errorHandler.tolerate(e)}return r.errorHandler.tolerant&&(i.errors=r.errors()),i};n=n(2);t.Syntax=n.Syntax,t.version="4.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(2);function r(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}r.prototype.insertInnerComments=function(e,t){if(e.type===s.Syntax.BlockStatement&&0===e.body.length){for(var n=[],r=this.leading.length-1;0<=r;--r){var i=this.leading[r];t.end.offset>=i.start&&(n.unshift(i.comment),this.leading.splice(r,1),this.trailing.splice(r,1))}n.length&&(e.innerComments=n)}},r.prototype.findTrailingComments=function(e){var t=[];if(0<this.trailing.length){for(var n=this.trailing.length-1;0<=n;--n){var r=this.trailing[n];r.start>=e.end.offset&&t.unshift(r.comment)}this.trailing.length=0}else{var i,s=this.stack[this.stack.length-1];s&&s.node.trailingComments&&(i=s.node.trailingComments[0])&&i.range[0]>=e.end.offset&&(t=s.node.trailingComments,delete s.node.trailingComments)}return t},r.prototype.findLeadingComments=function(e){for(var t,n=[];0<this.stack.length&&((s=this.stack[this.stack.length-1])&&s.start>=e.start.offset);)t=s.node,this.stack.pop();if(t){for(var r=(t.leadingComments?t.leadingComments.length:0)-1;0<=r;--r){var i=t.leadingComments[r];i.range[1]<=e.start.offset&&(n.unshift(i),t.leadingComments.splice(r,1))}t.leadingComments&&0===t.leadingComments.length&&delete t.leadingComments}else for(var s,r=this.leading.length-1;0<=r;--r)(s=this.leading[r]).start<=e.start.offset&&(n.unshift(s.comment),this.leading.splice(r,1));return n},r.prototype.visitNode=function(e,t){var n,r;e.type===s.Syntax.Program&&0<e.body.length||(this.insertInnerComments(e,t),n=this.findTrailingComments(t),0<(r=this.findLeadingComments(t)).length&&(e.leadingComments=r),0<n.length&&(e.trailingComments=n),this.stack.push({node:e,start:t.start.offset}))},r.prototype.visitComment=function(e,t){var n="L"===e.type[0]?"Line":"Block",r={type:n,value:e.value};e.range&&(r.range=e.range),e.loc&&(r.loc=e.loc),this.comments.push(r),this.attach&&(r={comment:{type:n,value:e.value,range:[t.start.offset,t.end.offset]},start:t.start.offset},e.loc&&(r.comment.loc=e.loc),e.type=n,this.leading.push(r),this.trailing.push(r))},r.prototype.visit=function(e,t){"LineComment"===e.type||"BlockComment"===e.type?this.visitComment(e,t):this.attach&&this.visitNode(e,t)},t.CommentHandler=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=(Object.defineProperty(t,"__esModule",{value:!0}),n(4)),a=n(5),o=n(6),s=n(7),c=n(8),l=n(13),h=n(14);function p(e){switch(e.type){case o.JSXSyntax.JSXIdentifier:var t=e.name;break;case o.JSXSyntax.JSXNamespacedName:var n=e;t=p(n.namespace)+":"+p(n.name);break;case o.JSXSyntax.JSXMemberExpression:n=e;t=p(n.object)+"."+p(n.property)}return t}l.TokenName[100]="JSXIdentifier",l.TokenName[101]="JSXText";d=c.Parser,i(f,d),f.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():d.prototype.parsePrimaryExpression.call(this)},f.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},f.prototype.finishJSX=function(){this.nextToken()},f.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},f.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},f.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},f.prototype.scanXHTMLEntity=function(e){for(var t,n="&",r=!0,i=!1,s=!1,a=!1;!this.scanner.eof()&&r&&!i;){var o=this.scanner.source[this.scanner.index];if(o===e)break;if(i=";"===o,n+=o,++this.scanner.index,!i)switch(n.length){case 2:s="#"===o;break;case 3:s&&(r=(a="x"===o)||u.Character.isDecimalDigit(o.charCodeAt(0)),s=s&&!a);break;default:r=(r=r&&!(s&&!u.Character.isDecimalDigit(o.charCodeAt(0))))&&!(a&&!u.Character.isHexDigit(o.charCodeAt(0)))}}return r&&i&&2<n.length&&(t=n.substr(1,n.length-2),s&&1<t.length?n=String.fromCharCode(parseInt(t.substr(1),10)):a&&2<t.length?n=String.fromCharCode(parseInt("0"+t.substr(1),16)):s||a||!h.XHTMLEntities[t]||(n=h.XHTMLEntities[t])),n},f.prototype.lexJSX=function(){var e,t,n,r=this.scanner.source.charCodeAt(this.scanner.index);if(60===r||62===r||47===r||58===r||61===r||123===r||125===r)return{type:7,value:n=this.scanner.source[this.scanner.index++],lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index};if(34===r||39===r){for(var i=this.scanner.index,s=this.scanner.source[this.scanner.index++],a="";!this.scanner.eof();){if((o=this.scanner.source[this.scanner.index++])===s)break;a+="&"===o?this.scanXHTMLEntity(s):o}return{type:8,value:a,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:i,end:this.scanner.index}}if(46===r)return e=this.scanner.source.charCodeAt(this.scanner.index+1),t=this.scanner.source.charCodeAt(this.scanner.index+2),i=this.scanner.index,this.scanner.index+=(n=46===e&&46===t?"...":".").length,{type:7,value:n,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:i,end:this.scanner.index};if(96===r)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(u.Character.isIdentifierStart(r)&&92!==r){i=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var o=this.scanner.source.charCodeAt(this.scanner.index);if((!u.Character.isIdentifierPart(o)||92===o)&&45!==o)break;++this.scanner.index}return{type:100,value:this.scanner.source.slice(i,this.scanner.index),lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:i,end:this.scanner.index}}return this.scanner.lex()},f.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var e=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(e)),e},f.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var e=this.scanner.index,t="";!this.scanner.eof();){var n=this.scanner.source[this.scanner.index];if("{"===n||"<"===n)break;++this.scanner.index,t+=n,u.Character.isLineTerminator(n.charCodeAt(0))&&(++this.scanner.lineNumber,"\r"===n&&"\n"===this.scanner.source[this.scanner.index]&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;e={type:101,value:t,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:e,end:this.scanner.index};return 0<t.length&&this.config.tokens&&this.tokens.push(this.convertToken(e)),e},f.prototype.peekJSXToken=function(){var e=this.scanner.saveState(),t=(this.scanner.scanComments(),this.lexJSX());return this.scanner.restoreState(e),t},f.prototype.expectJSX=function(e){var t=this.nextJSXToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},f.prototype.matchJSX=function(e){var t=this.peekJSXToken();return 7===t.type&&t.value===e},f.prototype.parseJSXIdentifier=function(){var e=this.createJSXNode(),t=this.nextJSXToken();return 100!==t.type&&this.throwUnexpectedToken(t),this.finalize(e,new a.JSXIdentifier(t.value))},f.prototype.parseJSXElementName=function(){var e=this.createJSXNode(),t=this.parseJSXIdentifier();if(this.matchJSX(":"))var n=t,r=(this.expectJSX(":"),this.parseJSXIdentifier()),t=this.finalize(e,new a.JSXNamespacedName(n,r));else if(this.matchJSX("."))for(;this.matchJSX(".");){var i=t,s=(this.expectJSX("."),this.parseJSXIdentifier());t=this.finalize(e,new a.JSXMemberExpression(i,s))}return t},f.prototype.parseJSXAttributeName=function(){var e,t,n=this.createJSXNode(),r=this.parseJSXIdentifier();return this.matchJSX(":")?(e=r,this.expectJSX(":"),t=this.parseJSXIdentifier(),this.finalize(n,new a.JSXNamespacedName(e,t))):r},f.prototype.parseJSXStringLiteralAttribute=function(){var e=this.createJSXNode(),t=this.nextJSXToken(),n=(8!==t.type&&this.throwUnexpectedToken(t),this.getTokenRaw(t));return this.finalize(e,new s.Literal(t.value,n))},f.prototype.parseJSXExpressionAttribute=function(){var e=this.createJSXNode(),t=(this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression"),this.parseAssignmentExpression());return this.reenterJSX(),this.finalize(e,new a.JSXExpressionContainer(t))},f.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},f.prototype.parseJSXNameValueAttribute=function(){var e=this.createJSXNode(),t=this.parseJSXAttributeName(),n=null;return this.matchJSX("=")&&(this.expectJSX("="),n=this.parseJSXAttributeValue()),this.finalize(e,new a.JSXAttribute(t,n))},f.prototype.parseJSXSpreadAttribute=function(){var e=this.createJSXNode(),t=(this.expectJSX("{"),this.expectJSX("..."),this.finishJSX(),this.parseAssignmentExpression());return this.reenterJSX(),this.finalize(e,new a.JSXSpreadAttribute(t))},f.prototype.parseJSXAttributes=function(){for(var e=[];!this.matchJSX("/")&&!this.matchJSX(">");){var t=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();e.push(t)}return e},f.prototype.parseJSXOpeningElement=function(){var e=this.createJSXNode(),t=(this.expectJSX("<"),this.parseJSXElementName()),n=this.parseJSXAttributes(),r=this.matchJSX("/");return r&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(e,new a.JSXOpeningElement(t,r,n))},f.prototype.parseJSXBoundaryElement=function(){var e,t,n,r=this.createJSXNode();return this.expectJSX("<"),this.matchJSX("/")?(this.expectJSX("/"),e=this.parseJSXElementName(),this.expectJSX(">"),this.finalize(r,new a.JSXClosingElement(e))):(e=this.parseJSXElementName(),t=this.parseJSXAttributes(),(n=this.matchJSX("/"))&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(r,new a.JSXOpeningElement(e,n,t)))},f.prototype.parseJSXEmptyExpression=function(){var e=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(e,new a.JSXEmptyExpression)},f.prototype.parseJSXExpressionContainer=function(){var e,t=this.createJSXNode();return this.expectJSX("{"),this.matchJSX("}")?(e=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),e=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(t,new a.JSXExpressionContainer(e))},f.prototype.parseJSXChildren=function(){for(var e=[];!this.scanner.eof();){var t,n=this.createJSXChildNode(),r=this.nextJSXText();if(r.start<r.end&&(t=this.getTokenRaw(r),n=this.finalize(n,new a.JSXText(r.value,t)),e.push(n)),"{"!==this.scanner.source[this.scanner.index])break;r=this.parseJSXExpressionContainer();e.push(r)}return e},f.prototype.parseComplexJSXElement=function(e){for(var t=[];!this.scanner.eof();){e.children=e.children.concat(this.parseJSXChildren());var n,r=this.createJSXChildNode(),i=this.parseJSXBoundaryElement();if(i.type===o.JSXSyntax.JSXOpeningElement&&((n=i).selfClosing?(s=this.finalize(r,new a.JSXElement(n,[],null)),e.children.push(s)):(t.push(e),e={node:r,opening:n,closing:null,children:[]})),i.type===o.JSXSyntax.JSXClosingElement){e.closing=i;r=p(e.opening.name);if(r!==p(e.closing.name)&&this.tolerateError("Expected corresponding JSX closing tag for %0",r),!(0<t.length))break;var s=this.finalize(e.node,new a.JSXElement(e.opening,e.children,e.closing));(e=t[t.length-1]).children.push(s),t.pop()}}return e},f.prototype.parseJSXElement=function(){var e,t=this.createJSXNode(),n=this.parseJSXOpeningElement(),r=[],i=null;return n.selfClosing||(r=(e=this.parseComplexJSXElement({node:t,opening:n,closing:i,children:r})).children,i=e.closing),this.finalize(t,new a.JSXElement(n,r,i))},f.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var e=this.parseJSXElement();return this.finishJSX(),e},f.prototype.isStartOfExpression=function(){return d.prototype.isStartOfExpression.call(this)||this.match("<")};var d,n=f;function f(e,t,n){return d.call(this,e,t,n)||this}t.JSXParser=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};t.Character={fromCodePoint:function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10))+String.fromCharCode(56320+(e-65536&1023))},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStart:function(e){return 36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||92===e||128<=e&&n.NonAsciiIdentifierStart.test(t.Character.fromCodePoint(e))},isIdentifierPart:function(e){return 36===e||95===e||65<=e&&e<=90||97<=e&&e<=122||48<=e&&e<=57||92===e||128<=e&&n.NonAsciiIdentifierPart.test(t.Character.fromCodePoint(e))},isDecimalDigit:function(e){return 48<=e&&e<=57},isHexDigit:function(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102},isOctalDigit:function(e){return 48<=e&&e<=55}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t,n){this.type=d.JSXSyntax.JSXElement,this.openingElement=e,this.children=t,this.closingElement=n}function i(){this.type=d.JSXSyntax.JSXEmptyExpression}function s(e){this.type=d.JSXSyntax.JSXExpressionContainer,this.expression=e}function a(e){this.type=d.JSXSyntax.JSXIdentifier,this.name=e}function o(e,t){this.type=d.JSXSyntax.JSXMemberExpression,this.object=e,this.property=t}function u(e,t){this.type=d.JSXSyntax.JSXAttribute,this.name=e,this.value=t}function c(e,t){this.type=d.JSXSyntax.JSXNamespacedName,this.namespace=e,this.name=t}function l(e,t,n){this.type=d.JSXSyntax.JSXOpeningElement,this.name=e,this.selfClosing=t,this.attributes=n}function h(e){this.type=d.JSXSyntax.JSXSpreadAttribute,this.argument=e}function p(e,t){this.type=d.JSXSyntax.JSXText,this.value=e,this.raw=t}var d=n(6);t.JSXClosingElement=function(e){this.type=d.JSXSyntax.JSXClosingElement,this.name=e},t.JSXElement=r,t.JSXEmptyExpression=i,t.JSXExpressionContainer=s,t.JSXIdentifier=a,t.JSXMemberExpression=o,t.JSXAttribute=u,t.JSXNamespacedName=c,t.JSXOpeningElement=l,t.JSXSpreadAttribute=h;t.JSXText=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(O,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(e){this.type=P.Syntax.ArrayPattern,this.elements=e}function r(e,t,n){this.type=P.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!1}function i(e,t,n){this.type=P.Syntax.AssignmentExpression,this.operator=e,this.left=t,this.right=n}function s(e,t){this.type=P.Syntax.AssignmentPattern,this.left=e,this.right=t}function a(e,t,n){this.type=P.Syntax.ArrowFunctionExpression,this.id=null,this.params=e,this.body=t,this.generator=!1,this.expression=n,this.async=!0}function o(e,t,n){this.type=P.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}function u(e,t,n){this.type=P.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=!1,this.expression=!1,this.async=!0}function c(e){this.type=P.Syntax.AwaitExpression,this.argument=e}function l(e,t,n){this.type="||"===e||"&&"===e?P.Syntax.LogicalExpression:P.Syntax.BinaryExpression,this.operator=e,this.left=t,this.right=n}function h(e){this.type=P.Syntax.BlockStatement,this.body=e}function p(e){this.type=P.Syntax.BreakStatement,this.label=e}function d(e,t){this.type=P.Syntax.CallExpression,this.callee=e,this.arguments=t}function f(e,t){this.type=P.Syntax.CatchClause,this.param=e,this.body=t}function m(e){this.type=P.Syntax.ClassBody,this.body=e}function g(e,t,n){this.type=P.Syntax.ClassDeclaration,this.id=e,this.superClass=t,this.body=n}function D(e,t,n){this.type=P.Syntax.ClassExpression,this.id=e,this.superClass=t,this.body=n}function y(e,t){this.type=P.Syntax.MemberExpression,this.computed=!0,this.object=e,this.property=t}function E(e,t,n){this.type=P.Syntax.ConditionalExpression,this.test=e,this.consequent=t,this.alternate=n}function x(e){this.type=P.Syntax.ContinueStatement,this.label=e}function C(){this.type=P.Syntax.DebuggerStatement}function v(e,t){this.type=P.Syntax.ExpressionStatement,this.expression=e,this.directive=t}function A(e,t){this.type=P.Syntax.DoWhileStatement,this.body=e,this.test=t}function F(){this.type=P.Syntax.EmptyStatement}function b(e){this.type=P.Syntax.ExportAllDeclaration,this.source=e}function S(e){this.type=P.Syntax.ExportDefaultDeclaration,this.declaration=e}function w(e,t,n){this.type=P.Syntax.ExportNamedDeclaration,this.declaration=e,this.specifiers=t,this.source=n}function _(e,t){this.type=P.Syntax.ExportSpecifier,this.exported=t,this.local=e}function B(e){this.type=P.Syntax.ExpressionStatement,this.expression=e}function k(e,t,n){this.type=P.Syntax.ForInStatement,this.left=e,this.right=t,this.body=n,this.each=!1}function I(e,t,n){this.type=P.Syntax.ForOfStatement,this.left=e,this.right=t,this.body=n}function N(e,t,n,r){this.type=P.Syntax.ForStatement,this.init=e,this.test=t,this.update=n,this.body=r}function T(e,t,n,r){this.type=P.Syntax.FunctionDeclaration,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1}function L(e,t,n,r){this.type=P.Syntax.FunctionExpression,this.id=e,this.params=t,this.body=n,this.generator=r,this.expression=!1,this.async=!1}function j(e){this.type=P.Syntax.Identifier,this.name=e}function M(e,t,n){this.type=P.Syntax.IfStatement,this.test=e,this.consequent=t,this.alternate=n}function R(e,t){this.type=P.Syntax.ImportDeclaration,this.specifiers=e,this.source=t}function U(e){this.type=P.Syntax.ImportDefaultSpecifier,this.local=e}function z(e){this.type=P.Syntax.ImportNamespaceSpecifier,this.local=e}function q(e,t){this.type=P.Syntax.ImportSpecifier,this.local=e,this.imported=t}function J(e,t){this.type=P.Syntax.LabeledStatement,this.label=e,this.body=t}function W(e,t){this.type=P.Syntax.Literal,this.value=e,this.raw=t}function V(e,t){this.type=P.Syntax.MetaProperty,this.meta=e,this.property=t}function X(e,t,n,r,i){this.type=P.Syntax.MethodDefinition,this.key=e,this.computed=t,this.value=n,this.kind=r,this.static=i}function $(e){this.type=P.Syntax.Program,this.body=e,this.sourceType="module"}function H(e,t){this.type=P.Syntax.NewExpression,this.callee=e,this.arguments=t}function K(e){this.type=P.Syntax.ObjectExpression,this.properties=e}function G(e){this.type=P.Syntax.ObjectPattern,this.properties=e}function Y(e,t,n,r,i,s){this.type=P.Syntax.Property,this.key=t,this.computed=n,this.value=r,this.kind=e,this.method=i,this.shorthand=s}function Z(e,t,n,r){this.type=P.Syntax.Literal,this.value=e,this.raw=t,this.regex={pattern:n,flags:r}}function Q(e){this.type=P.Syntax.RestElement,this.argument=e}function ee(e){this.type=P.Syntax.ReturnStatement,this.argument=e}function te(e){this.type=P.Syntax.Program,this.body=e,this.sourceType="script"}function ne(e){this.type=P.Syntax.SequenceExpression,this.expressions=e}function re(e){this.type=P.Syntax.SpreadElement,this.argument=e}function ie(e,t){this.type=P.Syntax.MemberExpression,this.computed=!1,this.object=e,this.property=t}function se(){this.type=P.Syntax.Super}function ae(e,t){this.type=P.Syntax.SwitchCase,this.test=e,this.consequent=t}function oe(e,t){this.type=P.Syntax.SwitchStatement,this.discriminant=e,this.cases=t}function ue(e,t){this.type=P.Syntax.TaggedTemplateExpression,this.tag=e,this.quasi=t}function ce(e,t){this.type=P.Syntax.TemplateElement,this.value=e,this.tail=t}function le(e,t){this.type=P.Syntax.TemplateLiteral,this.quasis=e,this.expressions=t}function he(){this.type=P.Syntax.ThisExpression}function pe(e){this.type=P.Syntax.ThrowStatement,this.argument=e}function de(e,t,n){this.type=P.Syntax.TryStatement,this.block=e,this.handler=t,this.finalizer=n}function fe(e,t){this.type=P.Syntax.UnaryExpression,this.operator=e,this.argument=t,this.prefix=!0}function me(e,t,n){this.type=P.Syntax.UpdateExpression,this.operator=e,this.argument=t,this.prefix=n}function ge(e,t){this.type=P.Syntax.VariableDeclaration,this.declarations=e,this.kind=t}function De(e,t){this.type=P.Syntax.VariableDeclarator,this.id=e,this.init=t}function ye(e,t){this.type=P.Syntax.WhileStatement,this.test=e,this.body=t}function Ee(e,t){this.type=P.Syntax.WithStatement,this.object=e,this.body=t}function xe(e,t){this.type=P.Syntax.YieldExpression,this.argument=e,this.delegate=t}var P=t(2);e.ArrayExpression=function(e){this.type=P.Syntax.ArrayExpression,this.elements=e},e.ArrayPattern=n,e.ArrowFunctionExpression=r,e.AssignmentExpression=i,e.AssignmentPattern=s,e.AsyncArrowFunctionExpression=a,e.AsyncFunctionDeclaration=o,e.AsyncFunctionExpression=u,e.AwaitExpression=c,e.BinaryExpression=l,e.BlockStatement=h,e.BreakStatement=p,e.CallExpression=d,e.CatchClause=f,e.ClassBody=m,e.ClassDeclaration=g,e.ClassExpression=D,e.ComputedMemberExpression=y,e.ConditionalExpression=E,e.ContinueStatement=x,e.DebuggerStatement=C,e.Directive=v,e.DoWhileStatement=A,e.EmptyStatement=F,e.ExportAllDeclaration=b,e.ExportDefaultDeclaration=S,e.ExportNamedDeclaration=w,e.ExportSpecifier=_,e.ExpressionStatement=B,e.ForInStatement=k,e.ForOfStatement=I,e.ForStatement=N,e.FunctionDeclaration=T,e.FunctionExpression=L,e.Identifier=j,e.IfStatement=M,e.ImportDeclaration=R,e.ImportDefaultSpecifier=U,e.ImportNamespaceSpecifier=z,e.ImportSpecifier=q,e.LabeledStatement=J,e.Literal=W,e.MetaProperty=V,e.MethodDefinition=X,e.Module=$,e.NewExpression=H,e.ObjectExpression=K,e.ObjectPattern=G,e.Property=Y,e.RegexLiteral=Z,e.RestElement=Q,e.ReturnStatement=ee,e.Script=te,e.SequenceExpression=ne,e.SpreadElement=re,e.StaticMemberExpression=ie,e.Super=se,e.SwitchCase=ae,e.SwitchStatement=oe,e.TaggedTemplateExpression=ue,e.TemplateElement=ce,e.TemplateLiteral=le,e.ThisExpression=he,e.ThrowStatement=pe,e.TryStatement=de,e.UnaryExpression=fe,e.UpdateExpression=me,e.VariableDeclaration=ge,e.VariableDeclarator=De,e.WhileStatement=ye,e.WithStatement=Ee;e.YieldExpression=xe},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),r=n(10),d=n(11),m=n(7),i=n(12),p=n(2),s=n(13),f="ArrowParameterPlaceHolder";function o(e,t,n){this.config={range:"boolean"==typeof(t=void 0===t?{}:t).range&&t.range,loc:"boolean"==typeof t.loc&&t.loc,source:null,tokens:"boolean"==typeof t.tokens&&t.tokens,comment:"boolean"==typeof t.comment&&t.comment,tolerant:"boolean"==typeof t.tolerant&&t.tolerant},this.config.loc&&t.source&&null!==t.source&&(this.config.source=String(t.source)),this.delegate=n,this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}o.prototype.throwError=function(e){for(var t=1;t<arguments.length;t++)t-1,0;var n=Array.prototype.slice.call(arguments,1),e=e.replace(/%(\d)/g,function(e,t){return a.assert(t<n.length,"Message reference must be in range"),n[t]}),r=this.lastMarker.index,i=this.lastMarker.line,s=this.lastMarker.column+1;throw this.errorHandler.createError(r,i,s,e)},o.prototype.tolerateError=function(e){for(var t=1;t<arguments.length;t++)t-1,0;var n=Array.prototype.slice.call(arguments,1),e=e.replace(/%(\d)/g,function(e,t){return a.assert(t<n.length,"Message reference must be in range"),n[t]}),r=this.lastMarker.index,i=this.scanner.lineNumber,s=this.lastMarker.column+1;this.errorHandler.tolerateError(r,i,s,e)},o.prototype.unexpectedTokenError=function(e,t){var n,r,i=t||d.Messages.UnexpectedToken,t=e?(t||(i=2===e.type?d.Messages.UnexpectedEOS:3===e.type?d.Messages.UnexpectedIdentifier:6===e.type?d.Messages.UnexpectedNumber:8===e.type?d.Messages.UnexpectedString:10===e.type?d.Messages.UnexpectedTemplate:d.Messages.UnexpectedToken,4===e.type&&(this.scanner.isFutureReservedWord(e.value)?i=d.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(e.value)&&(i=d.Messages.StrictReservedWord))),e.value):"ILLEGAL",i=i.replace("%0",t);return e=e&&"number"==typeof e.lineNumber?(n=e.start,r=e.lineNumber,t=this.lastMarker.index-this.lastMarker.column,e.start-t+1):(n=this.lastMarker.index,r=this.lastMarker.line,this.lastMarker.column+1),this.errorHandler.createError(n,r,e,i)},o.prototype.throwUnexpectedToken=function(e,t){throw this.unexpectedTokenError(e,t)},o.prototype.tolerateUnexpectedToken=function(e,t){this.errorHandler.tolerate(this.unexpectedTokenError(e,t))},o.prototype.collectComments=function(){if(this.config.comment){var e=this.scanner.scanComments();if(0<e.length&&this.delegate)for(var t=0;t<e.length;++t){var n=e[t],r=void 0,r={type:n.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(n.slice[0],n.slice[1])},n=(this.config.range&&(r.range=n.range),this.config.loc&&(r.loc=n.loc),{start:{line:n.loc.start.line,column:n.loc.start.column,offset:n.range[0]},end:{line:n.loc.end.line,column:n.loc.end.column,offset:n.range[1]}});this.delegate(r,n)}}else this.scanner.scanComments()},o.prototype.getTokenRaw=function(e){return this.scanner.source.slice(e.start,e.end)},o.prototype.convertToken=function(e){var t,n={type:s.TokenName[e.type],value:this.getTokenRaw(e)};return this.config.range&&(n.range=[e.start,e.end]),this.config.loc&&(n.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),9===e.type&&(t=e.pattern,e=e.flags,n.regex={pattern:t,flags:e}),n},o.prototype.nextToken=function(){var e=this.lookahead,t=(this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart),this.scanner.lex());return this.hasLineTerminator=e.lineNumber!==t.lineNumber,t&&this.context.strict&&3===t.type&&this.scanner.isStrictModeReservedWord(t.value)&&(t.type=4),this.lookahead=t,this.config.tokens&&2!==t.type&&this.tokens.push(this.convertToken(t)),e},o.prototype.nextRegexToken=function(){this.collectComments();var e=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(e))),this.lookahead=e,this.nextToken(),e},o.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},o.prototype.startNode=function(e,t){void 0===t&&(t=0);var n=e.start-e.lineStart,r=e.lineNumber;return n<0&&(n+=t,r--),{index:e.start,line:r,column:n}},o.prototype.finalize=function(e,t){return this.config.range&&(t.range=[e.index,this.lastMarker.index]),this.config.loc&&(t.loc={start:{line:e.line,column:e.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source)&&(t.loc.source=this.config.source),this.delegate&&(e={start:{line:e.line,column:e.column,offset:e.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}},this.delegate(t,e)),t},o.prototype.expect=function(e){var t=this.nextToken();7===t.type&&t.value===e||this.throwUnexpectedToken(t)},o.prototype.expectCommaSeparator=function(){var e;this.config.tolerant?7===(e=this.lookahead).type&&","===e.value?this.nextToken():7===e.type&&";"===e.value?(this.nextToken(),this.tolerateUnexpectedToken(e)):this.tolerateUnexpectedToken(e,d.Messages.UnexpectedToken):this.expect(",")},o.prototype.expectKeyword=function(e){var t=this.nextToken();4===t.type&&t.value===e||this.throwUnexpectedToken(t)},o.prototype.match=function(e){return 7===this.lookahead.type&&this.lookahead.value===e},o.prototype.matchKeyword=function(e){return 4===this.lookahead.type&&this.lookahead.value===e},o.prototype.matchContextualKeyword=function(e){return 3===this.lookahead.type&&this.lookahead.value===e},o.prototype.matchAssign=function(){var e;return 7===this.lookahead.type&&("="===(e=this.lookahead.value)||"*="===e||"**="===e||"/="===e||"%="===e||"+="===e||"-="===e||"<<="===e||">>="===e||">>>="===e||"&="===e||"^="===e||"|="===e)},o.prototype.isolateCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError,e=(this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null,e.call(this));return null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=t,this.context.isAssignmentTarget=n,this.context.firstCoverInitializedNameError=r,e},o.prototype.inheritCoverGrammar=function(e){var t=this.context.isBindingElement,n=this.context.isAssignmentTarget,r=this.context.firstCoverInitializedNameError,e=(this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null,e.call(this));return this.context.isBindingElement=this.context.isBindingElement&&t,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&n,this.context.firstCoverInitializedNameError=r||this.context.firstCoverInitializedNameError,e},o.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(2===this.lookahead.type||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},o.prototype.parsePrimaryExpression=function(){var e,t,n,r=this.createNode();switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&"await"===this.lookahead.value&&this.tolerateUnexpectedToken(this.lookahead),e=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(r,new m.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,d.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new m.Literal(t.value,n));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new m.Literal("true"===t.value,n));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken(),n=this.getTokenRaw(t),e=this.finalize(r,new m.Literal(null,n));break;case 10:e=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,e=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":e=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":e=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,t=this.nextRegexToken(),n=this.getTokenRaw(t),e=this.finalize(r,new m.RegexLiteral(t.regex,n,t.pattern,t.flags));break;default:e=this.throwUnexpectedToken(this.nextToken())}break;case 4:e=!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?this.finalize(r,new m.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),this.finalize(r,new m.ThisExpression)):this.matchKeyword("class")?this.parseClassExpression():this.throwUnexpectedToken(this.nextToken()));break;default:e=this.throwUnexpectedToken(this.nextToken())}return e},o.prototype.parseSpreadElement=function(){var e=this.createNode(),t=(this.expect("..."),this.inheritCoverGrammar(this.parseAssignmentExpression));return this.finalize(e,new m.SpreadElement(t))},o.prototype.parseArrayInitializer=function(){var e,t=this.createNode(),n=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),n.push(null)):this.match("...")?(e=this.parseSpreadElement(),this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),n.push(e)):(n.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(","));return this.expect("]"),this.finalize(t,new m.ArrayExpression(n))},o.prototype.parsePropertyMethod=function(e){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var t=this.context.strict,n=this.context.allowStrictDirective,r=(this.context.allowStrictDirective=e.simple,this.isolateCoverGrammar(this.parseFunctionSourceElements));return this.context.strict&&e.firstRestricted&&this.tolerateUnexpectedToken(e.firstRestricted,e.message),this.context.strict&&e.stricted&&this.tolerateUnexpectedToken(e.stricted,e.message),this.context.strict=t,this.context.allowStrictDirective=n,r},o.prototype.parsePropertyMethodFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=(this.context.allowYield=!0,this.parseFormalParameters()),r=this.parsePropertyMethod(n);return this.context.allowYield=t,this.finalize(e,new m.FunctionExpression(null,n.params,r,!1))},o.prototype.parsePropertyMethodAsyncFunction=function(){var e=this.createNode(),t=this.context.allowYield,n=this.context.await,r=(this.context.allowYield=!1,this.context.await=!0,this.parseFormalParameters()),i=this.parsePropertyMethod(r);return this.context.allowYield=t,this.context.await=n,this.finalize(e,new m.AsyncFunctionExpression(null,r.params,i))},o.prototype.parseObjectPropertyKey=function(){var e=this.createNode(),t=this.nextToken();switch(t.type){case 8:case 6:this.context.strict&&t.octal&&this.tolerateUnexpectedToken(t,d.Messages.StrictOctalLiteral);var n=this.getTokenRaw(t),r=this.finalize(e,new m.Literal(t.value,n));break;case 3:case 1:case 5:case 4:r=this.finalize(e,new m.Identifier(t.value));break;case 7:"["===t.value?(r=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):r=this.throwUnexpectedToken(t);break;default:r=this.throwUnexpectedToken(t)}return r},o.prototype.isPropertyKey=function(e,t){return e.type===p.Syntax.Identifier&&e.name===t||e.type===p.Syntax.Literal&&e.value===t},o.prototype.parseObjectProperty=function(e){var t,n,r=this.createNode(),i=this.lookahead,s=null,a=null,o=!1,u=!1,c=!1,l=!1,h=(3===i.type?(n=i.value,this.nextToken(),o=this.match("["),s=(l=!(this.hasLineTerminator||"async"!==n||this.match(":")||this.match("(")||this.match("*")||this.match(",")))?this.parseObjectPropertyKey():this.finalize(r,new m.Identifier(n))):this.match("*")?this.nextToken():(o=this.match("["),s=this.parseObjectPropertyKey()),this.qualifiedPropertyName(this.lookahead));return 3===i.type&&!l&&"get"===i.value&&h?(t="get",o=this.match("["),s=this.parseObjectPropertyKey(),this.context.allowYield=!1,a=this.parseGetterMethod()):3===i.type&&!l&&"set"===i.value&&h?(t="set",o=this.match("["),s=this.parseObjectPropertyKey(),a=this.parseSetterMethod()):7===i.type&&"*"===i.value&&h?(t="init",o=this.match("["),s=this.parseObjectPropertyKey(),a=this.parseGeneratorMethod(),u=!0):(s||this.throwUnexpectedToken(this.lookahead),t="init",this.match(":")&&!l?(!o&&this.isPropertyKey(s,"__proto__")&&(e.value&&this.tolerateError(d.Messages.DuplicateProtoProperty),e.value=!0),this.nextToken(),a=this.inheritCoverGrammar(this.parseAssignmentExpression)):this.match("(")?(a=l?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),u=!0):3===i.type?(n=this.finalize(r,new m.Identifier(i.value)),a=this.match("=")?(this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),c=!0,h=this.isolateCoverGrammar(this.parseAssignmentExpression),this.finalize(r,new m.AssignmentPattern(n,h))):(c=!0,n)):this.throwUnexpectedToken(this.nextToken())),this.finalize(r,new m.Property(t,s,o,a,u,c))},o.prototype.parseObjectInitializer=function(){for(var e=this.createNode(),t=(this.expect("{"),[]),n={value:!1};!this.match("}");)t.push(this.parseObjectProperty(n)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(e,new m.ObjectExpression(t))},o.prototype.parseTemplateHead=function(){a.assert(this.lookahead.head,"Template literal must start with a template head");var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new m.TemplateElement({raw:n,cooked:r},t.tail))},o.prototype.parseTemplateElement=function(){10!==this.lookahead.type&&this.throwUnexpectedToken();var e=this.createNode(),t=this.nextToken(),n=t.value,r=t.cooked;return this.finalize(e,new m.TemplateElement({raw:n,cooked:r},t.tail))},o.prototype.parseTemplateLiteral=function(){var e=this.createNode(),t=[],n=[],r=this.parseTemplateHead();for(n.push(r);!r.tail;)t.push(this.parseExpression()),r=this.parseTemplateElement(),n.push(r);return this.finalize(e,new m.TemplateLiteral(n,t))},o.prototype.reinterpretExpressionAsPattern=function(e){switch(e.type){case p.Syntax.Identifier:case p.Syntax.MemberExpression:case p.Syntax.RestElement:case p.Syntax.AssignmentPattern:break;case p.Syntax.SpreadElement:e.type=p.Syntax.RestElement,this.reinterpretExpressionAsPattern(e.argument);break;case p.Syntax.ArrayExpression:e.type=p.Syntax.ArrayPattern;for(var t=0;t<e.elements.length;t++)null!==e.elements[t]&&this.reinterpretExpressionAsPattern(e.elements[t]);break;case p.Syntax.ObjectExpression:e.type=p.Syntax.ObjectPattern;for(t=0;t<e.properties.length;t++)this.reinterpretExpressionAsPattern(e.properties[t].value);break;case p.Syntax.AssignmentExpression:e.type=p.Syntax.AssignmentPattern,delete e.operator,this.reinterpretExpressionAsPattern(e.left)}},o.prototype.parseGroupExpression=function(){if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),s={type:f,params:[],async:!1};else{var e=this.lookahead,t=[];if(this.match("..."))s=this.parseRestElement(t),this.expect(")"),this.match("=>")||this.expect("=>"),s={type:f,params:[s],async:!1};else{var n=!1;if(this.context.isBindingElement=!0,s=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var r=[];for(this.context.isAssignmentTarget=!1,r.push(s);2!==this.lookahead.type&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var i=0;i<r.length;i++)this.reinterpretExpressionAsPattern(r[i]);s={type:f,params:r,async:!(n=!0)}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),r.push(this.parseRestElement(t)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(i=0;i<r.length;i++)this.reinterpretExpressionAsPattern(r[i]);s={type:f,params:r,async:!(n=!0)}}else r.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(n)break}n||(s=this.finalize(this.startNode(e),new m.SequenceExpression(r)))}if(!n){if(this.expect(")"),this.match("=>")&&(s.type===p.Syntax.Identifier&&"yield"===s.name&&(s={type:f,params:[s],async:!(n=!0)}),!n)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),s.type===p.Syntax.SequenceExpression)for(i=0;i<s.expressions.length;i++)this.reinterpretExpressionAsPattern(s.expressions[i]);else this.reinterpretExpressionAsPattern(s);var e=s.type===p.Syntax.SequenceExpression?s.expressions:[s],s={type:f,params:e,async:!1}}this.context.isBindingElement=!1}}}return s},o.prototype.parseArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},o.prototype.isIdentifierName=function(e){return 3===e.type||4===e.type||1===e.type||5===e.type},o.prototype.parseIdentifierName=function(){var e=this.createNode(),t=this.nextToken();return this.isIdentifierName(t)||this.throwUnexpectedToken(t),this.finalize(e,new m.Identifier(t.value))},o.prototype.parseNewExpression=function(){var e,t,n=this.createNode(),r=this.parseIdentifierName();return a.assert("new"===r.name,"New expression must start with `new`"),this.match(".")?(this.nextToken(),3===this.lookahead.type&&this.context.inFunctionBody&&"target"===this.lookahead.value?(e=this.parseIdentifierName(),e=new m.MetaProperty(r,e)):this.throwUnexpectedToken(this.lookahead)):(r=this.isolateCoverGrammar(this.parseLeftHandSideExpression),t=this.match("(")?this.parseArguments():[],e=new m.NewExpression(r,t),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),this.finalize(n,e)},o.prototype.parseAsyncArgument=function(){var e=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,e},o.prototype.parseAsyncArguments=function(){this.expect("(");var e=[];if(!this.match(")"))for(;;){var t=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(e.push(t),this.match(")"))break;if(this.expectCommaSeparator(),this.match(")"))break}return this.expect(")"),e},o.prototype.parseLeftHandSideExpressionAllowCall=function(){var e=this.lookahead,t=this.matchContextualKeyword("async"),n=this.context.allowIn;for(this.context.allowIn=!0,this.matchKeyword("super")&&this.context.inFunctionBody?(i=this.createNode(),this.nextToken(),i=this.finalize(i,new m.Super),this.match("(")||this.match(".")||this.match("[")||this.throwUnexpectedToken(this.lookahead)):i=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var r=this.parseIdentifierName(),i=this.finalize(this.startNode(e),new m.StaticMemberExpression(i,r))}else if(this.match("(")){var s=t&&e.lineNumber===this.lookahead.lineNumber,a=(this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1,s?this.parseAsyncArguments():this.parseArguments());if(i=this.finalize(this.startNode(e),new m.CallExpression(i,a)),s&&this.match("=>")){for(var o=0;o<a.length;++o)this.reinterpretExpressionAsPattern(a[o]);i={type:f,params:a,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");r=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),i=this.finalize(this.startNode(e),new m.ComputedMemberExpression(i,r))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;s=this.parseTemplateLiteral();i=this.finalize(this.startNode(e),new m.TaggedTemplateExpression(i,s))}return this.context.allowIn=n,i},o.prototype.parseSuper=function(){var e=this.createNode();return this.expectKeyword("super"),this.match("[")||this.match(".")||this.throwUnexpectedToken(this.lookahead),this.finalize(e,new m.Super)},o.prototype.parseLeftHandSideExpression=function(){a.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var e=this.startNode(this.lookahead),t=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var n=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),t=this.finalize(e,new m.ComputedMemberExpression(t,n))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");n=this.parseIdentifierName(),t=this.finalize(e,new m.StaticMemberExpression(t,n))}else{if(10!==this.lookahead.type||!this.lookahead.head)break;var r=this.parseTemplateLiteral();t=this.finalize(e,new m.TaggedTemplateExpression(t,r))}return t},o.prototype.parseUpdateExpression=function(){var e,t,n,r=this.lookahead;return this.match("++")||this.match("--")?(n=this.startNode(r),t=this.nextToken(),e=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&e.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(d.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(d.Messages.InvalidLHSInAssignment),e=this.finalize(n,new m.UpdateExpression(t.value,e,n=!0)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1):(e=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||7!==this.lookahead.type||(this.match("++")||this.match("--"))&&(this.context.strict&&e.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(e.name)&&this.tolerateError(d.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(d.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,t=this.nextToken().value,n=!1,e=this.finalize(this.startNode(r),new m.UpdateExpression(t,e,n)))),e},o.prototype.parseAwaitExpression=function(){var e=this.createNode(),t=(this.nextToken(),this.parseUnaryExpression());return this.finalize(e,new m.AwaitExpression(t))},o.prototype.parseUnaryExpression=function(){var e,t,n;return this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")?(e=this.startNode(this.lookahead),t=this.nextToken(),n=this.inheritCoverGrammar(this.parseUnaryExpression),n=this.finalize(e,new m.UnaryExpression(t.value,n)),this.context.strict&&"delete"===n.operator&&n.argument.type===p.Syntax.Identifier&&this.tolerateError(d.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1):n=this.context.await&&this.matchContextualKeyword("await")?this.parseAwaitExpression():this.parseUpdateExpression(),n},o.prototype.parseExponentiationExpression=function(){var e,t,n=this.lookahead,r=this.inheritCoverGrammar(this.parseUnaryExpression);return r.type!==p.Syntax.UnaryExpression&&this.match("**")&&(this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,e=r,t=this.isolateCoverGrammar(this.parseExponentiationExpression),r=this.finalize(this.startNode(n),new m.BinaryExpression("**",e,t))),r},o.prototype.binaryPrecedence=function(e){var t=e.value,e=7===e.type?this.operatorPrecedence[t]||0:4===e.type&&("instanceof"===t||this.context.allowIn&&"in"===t)?7:0;return e},o.prototype.parseBinaryExpression=function(){var e=this.lookahead,t=this.inheritCoverGrammar(this.parseExponentiationExpression),n=this.lookahead,r=this.binaryPrecedence(n);if(0<r){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var i=[e,this.lookahead],s=t,a=this.isolateCoverGrammar(this.parseExponentiationExpression),o=[s,n.value,a],u=[r];;){if((r=this.binaryPrecedence(this.lookahead))<=0)break;for(;2<o.length&&r<=u[u.length-1];){var a=o.pop(),c=o.pop(),l=(u.pop(),s=o.pop(),i.pop(),this.startNode(i[i.length-1]));o.push(this.finalize(l,new m.BinaryExpression(c,s,a)))}o.push(this.nextToken().value),u.push(r),i.push(this.lookahead),o.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}for(var h=o.length-1,p=(t=o[h],i.pop());1<h;){var d=i.pop(),f=p&&p.lineStart,l=this.startNode(d,f),c=o[h-1],t=this.finalize(l,new m.BinaryExpression(c,o[h-2],t));h-=2,p=d}}return t},o.prototype.parseConditionalExpression=function(){var e,t,n=this.lookahead,r=this.inheritCoverGrammar(this.parseBinaryExpression);return this.match("?")&&(this.nextToken(),t=this.context.allowIn,this.context.allowIn=!0,e=this.isolateCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=t,this.expect(":"),t=this.isolateCoverGrammar(this.parseAssignmentExpression),r=this.finalize(this.startNode(n),new m.ConditionalExpression(r,e,t)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),r},o.prototype.checkPatternParam=function(e,t){switch(t.type){case p.Syntax.Identifier:this.validateParam(e,t,t.name);break;case p.Syntax.RestElement:this.checkPatternParam(e,t.argument);break;case p.Syntax.AssignmentPattern:this.checkPatternParam(e,t.left);break;case p.Syntax.ArrayPattern:for(var n=0;n<t.elements.length;n++)null!==t.elements[n]&&this.checkPatternParam(e,t.elements[n]);break;case p.Syntax.ObjectPattern:for(n=0;n<t.properties.length;n++)this.checkPatternParam(e,t.properties[n].value)}e.simple=e.simple&&t instanceof m.Identifier},o.prototype.reinterpretAsCoverFormalsList=function(e){var t=[e],n=!1;switch(e.type){case p.Syntax.Identifier:break;case f:t=e.params,n=e.async;break;default:return null}for(var r,i={simple:!0,paramSet:{}},s=0;s<t.length;++s)(a=t[s]).type===p.Syntax.AssignmentPattern?a.right.type===p.Syntax.YieldExpression&&(a.right.argument&&this.throwUnexpectedToken(this.lookahead),a.right.type=p.Syntax.Identifier,a.right.name="yield",delete a.right.argument,delete a.right.delegate):n&&a.type===p.Syntax.Identifier&&"await"===a.name&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(i,a),t[s]=a;if(this.context.strict||!this.context.allowYield)for(var a,s=0;s<t.length;++s)(a=t[s]).type===p.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead);return i.message===d.Messages.StrictParamDupe&&(r=this.context.strict?i.stricted:i.firstRestricted,this.throwUnexpectedToken(r,i.message)),{simple:i.simple,params:t,stricted:i.stricted,firstRestricted:i.firstRestricted,message:i.message}},o.prototype.parseAssignmentExpression=function(){var e,t,n,r,i,s,a,o,u,c,l,h;return!this.context.allowYield&&this.matchKeyword("yield")?h=this.parseYieldExpression():(t=e=this.lookahead,h=this.parseConditionalExpression(),3!==t.type||t.lineNumber!==this.lookahead.lineNumber||"async"!==t.value||3!==this.lookahead.type&&!this.matchKeyword("yield")||(u=this.parsePrimaryExpression(),this.reinterpretExpressionAsPattern(u),h={type:f,params:[u],async:!0}),h.type===f||this.match("=>")?(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,u=h.async,(l=this.reinterpretAsCoverFormalsList(h))&&(this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null,n=this.context.strict,r=this.context.allowStrictDirective,this.context.allowStrictDirective=l.simple,i=this.context.allowYield,s=this.context.await,this.context.allowYield=!0,this.context.await=u,c=this.startNode(e),a=void this.expect("=>"),this.match("{")?(o=this.context.allowIn,this.context.allowIn=!0,a=this.parseFunctionSourceElements(),this.context.allowIn=o):a=this.isolateCoverGrammar(this.parseAssignmentExpression),o=a.type!==p.Syntax.BlockStatement,this.context.strict&&l.firstRestricted&&this.throwUnexpectedToken(l.firstRestricted,l.message),this.context.strict&&l.stricted&&this.tolerateUnexpectedToken(l.stricted,l.message),h=u?this.finalize(c,new m.AsyncArrowFunctionExpression(l.params,a,o)):this.finalize(c,new m.ArrowFunctionExpression(l.params,a,o)),this.context.strict=n,this.context.allowStrictDirective=r,this.context.allowYield=i,this.context.await=s)):this.matchAssign()&&(this.context.isAssignmentTarget||this.tolerateError(d.Messages.InvalidLHSInAssignment),this.context.strict&&h.type===p.Syntax.Identifier&&(u=h,this.scanner.isRestrictedWord(u.name)&&this.tolerateUnexpectedToken(t,d.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(u.name))&&this.tolerateUnexpectedToken(t,d.Messages.StrictReservedWord),this.match("=")?this.reinterpretExpressionAsPattern(h):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),c=(t=this.nextToken()).value,l=this.isolateCoverGrammar(this.parseAssignmentExpression),h=this.finalize(this.startNode(e),new m.AssignmentExpression(c,h,l)),this.context.firstCoverInitializedNameError=null)),h},o.prototype.parseExpression=function(){var e=this.lookahead,t=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var n=[];for(n.push(t);2!==this.lookahead.type&&this.match(",");)this.nextToken(),n.push(this.isolateCoverGrammar(this.parseAssignmentExpression));t=this.finalize(this.startNode(e),new m.SequenceExpression(n))}return t},o.prototype.parseStatementListItem=function(){var e;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,4===this.lookahead.type)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,d.Messages.IllegalExportDeclaration),e=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,d.Messages.IllegalImportDeclaration),e=this.parseImportDeclaration();break;case"const":e=this.parseLexicalDeclaration({inFor:!1});break;case"function":e=this.parseFunctionDeclaration();break;case"class":e=this.parseClassDeclaration();break;case"let":e=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:e=this.parseStatement()}else e=this.parseStatement();return e},o.prototype.parseBlock=function(){for(var e=this.createNode(),t=(this.expect("{"),[]);!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.finalize(e,new m.BlockStatement(t))},o.prototype.parseLexicalBinding=function(e,t){var n=this.createNode(),r=this.parsePattern([],e),i=(this.context.strict&&r.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(r.name)&&this.tolerateError(d.Messages.StrictVarName),null);return"const"===e?this.matchKeyword("in")||this.matchContextualKeyword("of")||(this.match("=")?(this.nextToken(),i=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(d.Messages.DeclarationMissingInitializer,"const")):(!t.inFor&&r.type!==p.Syntax.Identifier||this.match("="))&&(this.expect("="),i=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(n,new m.VariableDeclarator(r,i))},o.prototype.parseBindingList=function(e,t){for(var n=[this.parseLexicalBinding(e,t)];this.match(",");)this.nextToken(),n.push(this.parseLexicalBinding(e,t));return n},o.prototype.isLexicalDeclaration=function(){var e=this.scanner.saveState(),t=(this.scanner.scanComments(),this.scanner.lex());return this.scanner.restoreState(e),3===t.type||7===t.type&&"["===t.value||7===t.type&&"{"===t.value||4===t.type&&"let"===t.value||4===t.type&&"yield"===t.value},o.prototype.parseLexicalDeclaration=function(e){var t=this.createNode(),n=this.nextToken().value,e=(a.assert("let"===n||"const"===n,"Lexical declaration must be either let or const"),this.parseBindingList(n,e));return this.consumeSemicolon(),this.finalize(t,new m.VariableDeclaration(e,n))},o.prototype.parseBindingRestElement=function(e,t){var n=this.createNode(),e=(this.expect("..."),this.parsePattern(e,t));return this.finalize(n,new m.RestElement(e))},o.prototype.parseArrayPattern=function(e,t){for(var n=this.createNode(),r=(this.expect("["),[]);!this.match("]");)if(this.match(","))this.nextToken(),r.push(null);else{if(this.match("...")){r.push(this.parseBindingRestElement(e,t));break}r.push(this.parsePatternWithDefault(e,t)),this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(n,new m.ArrayPattern(r))},o.prototype.parsePropertyPattern=function(e,t){var n,r,i,s,a=this.createNode(),o=!1,u=!1;return s=3===this.lookahead.type?(n=this.lookahead,r=this.parseVariableIdentifier(),i=this.finalize(a,new m.Identifier(n.value)),this.match("=")?(e.push(n),u=!0,this.nextToken(),s=this.parseAssignmentExpression(),this.finalize(this.startNode(n),new m.AssignmentPattern(i,s))):this.match(":")?(this.expect(":"),this.parsePatternWithDefault(e,t)):(e.push(n),u=!0,i)):(o=this.match("["),r=this.parseObjectPropertyKey(),this.expect(":"),this.parsePatternWithDefault(e,t)),this.finalize(a,new m.Property("init",r,o,s,!1,u))},o.prototype.parseObjectPattern=function(e,t){var n=this.createNode(),r=[];for(this.expect("{");!this.match("}");)r.push(this.parsePropertyPattern(e,t)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(n,new m.ObjectPattern(r))},o.prototype.parsePattern=function(e,t){e=this.match("[")?this.parseArrayPattern(e,t):this.match("{")?this.parseObjectPattern(e,t):(!this.matchKeyword("let")||"const"!==t&&"let"!==t||this.tolerateUnexpectedToken(this.lookahead,d.Messages.LetInLexicalBinding),e.push(this.lookahead),this.parseVariableIdentifier(t));return e},o.prototype.parsePatternWithDefault=function(e,t){var n,r=this.lookahead,e=this.parsePattern(e,t);return this.match("=")&&(this.nextToken(),t=this.context.allowYield,this.context.allowYield=!0,n=this.isolateCoverGrammar(this.parseAssignmentExpression),this.context.allowYield=t,e=this.finalize(this.startNode(r),new m.AssignmentPattern(e,n))),e},o.prototype.parseVariableIdentifier=function(e){var t=this.createNode(),n=this.nextToken();return 4===n.type&&"yield"===n.value?this.context.strict?this.tolerateUnexpectedToken(n,d.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(n):3!==n.type?this.context.strict&&4===n.type&&this.scanner.isStrictModeReservedWord(n.value)?this.tolerateUnexpectedToken(n,d.Messages.StrictReservedWord):!this.context.strict&&"let"===n.value&&"var"===e||this.throwUnexpectedToken(n):(this.context.isModule||this.context.await)&&3===n.type&&"await"===n.value&&this.tolerateUnexpectedToken(n),this.finalize(t,new m.Identifier(n.value))},o.prototype.parseVariableDeclaration=function(e){var t=this.createNode(),n=this.parsePattern([],"var"),r=(this.context.strict&&n.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(d.Messages.StrictVarName),null);return this.match("=")?(this.nextToken(),r=this.isolateCoverGrammar(this.parseAssignmentExpression)):n.type===p.Syntax.Identifier||e.inFor||this.expect("="),this.finalize(t,new m.VariableDeclarator(n,r))},o.prototype.parseVariableDeclarationList=function(e){var t={inFor:e.inFor},n=[];for(n.push(this.parseVariableDeclaration(t));this.match(",");)this.nextToken(),n.push(this.parseVariableDeclaration(t));return n},o.prototype.parseVariableStatement=function(){var e=this.createNode(),t=(this.expectKeyword("var"),this.parseVariableDeclarationList({inFor:!1}));return this.consumeSemicolon(),this.finalize(e,new m.VariableDeclaration(t,"var"))},o.prototype.parseEmptyStatement=function(){var e=this.createNode();return this.expect(";"),this.finalize(e,new m.EmptyStatement)},o.prototype.parseExpressionStatement=function(){var e=this.createNode(),t=this.parseExpression();return this.consumeSemicolon(),this.finalize(e,new m.ExpressionStatement(t))},o.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(d.Messages.StrictFunction),this.parseStatement()},o.prototype.parseIfStatement=function(){var e,t=this.createNode(),n=null,r=(this.expectKeyword("if"),this.expect("("),this.parseExpression());return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new m.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),n=this.parseIfClause())),this.finalize(t,new m.IfStatement(r,e,n))},o.prototype.parseDoWhileStatement=function(){var e=this.createNode(),t=(this.expectKeyword("do"),this.context.inIteration),n=(this.context.inIteration=!0,this.parseStatement()),t=(this.context.inIteration=t,this.expectKeyword("while"),this.expect("("),this.parseExpression());return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(e,new m.DoWhileStatement(n,t))},o.prototype.parseWhileStatement=function(){var e,t,n=this.createNode(),r=(this.expectKeyword("while"),this.expect("("),this.parseExpression());return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new m.EmptyStatement)):(this.expect(")"),t=this.context.inIteration,this.context.inIteration=!0,e=this.parseStatement(),this.context.inIteration=t),this.finalize(n,new m.WhileStatement(r,e))},o.prototype.parseForStatement=function(){var e,t,n=null,r=null,i=null,s=!0,a=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){n=this.createNode(),this.nextToken();var o,u=this.context.allowIn,c=(this.context.allowIn=!1,this.parseVariableDeclarationList({inFor:!0}));this.context.allowIn=u,1===c.length&&this.matchKeyword("in")?((o=c[0]).init&&(o.id.type===p.Syntax.ArrayPattern||o.id.type===p.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(d.Messages.ForInOfLoopInitializer,"for-in"),n=this.finalize(n,new m.VariableDeclaration(c,"var")),this.nextToken(),o=n,e=this.parseExpression(),n=null):1===c.length&&null===c[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new m.VariableDeclaration(c,"var")),this.nextToken(),o=n,e=this.parseAssignmentExpression(),n=null,s=!1):(n=this.finalize(n,new m.VariableDeclaration(c,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){var n=this.createNode(),l=this.nextToken().value;this.context.strict||"in"!==this.lookahead.value?(u=this.context.allowIn,this.context.allowIn=!1,c=this.parseBindingList(l,{inFor:!0}),this.context.allowIn=u,1===c.length&&null===c[0].init&&this.matchKeyword("in")?(n=this.finalize(n,new m.VariableDeclaration(c,l)),this.nextToken(),o=n,e=this.parseExpression(),n=null):1===c.length&&null===c[0].init&&this.matchContextualKeyword("of")?(n=this.finalize(n,new m.VariableDeclaration(c,l)),this.nextToken(),o=n,e=this.parseAssignmentExpression(),n=null,s=!1):(this.consumeSemicolon(),n=this.finalize(n,new m.VariableDeclaration(c,l)))):(n=this.finalize(n,new m.Identifier(l)),this.nextToken(),o=n,e=this.parseExpression(),n=null)}else{c=this.lookahead,u=this.context.allowIn;if(this.context.allowIn=!1,n=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=u,this.matchKeyword("in"))this.context.isAssignmentTarget&&n.type!==p.Syntax.AssignmentExpression||this.tolerateError(d.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(n),o=n,e=this.parseExpression(),n=null;else if(this.matchContextualKeyword("of"))this.context.isAssignmentTarget&&n.type!==p.Syntax.AssignmentExpression||this.tolerateError(d.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(n),o=n,e=this.parseAssignmentExpression(),n=null,s=!1;else{if(this.match(",")){for(var h=[n];this.match(",");)this.nextToken(),h.push(this.isolateCoverGrammar(this.parseAssignmentExpression));n=this.finalize(this.startNode(c),new m.SequenceExpression(h))}this.expect(";")}}return void 0===o&&(this.match(";")||(r=this.parseExpression()),this.expect(";"),this.match(")")||(i=this.parseExpression())),!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),t=this.finalize(this.createNode(),new m.EmptyStatement)):(this.expect(")"),l=this.context.inIteration,this.context.inIteration=!0,t=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=l),void 0===o?this.finalize(a,new m.ForStatement(n,r,i,t)):s?this.finalize(a,new m.ForInStatement(o,e,t)):this.finalize(a,new m.ForOfStatement(o,e,t))},o.prototype.parseContinueStatement=function(){var e,t,n=this.createNode(),r=(this.expectKeyword("continue"),null);return 3!==this.lookahead.type||this.hasLineTerminator||(t="$"+(r=e=this.parseVariableIdentifier()).name,Object.prototype.hasOwnProperty.call(this.context.labelSet,t))||this.throwError(d.Messages.UnknownLabel,e.name),this.consumeSemicolon(),null!==r||this.context.inIteration||this.throwError(d.Messages.IllegalContinue),this.finalize(n,new m.ContinueStatement(r))},o.prototype.parseBreakStatement=function(){var e,t,n=this.createNode(),r=(this.expectKeyword("break"),null);return 3!==this.lookahead.type||this.hasLineTerminator||(t="$"+(e=this.parseVariableIdentifier()).name,Object.prototype.hasOwnProperty.call(this.context.labelSet,t)||this.throwError(d.Messages.UnknownLabel,e.name),r=e),this.consumeSemicolon(),null!==r||this.context.inIteration||this.context.inSwitch||this.throwError(d.Messages.IllegalBreak),this.finalize(n,new m.BreakStatement(r))},o.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(d.Messages.IllegalReturn);var e=this.createNode();this.expectKeyword("return");var t=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&2!==this.lookahead.type||8===this.lookahead.type||10===this.lookahead.type?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(e,new m.ReturnStatement(t))},o.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(d.Messages.StrictModeWith);var e=this.createNode(),t=(this.expectKeyword("with"),this.expect("("),this.parseExpression()),n=!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),this.finalize(this.createNode(),new m.EmptyStatement)):(this.expect(")"),this.parseStatement());return this.finalize(e,new m.WithStatement(t,n))},o.prototype.parseSwitchCase=function(){var e=this.createNode(),t=this.matchKeyword("default")?(this.nextToken(),null):(this.expectKeyword("case"),this.parseExpression());this.expect(":");for(var n=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)n.push(this.parseStatementListItem());return this.finalize(e,new m.SwitchCase(t,n))},o.prototype.parseSwitchStatement=function(){var e=this.createNode(),t=(this.expectKeyword("switch"),this.expect("("),this.parseExpression()),n=(this.expect(")"),this.context.inSwitch),r=[],i=!(this.context.inSwitch=!0);for(this.expect("{");;){if(this.match("}"))break;var s=this.parseSwitchCase();null===s.test&&(i&&this.throwError(d.Messages.MultipleDefaultsInSwitch),i=!0),r.push(s)}return this.expect("}"),this.context.inSwitch=n,this.finalize(e,new m.SwitchStatement(t,r))},o.prototype.parseLabelledStatement=function(){var e,t,n,r,i=this.createNode(),s=this.parseExpression(),a=s.type===p.Syntax.Identifier&&this.match(":")?(this.nextToken(),t="$"+(e=s).name,Object.prototype.hasOwnProperty.call(this.context.labelSet,t)&&this.throwError(d.Messages.Redeclaration,"Label",e.name),r=void(this.context.labelSet[t]=!0),r=this.matchKeyword("class")?(this.tolerateUnexpectedToken(this.lookahead),this.parseClassDeclaration()):this.matchKeyword("function")?(a=this.lookahead,n=this.parseFunctionDeclaration(),this.context.strict?this.tolerateUnexpectedToken(a,d.Messages.StrictFunction):n.generator&&this.tolerateUnexpectedToken(a,d.Messages.GeneratorInLegacyContext),n):this.parseStatement(),delete this.context.labelSet[t],new m.LabeledStatement(e,r)):(this.consumeSemicolon(),new m.ExpressionStatement(s));return this.finalize(i,a)},o.prototype.parseThrowStatement=function(){var e=this.createNode(),t=(this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(d.Messages.NewlineAfterThrow),this.parseExpression());return this.consumeSemicolon(),this.finalize(e,new m.ThrowStatement(t))},o.prototype.parseCatchClause=function(){for(var e=this.createNode(),t=(this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead),[]),n=this.parsePattern(t),r={},i=0;i<t.length;i++){var s="$"+t[i].value;Object.prototype.hasOwnProperty.call(r,s)&&this.tolerateError(d.Messages.DuplicateBinding,t[i].value),r[s]=!0}this.context.strict&&n.type===p.Syntax.Identifier&&this.scanner.isRestrictedWord(n.name)&&this.tolerateError(d.Messages.StrictCatchVariable),this.expect(")");var a=this.parseBlock();return this.finalize(e,new m.CatchClause(n,a))},o.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},o.prototype.parseTryStatement=function(){var e=this.createNode(),t=(this.expectKeyword("try"),this.parseBlock()),n=this.matchKeyword("catch")?this.parseCatchClause():null,r=this.matchKeyword("finally")?this.parseFinallyClause():null;return n||r||this.throwError(d.Messages.NoCatchOrFinally),this.finalize(e,new m.TryStatement(t,n,r))},o.prototype.parseDebuggerStatement=function(){var e=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(e,new m.DebuggerStatement)},o.prototype.parseStatement=function(){switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:t=this.parseExpressionStatement();break;case 7:var e=this.lookahead.value,t="{"===e?this.parseBlock():"("!==e&&";"===e?this.parseEmptyStatement():this.parseExpressionStatement();break;case 3:t=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":t=this.parseBreakStatement();break;case"continue":t=this.parseContinueStatement();break;case"debugger":t=this.parseDebuggerStatement();break;case"do":t=this.parseDoWhileStatement();break;case"for":t=this.parseForStatement();break;case"function":t=this.parseFunctionDeclaration();break;case"if":t=this.parseIfStatement();break;case"return":t=this.parseReturnStatement();break;case"switch":t=this.parseSwitchStatement();break;case"throw":t=this.parseThrowStatement();break;case"try":t=this.parseTryStatement();break;case"var":t=this.parseVariableStatement();break;case"while":t=this.parseWhileStatement();break;case"with":t=this.parseWithStatement();break;default:t=this.parseExpressionStatement()}break;default:t=this.throwUnexpectedToken(this.lookahead)}return t},o.prototype.parseFunctionSourceElements=function(){var e=this.createNode(),t=(this.expect("{"),this.parseDirectivePrologues()),n=this.context.labelSet,r=this.context.inIteration,i=this.context.inSwitch,s=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;2!==this.lookahead.type&&!this.match("}");)t.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=n,this.context.inIteration=r,this.context.inSwitch=i,this.context.inFunctionBody=s,this.finalize(e,new m.BlockStatement(t))},o.prototype.validateParam=function(e,t,n){var r="$"+n;this.context.strict?(this.scanner.isRestrictedWord(n)&&(e.stricted=t,e.message=d.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=d.Messages.StrictParamDupe)):e.firstRestricted||(this.scanner.isRestrictedWord(n)?(e.firstRestricted=t,e.message=d.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(n)?(e.firstRestricted=t,e.message=d.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(e.paramSet,r)&&(e.stricted=t,e.message=d.Messages.StrictParamDupe)),"function"==typeof Object.defineProperty?Object.defineProperty(e.paramSet,r,{value:!0,enumerable:!0,writable:!0,configurable:!0}):e.paramSet[r]=!0},o.prototype.parseRestElement=function(e){var t=this.createNode(),e=(this.expect("..."),this.parsePattern(e));return this.match("=")&&this.throwError(d.Messages.DefaultRestParameter),this.match(")")||this.throwError(d.Messages.ParameterAfterRestParameter),this.finalize(t,new m.RestElement(e))},o.prototype.parseFormalParameter=function(e){for(var t=[],n=this.match("...")?this.parseRestElement(t):this.parsePatternWithDefault(t),r=0;r<t.length;r++)this.validateParam(e,t[r],t[r].value);e.simple=e.simple&&n instanceof m.Identifier,e.params.push(n)},o.prototype.parseFormalParameters=function(e){var t={simple:!0,params:[],firstRestricted:e};if(this.expect("("),!this.match(")"))for(t.paramSet={};2!==this.lookahead.type&&(this.parseFormalParameter(t),!this.match(")"))&&(this.expect(","),!this.match(")")););return this.expect(")"),{simple:t.simple,params:t.params,stricted:t.stricted,firstRestricted:t.firstRestricted,message:t.message}},o.prototype.matchAsyncFunction=function(){var e,t,n=this.matchContextualKeyword("async");return n&&(e=this.scanner.saveState(),this.scanner.scanComments(),t=this.scanner.lex(),this.scanner.restoreState(e),n=e.lineNumber===t.lineNumber&&4===t.type&&"function"===t.value),n},o.prototype.parseFunctionDeclaration=function(e){var t,n=this.createNode(),r=this.matchContextualKeyword("async"),i=(r&&this.nextToken(),this.expectKeyword("function"),!r&&this.match("*")),s=(i&&this.nextToken(),null),a=null,e=(e&&this.match("(")||(e=this.lookahead,s=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(e.value)&&this.tolerateUnexpectedToken(e,d.Messages.StrictFunctionName):this.scanner.isRestrictedWord(e.value)?(a=e,t=d.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(e.value)&&(a=e,t=d.Messages.StrictReservedWord)),this.context.await),o=this.context.allowYield,u=(this.context.await=r,this.context.allowYield=!i,this.parseFormalParameters(a)),c=u.params,l=u.stricted,a=u.firstRestricted,h=(u.message&&(t=u.message),this.context.strict),p=this.context.allowStrictDirective,u=(this.context.allowStrictDirective=u.simple,this.parseFunctionSourceElements());return this.context.strict&&a&&this.throwUnexpectedToken(a,t),this.context.strict&&l&&this.tolerateUnexpectedToken(l,t),this.context.strict=h,this.context.allowStrictDirective=p,this.context.await=e,this.context.allowYield=o,r?this.finalize(n,new m.AsyncFunctionDeclaration(s,c,u)):this.finalize(n,new m.FunctionDeclaration(s,c,u,i))},o.prototype.parseFunctionExpression=function(){var e,t=this.createNode(),n=this.matchContextualKeyword("async"),r=(n&&this.nextToken(),this.expectKeyword("function"),!n&&this.match("*")),i=(r&&this.nextToken(),null),s=this.context.await,a=this.context.allowYield,o=(this.context.await=n,this.context.allowYield=!r,this.match("(")||(o=this.lookahead,i=this.context.strict||r||!this.matchKeyword("yield")?this.parseVariableIdentifier():this.parseIdentifierName(),this.context.strict?this.scanner.isRestrictedWord(o.value)&&this.tolerateUnexpectedToken(o,d.Messages.StrictFunctionName):this.scanner.isRestrictedWord(o.value)?(l=o,e=d.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(o.value)&&(l=o,e=d.Messages.StrictReservedWord)),this.parseFormalParameters(l)),u=o.params,c=o.stricted,l=o.firstRestricted,h=(o.message&&(e=o.message),this.context.strict),p=this.context.allowStrictDirective,o=(this.context.allowStrictDirective=o.simple,this.parseFunctionSourceElements());return this.context.strict&&l&&this.throwUnexpectedToken(l,e),this.context.strict&&c&&this.tolerateUnexpectedToken(c,e),this.context.strict=h,this.context.allowStrictDirective=p,this.context.await=s,this.context.allowYield=a,n?this.finalize(t,new m.AsyncFunctionExpression(i,u,o)):this.finalize(t,new m.FunctionExpression(i,u,o,r))},o.prototype.parseDirective=function(){var e=this.lookahead,t=this.createNode(),n=this.parseExpression(),e=n.type===p.Syntax.Literal?this.getTokenRaw(e).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(t,e?new m.Directive(n,e):new m.ExpressionStatement(n))},o.prototype.parseDirectivePrologues=function(){for(var e=null,t=[];;){var n=this.lookahead;if(8!==n.type)break;var r=this.parseDirective(),r=(t.push(r),r.directive);if("string"!=typeof r)break;"use strict"===r?(this.context.strict=!0,e&&this.tolerateUnexpectedToken(e,d.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(n,d.Messages.IllegalLanguageModeDirective)):!e&&n.octal&&(e=n)}return t},o.prototype.qualifiedPropertyName=function(e){switch(e.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return"["===e.value}return!1},o.prototype.parseGetterMethod=function(){var e=this.createNode(),t=this.context.allowYield,n=(this.context.allowYield=!0,this.parseFormalParameters()),r=(0<n.params.length&&this.tolerateError(d.Messages.BadGetterArity),this.parsePropertyMethod(n));return this.context.allowYield=t,this.finalize(e,new m.FunctionExpression(null,n.params,r,!1))},o.prototype.parseSetterMethod=function(){var e=this.createNode(),t=this.context.allowYield,n=(this.context.allowYield=!0,this.parseFormalParameters()),r=(1!==n.params.length?this.tolerateError(d.Messages.BadSetterArity):n.params[0]instanceof m.RestElement&&this.tolerateError(d.Messages.BadSetterRestParameter),this.parsePropertyMethod(n));return this.context.allowYield=t,this.finalize(e,new m.FunctionExpression(null,n.params,r,!1))},o.prototype.parseGeneratorMethod=function(){var e=this.createNode(),t=this.context.allowYield,n=(this.context.allowYield=!0,this.parseFormalParameters()),r=(this.context.allowYield=!1,this.parsePropertyMethod(n));return this.context.allowYield=t,this.finalize(e,new m.FunctionExpression(null,n.params,r,!0))},o.prototype.isStartOfExpression=function(){var e=!0,t=this.lookahead.value;switch(this.lookahead.type){case 7:e="["===t||"("===t||"{"===t||"+"===t||"-"===t||"!"===t||"~"===t||"++"===t||"--"===t||"/"===t||"/="===t;break;case 4:e="class"===t||"delete"===t||"function"===t||"let"===t||"new"===t||"super"===t||"this"===t||"typeof"===t||"void"===t||"yield"===t}return e},o.prototype.parseYieldExpression=function(){var e,t=this.createNode(),n=(this.expectKeyword("yield"),null),r=!1;return this.hasLineTerminator||(e=this.context.allowYield,this.context.allowYield=!1,(r=this.match("*"))?(this.nextToken(),n=this.parseAssignmentExpression()):this.isStartOfExpression()&&(n=this.parseAssignmentExpression()),this.context.allowYield=e),this.finalize(t,new m.YieldExpression(n,r))},o.prototype.parseClassElement=function(e){var t=this.lookahead,n=this.createNode(),r="",i=null,s=null,a=!1,o=!1,u=!1,c=!1,l=(this.match("*")?this.nextToken():(a=this.match("["),"static"===(i=this.parseObjectPropertyKey()).name&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(t=this.lookahead,u=!0,a=this.match("["),this.match("*")?this.nextToken():i=this.parseObjectPropertyKey()),3!==t.type||this.hasLineTerminator||"async"!==t.value||":"!==(l=this.lookahead.value)&&"("!==l&&"*"!==l&&(c=!0,t=this.lookahead,i=this.parseObjectPropertyKey(),3===t.type)&&"constructor"===t.value&&this.tolerateUnexpectedToken(t,d.Messages.ConstructorIsAsync)),this.qualifiedPropertyName(this.lookahead));return 3===t.type?"get"===t.value&&l?(r="get",a=this.match("["),i=this.parseObjectPropertyKey(),this.context.allowYield=!1,s=this.parseGetterMethod()):"set"===t.value&&l&&(r="set",a=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseSetterMethod()):7===t.type&&"*"===t.value&&l&&(r="init",a=this.match("["),i=this.parseObjectPropertyKey(),s=this.parseGeneratorMethod(),o=!0),!r&&i&&this.match("(")&&(r="init",s=c?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),o=!0),r||this.throwUnexpectedToken(this.lookahead),"init"===r&&(r="method"),a||(u&&this.isPropertyKey(i,"prototype")&&this.throwUnexpectedToken(t,d.Messages.StaticPrototype),!u&&this.isPropertyKey(i,"constructor")&&(("method"!==r||!o||s&&s.generator)&&this.throwUnexpectedToken(t,d.Messages.ConstructorSpecialMethod),e.value?this.throwUnexpectedToken(t,d.Messages.DuplicateConstructor):e.value=!0,r="constructor")),this.finalize(n,new m.MethodDefinition(i,a,s,r,u))},o.prototype.parseClassElementList=function(){var e=[],t={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():e.push(this.parseClassElement(t));return this.expect("}"),e},o.prototype.parseClassBody=function(){var e=this.createNode(),t=this.parseClassElementList();return this.finalize(e,new m.ClassBody(t))},o.prototype.parseClassDeclaration=function(e){var t=this.createNode(),n=this.context.strict,e=(this.context.strict=!0,this.expectKeyword("class"),e&&3!==this.lookahead.type?null:this.parseVariableIdentifier()),r=null,i=(this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall)),this.parseClassBody());return this.context.strict=n,this.finalize(t,new m.ClassDeclaration(e,r,i))},o.prototype.parseClassExpression=function(){var e=this.createNode(),t=this.context.strict,n=(this.context.strict=!0,this.expectKeyword("class"),3===this.lookahead.type?this.parseVariableIdentifier():null),r=null,i=(this.matchKeyword("extends")&&(this.nextToken(),r=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall)),this.parseClassBody());return this.context.strict=t,this.finalize(e,new m.ClassExpression(n,r,i))},o.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new m.Module(t))},o.prototype.parseScript=function(){for(var e=this.createNode(),t=this.parseDirectivePrologues();2!==this.lookahead.type;)t.push(this.parseStatementListItem());return this.finalize(e,new m.Script(t))},o.prototype.parseModuleSpecifier=function(){var e=this.createNode(),t=(8!==this.lookahead.type&&this.throwError(d.Messages.InvalidModuleSpecifier),this.nextToken()),n=this.getTokenRaw(t);return this.finalize(e,new m.Literal(t.value,n))},o.prototype.parseImportSpecifier=function(){var e,t,n=this.createNode();return 3===this.lookahead.type?(t=e=this.parseVariableIdentifier(),this.matchContextualKeyword("as")&&(this.nextToken(),t=this.parseVariableIdentifier())):(t=e=this.parseIdentifierName(),this.matchContextualKeyword("as")?(this.nextToken(),t=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(n,new m.ImportSpecifier(t,e))},o.prototype.parseNamedImports=function(){this.expect("{");for(var e=[];!this.match("}");)e.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),e},o.prototype.parseImportDefaultSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName();return this.finalize(e,new m.ImportDefaultSpecifier(t))},o.prototype.parseImportNamespaceSpecifier=function(){var e=this.createNode(),t=(this.expect("*"),this.matchContextualKeyword("as")||this.throwError(d.Messages.NoAsAfterImportNamespace),this.nextToken(),this.parseIdentifierName());return this.finalize(e,new m.ImportNamespaceSpecifier(t))},o.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(d.Messages.IllegalImportDeclaration);var e=this.createNode(),t=(this.expectKeyword("import"),[]),n=(8===this.lookahead.type||(this.match("{")?t=t.concat(this.parseNamedImports()):this.match("*")?t.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(t.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?t.push(this.parseImportNamespaceSpecifier()):this.match("{")?t=t.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),this.matchContextualKeyword("from")||(n=this.lookahead.value?d.Messages.UnexpectedToken:d.Messages.MissingFromClause,this.throwError(n,this.lookahead.value)),this.nextToken()),this.parseModuleSpecifier());return this.consumeSemicolon(),this.finalize(e,new m.ImportDeclaration(t,n))},o.prototype.parseExportSpecifier=function(){var e=this.createNode(),t=this.parseIdentifierName(),n=t;return this.matchContextualKeyword("as")&&(this.nextToken(),n=this.parseIdentifierName()),this.finalize(e,new m.ExportSpecifier(t,n))},o.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(d.Messages.IllegalExportDeclaration);var e,t=this.createNode();if(this.expectKeyword("export"),this.matchKeyword("default"))this.nextToken(),e=(this.matchKeyword("function")?r=this.parseFunctionDeclaration(!0):this.matchKeyword("class")?r=this.parseClassDeclaration(!0):this.matchContextualKeyword("async")?r=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression():(this.matchContextualKeyword("from")&&this.throwError(d.Messages.UnexpectedToken,this.lookahead.value),r=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression(),this.consumeSemicolon()),this.finalize(t,new m.ExportDefaultDeclaration(r)));else if(this.match("*")){this.nextToken(),this.matchContextualKeyword("from")||(i=this.lookahead.value?d.Messages.UnexpectedToken:d.Messages.MissingFromClause,this.throwError(i,this.lookahead.value)),this.nextToken();var n=this.parseModuleSpecifier();this.consumeSemicolon(),e=this.finalize(t,new m.ExportAllDeclaration(n))}else if(4===this.lookahead.type){var r=void 0;switch(this.lookahead.value){case"let":case"const":r=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":r=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}e=this.finalize(t,new m.ExportNamedDeclaration(r,[],null))}else if(this.matchAsyncFunction()){r=this.parseFunctionDeclaration();e=this.finalize(t,new m.ExportNamedDeclaration(r,[],null))}else{var i,s=[],n=null,a=!1;for(this.expect("{");!this.match("}");)a=a||this.matchKeyword("default"),s.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");this.expect("}"),this.matchContextualKeyword("from")?(this.nextToken(),n=this.parseModuleSpecifier(),this.consumeSemicolon()):a?(i=this.lookahead.value?d.Messages.UnexpectedToken:d.Messages.MissingFromClause,this.throwError(i,this.lookahead.value)):this.consumeSemicolon(),e=this.finalize(t,new m.ExportNamedDeclaration(null,s,n))}return e},t.Parser=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assert=function(e,t){if(!e)throw new Error("ASSERT: "+t)}},function(e,t){"use strict";function n(){this.errors=[],this.tolerant=!1}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.recordError=function(e){this.errors.push(e)},n.prototype.tolerate=function(e){if(!this.tolerant)throw e;this.recordError(e)},n.prototype.constructError=function(t,n){t=new Error(t);try{throw t}catch(e){Object.create&&Object.defineProperty&&(t=Object.create(e),Object.defineProperty(t,"column",{value:n}))}return t},n.prototype.createError=function(e,t,n,r){n=this.constructError("Line "+t+": "+r,n);return n.index=e,n.lineNumber=t,n.description=r,n},n.prototype.throwError=function(e,t,n,r){throw this.createError(e,t,n,r)},n.prototype.tolerateError=function(e,t,n,r){e=this.createError(e,t,n,r);if(!this.tolerant)throw e;this.recordError(e)},t.ErrorHandler=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(9),c=n(4),l=n(11);function i(e){return"0123456789abcdef".indexOf(e.toLowerCase())}function r(e){return"01234567".indexOf(e)}function s(e,t){this.source=e,this.errorHandler=t,this.trackComment=!1,this.isModule=!1,this.length=e.length,this.index=0,this.lineNumber=0<e.length?1:0,this.lineStart=0,this.curlyStack=[]}s.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},s.prototype.restoreState=function(e){this.index=e.index,this.lineNumber=e.lineNumber,this.lineStart=e.lineStart},s.prototype.eof=function(){return this.index>=this.length},s.prototype.throwUnexpectedToken=function(e){return void 0===e&&(e=l.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},s.prototype.tolerateUnexpectedToken=function(e){void 0===e&&(e=l.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,e)},s.prototype.skipSingleLineComment=function(e){var t,n,r=[];for(this.trackComment&&(r=[],t=this.index-e,n={start:{line:this.lineNumber,column:this.index-this.lineStart-e},end:{}});!this.eof();){var i,s=this.source.charCodeAt(this.index);if(++this.index,c.Character.isLineTerminator(s))return this.trackComment&&(i={multiLine:!(n.end={line:this.lineNumber,column:this.index-this.lineStart-1}),slice:[t+e,this.index-1],range:[t,this.index-1],loc:n},r.push(i)),13===s&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,r}return this.trackComment&&(i={multiLine:!(n.end={line:this.lineNumber,column:this.index-this.lineStart}),slice:[t+e,this.index],range:[t,this.index],loc:n},r.push(i)),r},s.prototype.skipMultiLineComment=function(){var e,t,n=[];for(this.trackComment&&(n=[],e=this.index-2,t={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var r,i=this.source.charCodeAt(this.index);if(c.Character.isLineTerminator(i))13===i&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else{if(42===i&&47===this.source.charCodeAt(this.index+1))return this.index+=2,this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},r={multiLine:!0,slice:[e+2,this.index-2],range:[e,this.index],loc:t},n.push(r)),n;++this.index}}return this.trackComment&&(t.end={line:this.lineNumber,column:this.index-this.lineStart},r={multiLine:!0,slice:[e+2,this.index],range:[e,this.index],loc:t},n.push(r)),this.tolerateUnexpectedToken(),n},s.prototype.scanComments=function(){this.trackComment&&(e=[]);for(var e,t=0===this.index;!this.eof();){var n=this.source.charCodeAt(this.index);if(c.Character.isWhiteSpace(n))++this.index;else if(c.Character.isLineTerminator(n))++this.index,13===n&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,t=!0;else if(47===n)if(47===(n=this.source.charCodeAt(this.index+1))){this.index+=2;var r=this.skipSingleLineComment(2);this.trackComment&&(e=e.concat(r)),t=!0}else{if(42!==n)break;this.index+=2;r=this.skipMultiLineComment();this.trackComment&&(e=e.concat(r))}else{if(t&&45===n){if(45!==this.source.charCodeAt(this.index+1)||62!==this.source.charCodeAt(this.index+2))break;this.index+=3;r=this.skipSingleLineComment(3)}else{if(60!==n||this.isModule)break;if("!--"!==this.source.slice(this.index+1,this.index+4))break;this.index+=4;r=this.skipSingleLineComment(4)}this.trackComment&&(e=e.concat(r))}}return e},s.prototype.isFutureReservedWord=function(e){switch(e){case"enum":case"export":case"import":case"super":return!0;default:return!1}},s.prototype.isStrictModeReservedWord=function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},s.prototype.isRestrictedWord=function(e){return"eval"===e||"arguments"===e},s.prototype.isKeyword=function(e){switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e||"let"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}},s.prototype.codePointAt=function(e){var t=this.source.charCodeAt(e);return t=55296<=t&&t<=56319&&56320<=(e=this.source.charCodeAt(e+1))&&e<=57343?1024*(t-55296)+e-56320+65536:t},s.prototype.scanHexEscape=function(e){for(var t="u"===e?4:2,n=0,r=0;r<t;++r){if(this.eof()||!c.Character.isHexDigit(this.source.charCodeAt(this.index)))return null;n=16*n+i(this.source[this.index++])}return String.fromCharCode(n)},s.prototype.scanUnicodeCodePointEscape=function(){var e=this.source[this.index],t=0;for("}"===e&&this.throwUnexpectedToken();!this.eof()&&(e=this.source[this.index++],c.Character.isHexDigit(e.charCodeAt(0)));)t=16*t+i(e);return(1114111<t||"}"!==e)&&this.throwUnexpectedToken(),c.Character.fromCodePoint(t)},s.prototype.getIdentifier=function(){for(var e=this.index++;!this.eof();){var t=this.source.charCodeAt(this.index);if(92===t)return this.index=e,this.getComplexIdentifier();if(55296<=t&&t<57343)return this.index=e,this.getComplexIdentifier();if(!c.Character.isIdentifierPart(t))break;++this.index}return this.source.slice(e,this.index)},s.prototype.getComplexIdentifier=function(){var e,t=this.codePointAt(this.index),n=c.Character.fromCodePoint(t);for(this.index+=n.length,92===t&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&c.Character.isIdentifierStart(e.charCodeAt(0))||this.throwUnexpectedToken(),n=e);!this.eof()&&(t=this.codePointAt(this.index),c.Character.isIdentifierPart(t));)n+=e=c.Character.fromCodePoint(t),this.index+=e.length,92===t&&(n=n.substr(0,n.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,e=this.scanUnicodeCodePointEscape()):null!==(e=this.scanHexEscape("u"))&&"\\"!==e&&c.Character.isIdentifierPart(e.charCodeAt(0))||this.throwUnexpectedToken(),n+=e);return n},s.prototype.octalToDecimal=function(e){var t="0"!==e,n=r(e);return{code:n=!this.eof()&&c.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(t=!0,n=8*n+r(this.source[this.index++]),0<="0123".indexOf(e))&&!this.eof()&&c.Character.isOctalDigit(this.source.charCodeAt(this.index))?8*n+r(this.source[this.index++]):n,octal:t}},s.prototype.scanIdentifier=function(){var e,t=this.index,n=92===this.source.charCodeAt(t)?this.getComplexIdentifier():this.getIdentifier(),r=1===n.length?3:this.isKeyword(n)?4:"null"===n?5:"true"===n||"false"===n?1:3;return 3!==r&&t+n.length!==this.index&&(e=this.index,this.index=t,this.tolerateUnexpectedToken(l.Messages.InvalidEscapedReservedWord),this.index=e),{type:r,value:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},s.prototype.scanPunctuator=function(){var e=this.index,t=this.source[this.index];switch(t){case"(":case"{":"{"===t&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,"."===this.source[this.index]&&"."===this.source[this.index+1]&&(this.index+=2,t="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:">>>="===(t=this.source.substr(this.index,4))?this.index+=4:"==="===(t=t.substr(0,3))||"!=="===t||">>>"===t||"<<="===t||">>="===t||"**="===t?this.index+=3:"&&"===(t=t.substr(0,2))||"||"===t||"=="===t||"!="===t||"+="===t||"-="===t||"*="===t||"/="===t||"++"===t||"--"===t||"<<"===t||">>"===t||"&="===t||"|="===t||"^="===t||"%="===t||"<="===t||">="===t||"=>"===t||"**"===t?this.index+=2:(t=this.source[this.index],0<="<>=!+-*%&|^/".indexOf(t)&&++this.index)}return this.index===e&&this.throwUnexpectedToken(),{type:7,value:t,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},s.prototype.scanHexLiteral=function(e){for(var t="";!this.eof()&&c.Character.isHexDigit(this.source.charCodeAt(this.index));)t+=this.source[this.index++];return 0===t.length&&this.throwUnexpectedToken(),c.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+t,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},s.prototype.scanBinaryLiteral=function(e){for(var t,n="";!this.eof()&&("0"===(t=this.source[this.index])||"1"===t);)n+=this.source[this.index++];return 0===n.length&&this.throwUnexpectedToken(),!this.eof()&&(t=this.source.charCodeAt(this.index),c.Character.isIdentifierStart(t)||c.Character.isDecimalDigit(t))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},s.prototype.scanOctalLiteral=function(e,t){var n="",r=!1;for(c.Character.isOctalDigit(e.charCodeAt(0))?(r=!0,n="0"+this.source[this.index++]):++this.index;!this.eof()&&c.Character.isOctalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];return r||0!==n.length||this.throwUnexpectedToken(),(c.Character.isIdentifierStart(this.source.charCodeAt(this.index))||c.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(n,8),octal:r,lineNumber:this.lineNumber,lineStart:this.lineStart,start:t,end:this.index}},s.prototype.isImplicitOctalLiteral=function(){for(var e=this.index+1;e<this.length;++e){var t=this.source[e];if("8"===t||"9"===t)return!1;if(!c.Character.isOctalDigit(t.charCodeAt(0)))return!0}return!0},s.prototype.scanNumericLiteral=function(){var e=this.index,t=this.source[e],n=(o.assert(c.Character.isDecimalDigit(t.charCodeAt(0))||"."===t,"Numeric literal must start with a decimal digit or a decimal point"),"");if("."!==t){if(n=this.source[this.index++],t=this.source[this.index],"0"===n){if("x"===t||"X"===t)return++this.index,this.scanHexLiteral(e);if("b"===t||"B"===t)return++this.index,this.scanBinaryLiteral(e);if("o"===t||"O"===t)return this.scanOctalLiteral(t,e);if(t&&c.Character.isOctalDigit(t.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(t,e)}for(;c.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("."===t){for(n+=this.source[this.index++];c.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];t=this.source[this.index]}if("e"===t||"E"===t)if(n+=this.source[this.index++],"+"!==(t=this.source[this.index])&&"-"!==t||(n+=this.source[this.index++]),c.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;c.Character.isDecimalDigit(this.source.charCodeAt(this.index));)n+=this.source[this.index++];else this.throwUnexpectedToken();return c.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},s.prototype.scanStringLiteral=function(){for(var e=this.index,t=this.source[e],n=(o.assert("'"===t||'"'===t,"String literal must starts with a quote"),++this.index,!1),r="";!this.eof();){var i,s=this.source[this.index++];if(s===t){t="";break}if("\\"===s)if((s=this.source[this.index++])&&c.Character.isLineTerminator(s.charCodeAt(0)))++this.lineNumber,"\r"===s&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(s){case"u":"{"===this.source[this.index]?(++this.index,r+=this.scanUnicodeCodePointEscape()):(null===(a=this.scanHexEscape(s))&&this.throwUnexpectedToken(),r+=a);break;case"x":var a=this.scanHexEscape(s);null===a&&this.throwUnexpectedToken(l.Messages.InvalidHexEscapeSequence),r+=a;break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;case"8":case"9":r+=s,this.tolerateUnexpectedToken();break;default:s&&c.Character.isOctalDigit(s.charCodeAt(0))?(n=(i=this.octalToDecimal(s)).octal||n,r+=String.fromCharCode(i.code)):r+=s}else{if(c.Character.isLineTerminator(s.charCodeAt(0)))break;r+=s}}return""!==t&&(this.index=e,this.throwUnexpectedToken()),{type:8,value:r,octal:n,lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},s.prototype.scanTemplate=function(){var e="",t=!1,n=this.index,r="`"===this.source[n],i=!1,s=2;for(++this.index;!this.eof();){var a,o=this.source[this.index++];if("`"===o){s=1,t=i=!0;break}if("$"===o){if("{"===this.source[this.index]){this.curlyStack.push("${"),++this.index,t=!0;break}e+=o}else if("\\"===o)if(o=this.source[this.index++],c.Character.isLineTerminator(o.charCodeAt(0)))++this.lineNumber,"\r"===o&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(o){case"n":e+="\n";break;case"r":e+="\r";break;case"t":e+="\t";break;case"u":"{"===this.source[this.index]?(++this.index,e+=this.scanUnicodeCodePointEscape()):(a=this.index,null!==(u=this.scanHexEscape(o))?e+=u:(this.index=a,e+=o));break;case"x":var u=this.scanHexEscape(o);null===u&&this.throwUnexpectedToken(l.Messages.InvalidHexEscapeSequence),e+=u;break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:"0"===o?(c.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(l.Messages.TemplateOctalLiteral),e+="\0"):c.Character.isOctalDigit(o.charCodeAt(0))?this.throwUnexpectedToken(l.Messages.TemplateOctalLiteral):e+=o}else c.Character.isLineTerminator(o.charCodeAt(0))?(++this.lineNumber,"\r"===o&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,e+="\n"):e+=o}return t||this.throwUnexpectedToken(),r||this.curlyStack.pop(),{type:10,value:this.source.slice(n+1,this.index-s),cooked:e,head:r,tail:i,lineNumber:this.lineNumber,lineStart:this.lineStart,start:n,end:this.index}},s.prototype.testRegExp=function(e,t){var n=e,r=this;0<=t.indexOf("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(e,t,n){t=parseInt(t||n,16);return 1114111<t&&r.throwUnexpectedToken(l.Messages.InvalidRegExp),t<=65535?String.fromCharCode(t):""}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,""));try{RegExp(n)}catch(e){this.throwUnexpectedToken(l.Messages.InvalidRegExp)}try{return new RegExp(e,t)}catch(e){return null}},s.prototype.scanRegExpBody=function(){for(var e=this.source[this.index],t=(o.assert("/"===e,"Regular expression literal must start with a slash"),this.source[this.index++]),n=!1,r=!1;!this.eof();)if(t+=e=this.source[this.index++],"\\"===e)e=this.source[this.index++],c.Character.isLineTerminator(e.charCodeAt(0))&&this.throwUnexpectedToken(l.Messages.UnterminatedRegExp),t+=e;else if(c.Character.isLineTerminator(e.charCodeAt(0)))this.throwUnexpectedToken(l.Messages.UnterminatedRegExp);else if(n)"]"===e&&(n=!1);else{if("/"===e){r=!0;break}"["===e&&(n=!0)}return r||this.throwUnexpectedToken(l.Messages.UnterminatedRegExp),t.substr(1,t.length-2)},s.prototype.scanRegExpFlags=function(){for(var e="";!this.eof();){var t=this.source[this.index];if(!c.Character.isIdentifierPart(t.charCodeAt(0)))break;if(++this.index,"\\"!==t||this.eof())e+=t,0;else{if("u"===(t=this.source[this.index])){++this.index;var n=this.index,t=this.scanHexEscape("u");if(null!==t)for(e+=t,0;n<this.index;++n)this.source[n];else this.index=n,e+="u",0}else 0;this.tolerateUnexpectedToken()}}return e},s.prototype.scanRegExp=function(){var e=this.index,t=this.scanRegExpBody(),n=this.scanRegExpFlags();return{type:9,value:"",pattern:t,flags:n,regex:this.testRegExp(t,n),lineNumber:this.lineNumber,lineStart:this.lineStart,start:e,end:this.index}},s.prototype.lex=function(){var e;return this.eof()?{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index}:(e=this.source.charCodeAt(this.index),c.Character.isIdentifierStart(e)?this.scanIdentifier():40===e||41===e||59===e?this.scanPunctuator():39===e||34===e?this.scanStringLiteral():46===e?c.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():c.Character.isDecimalDigit(e)?this.scanNumericLiteral():96===e||125===e&&"${"===this.curlyStack[this.curlyStack.length-1]?this.scanTemplate():55296<=e&&e<57343&&c.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator())},t.Scanner=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenName={},t.TokenName[1]="Boolean",t.TokenName[2]="<end>",t.TokenName[3]="Identifier",t.TokenName[4]="Keyword",t.TokenName[5]="Null",t.TokenName[6]="Numeric",t.TokenName[7]="Punctuator",t.TokenName[8]="String",t.TokenName[9]="RegularExpression",t.TokenName[10]="Template"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",frasl:"",euro:"",image:"",weierp:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",lang:"",rang:""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=n(12),o=n(13),s=(a.prototype.beforeFunctionExpression=function(e){return 0<=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(e)},a.prototype.isRegexStart=function(){var e,t=this.values[this.values.length-1],n=null!==t;switch(t){case"this":case"]":n=!1;break;case")":var r=this.values[this.paren-1],n="if"===r||"while"===r||"for"===r||"with"===r;break;case"}":n=!1,"function"===this.values[this.curly-3]?n=!!(e=this.values[this.curly-4])&&!this.beforeFunctionExpression(e):"function"===this.values[this.curly-4]&&(n=!(e=this.values[this.curly-5])||!this.beforeFunctionExpression(e))}return n},a.prototype.push=function(e){7===e.type||4===e.type?("{"===e.value?this.curly=this.values.length:"("===e.value&&(this.paren=this.values.length),this.values.push(e.value)):this.values.push(null)},a);function a(){this.values=[],this.curly=this.paren=-1}function u(e,t){this.errorHandler=new r.ErrorHandler,this.errorHandler.tolerant=!!t&&"boolean"==typeof t.tolerant&&t.tolerant,this.scanner=new i.Scanner(e,this.errorHandler),this.scanner.trackComment=!!t&&"boolean"==typeof t.comment&&t.comment,this.trackRange=!!t&&"boolean"==typeof t.range&&t.range,this.trackLoc=!!t&&"boolean"==typeof t.loc&&t.loc,this.buffer=[],this.reader=new s}u.prototype.errors=function(){return this.errorHandler.errors},u.prototype.getNextToken=function(){if(0===this.buffer.length){var e,t,n,r=this.scanner.scanComments();if(this.scanner.trackComment)for(var i=0;i<r.length;++i){var s=r[i],a=this.scanner.source.slice(s.slice[0],s.slice[1]),a={type:s.multiLine?"BlockComment":"LineComment",value:a};this.trackRange&&(a.range=s.range),this.trackLoc&&(a.loc=s.loc),this.buffer.push(a)}this.scanner.eof()||(t=void 0,this.trackLoc&&(t={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}}),n="/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()?this.scanner.scanRegExp():this.scanner.lex(),this.reader.push(n),e={type:o.TokenName[n.type],value:this.scanner.source.slice(n.start,n.end)},this.trackRange&&(e.range=[n.start,n.end]),this.trackLoc&&(t.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},e.loc=t),9===n.type&&(t=n.pattern,n=n.flags,e.regex={pattern:t,flags:n}),this.buffer.push(e))}return this.buffer.shift()},t.Tokenizer=u}],i={},n.m=r,n.c=i,n.p="",n(0);function n(e){var t;return(i[e]||(t=i[e]={exports:{},id:e,loaded:!1},r[e].call(t.exports,t,t.exports,n),t.loaded=!0,t)).exports}var r,i},"object"==typeof n&&"object"==typeof t?t.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof n?n.esprima=i():r.esprima=i()},{}],55:[function(s,e,a){!function(){"use strict";var m,g,r,D,e,n,y,i;function E(e,t){this._scope=e,this._functionName="",!t.distinguishFunctionExpressionScope&&this._scope.upper&&this._scope.upper.functionExpressionScope&&(this._functionName=this._scope.upper.block.id.name)}function t(e,t){this.node=e,this.upper=t,this.users=[],this.names=new i,this.name=null}function x(e){this.map=new i,this.upper=e,this.label=null,this.labels=[]}m=s("escope"),g=s("estraverse"),r=s("esutils"),D=s("./utility"),i=s("./map"),e=s("../package.json").version,y=g.Syntax,n=function(e,t){if(!e)throw new Error(t)},-1===e.indexOf("-dev",e.length-4)&&(n=function(){}),E.prototype.passAsUnique=function(e){var t,n;if(this._functionName===e)return!1;if(r.keyword.isKeywordES5(e,!0)||r.keyword.isRestrictedWord(e))return!1;if(this._scope.taints.has(e))return!1;for(t=0,n=this._scope.through.length;t<n;++t)if(this._scope.through[t].identifier.name===e)return!1;return!0},E.prototype.generateName=function(e){for(;e=D.generateNextName(e),!this.passAsUnique(e););return e},t.prototype.mangle=function(){for(var e,t,n="9",r=this.upper;r;r=r.upper)null!==r.name&&this.names.set(r.name,!0);for(;n=D.generateNextName(n),this.names.has(n););for(this.name=n,r=this.upper;r;r=r.upper)r.names.set(n,!0);for(this.node.label.name=n,e=0,t=this.users.length;e<t;++e)this.users[e].label.name=n},x.prototype.register=function(e){n(e.type===y.LabeledStatement,"node should be LabeledStatement"),this.label=new t(e,this.label),this.labels.push(this.label),e=e.label.name,n(!this.map.has(e),"duplicate label is found"),this.map.set(e,this.label)},x.prototype.unregister=function(e){var t;e.type===y.LabeledStatement&&(e=e.label.name,t=this.map.get(e),this.map.delete(e),this.label=t.upper)},x.prototype.resolve=function(e){var t;e.label&&(t=e.label.name,n(this.map.has(t),"unresolved label"),this.map.get(t).users.push(e))},x.prototype.close=function(){var e,t;for(this.labels.sort(function(e,t){return t.users.length-e.users.length}),e=0,t=this.labels.length;e<t;++e)this.labels[e].mangle();return this.upper},a.mangle=function(e,t){for(var n,r,e=null==(t=null==t?{destructive:!0}:t).destructive||t.destructive?e:D.deepCopy(e),i=0,s=(n=m.analyze(e,{directive:!0})).scopes.length;i<s;++i){f=h=l=c=u=o=a=d=p=void 0;var a,o,u,c,l,h,p=n.scopes[i],d=t,f=new E(p,d);if(p.isStatic())for(h="9",p.variables.sort(function(e,t){return e.tainted?1:t.tainted?-1:t.identifiers.length+t.references.length-(e.identifiers.length+e.references.length)}),a=0,o=p.variables.length;a<o;++a)if(!(l=p.variables[a]).tainted&&0!==l.identifiers.length){for(h=f.generateName(h),u=0,c=l.identifiers.length;u<c;++u)l.identifiers[u].name=h;for(u=0,c=l.references.length;u<c;++u)l.references[u].identifier.name=h}}return e=e,g.traverse(e,{enter:function(e){if(m.Scope.isVariableScopeRequired(e))r=new x(r);else switch(e.type){case y.LabeledStatement:r.register(e);break;case y.BreakStatement:case y.ContinueStatement:r.resolve(e)}},leave:function(e){r.unregister(e),m.Scope.isVariableScopeRequired(e)&&(r=r.close())}}),e},a.version=e,a.generateNextName=D.generateNextName}()},{"../package.json":60,"./map":56,"./utility":57,escope:9,estraverse:58,esutils:65}],56:[function(e,t,n){arguments[4][16][0].apply(n,arguments)},{dup:16}],57:[function(e,t,a){!function(){"use strict";var s,r,n;function i(e){var t=n[e];return void 0===t&&(t=function(e,t){var n="";for(t|=0;0<t;t>>>=1,e+=e)1&t&&(n+=e);return n}("0",e),n[e]=t),t}s=(s=Array.isArray)||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=[],r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$".split(""),a.generateNextName=function(e){var t,n=e.length-1;do{if(t=e.charAt(n),(t=r.indexOf(t))!==r.length-1)return e.substring(0,n)+r[t+1]+i(e.length-(n+1))}while(0<=--n);return"a"+i(e.length)},a.deepCopy=function(e){return function e(t,n){var r,i;for(r in t)0!==r.lastIndexOf("__",0)&&t.hasOwnProperty(r)&&("object"==typeof(i=t[r])&&null!==i&&(i=i instanceof RegExp?new RegExp(i):e(i,s(i)?[]:{})),n[r]=i);return n}(e,s(e)?[]:{})}}()},{}],58:[function(o,e,t){!function e(t){"use strict";var n,g,u,r,i,D,y,E,x;function c(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],r[t]="object"==typeof n&&null!==n?c(n):n);return r}function s(){}function C(e,t){this.parent=e,this.key=t}function v(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function a(){}function A(e){return null!=e&&"object"==typeof e&&"string"==typeof e.type}function F(e,t){return(e===n.ObjectExpression||e===n.ObjectPattern)&&"properties"===t}function l(e,t){return(new a).traverse(e,t)}function h(t,e){var n=function(e,t){for(var n,r,i=e.length,s=0;i;)t(e[r=s+(n=i>>>1)])?i=n:(s=r+1,i-=1+n);return s}(e,function(e){return e.range[0]>t.range[0]});return t.extendedRange=[t.range[0],t.range[1]],n!==e.length&&(t.extendedRange[1]=e[n].range[0]),0<=--n&&(t.extendedRange[0]=e[n].range[1]),t}return g=(g=Array.isArray)||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=Object.create||function(e){return s.prototype=e,new s},D=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n},n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},r={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],Program:["body"],Property:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={Break:y={},Skip:E={},Remove:x={}},C.prototype.replace=function(e){this.parent[this.key]=e},C.prototype.remove=function(){return g(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},a.prototype.path=function(){var e,t,n,r,i;function s(e,t){if(g(t))for(n=0,r=t.length;n<r;++n)e.push(t[n]);else e.push(t)}if(!this.__current.path)return null;for(i=[],e=2,t=this.__leavelist.length;e<t;++e)s(i,this.__leavelist[e].path);return s(i,this.__current.path),i},a.prototype.type=function(){return this.current().type||this.__current.wrap},a.prototype.parents=function(){for(var e=[],t=1,n=this.__leavelist.length;t<n;++t)e.push(this.__leavelist[t].node);return e},a.prototype.current=function(){return this.__current.node},a.prototype.__execute=function(e,t){var n=void 0,r=this.__current;return this.__current=t,this.__state=null,e&&(n=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,n},a.prototype.notify=function(e){this.__state=e},a.prototype.skip=function(){this.notify(E)},a.prototype.break=function(){this.notify(y)},a.prototype.remove=function(){this.notify(x)},a.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback="iteration"===t.fallback,this.__keys=r,t.keys&&(this.__keys=function(e,t){for(var n,r=D(t),i=0,s=r.length;i<s;i+=1)e[n=r[i]]=t[n];return e}(i(this.__keys),t.keys))},a.prototype.traverse=function(e,t){var n,r,i,s,a,o,u,c,l,h,p,d;for(this.__initialize(e,t),d={},n=this.__worklist,r=this.__leavelist,n.push(new v(e,null,null,null)),r.push(new v(null,null,null,null));n.length;)if((i=n.pop())===d){if(i=r.pop(),o=this.__execute(t.leave,i),this.__state===y||o===y)return}else if(i.node){if(o=this.__execute(t.enter,i),this.__state===y||o===y)return;if(n.push(d),r.push(i),this.__state!==E&&o!==E){if(a=(s=i.node).type||i.wrap,!(h=this.__keys[a])){if(!this.__fallback)throw new Error("Unknown node type "+a+".");h=D(s)}for(c=h.length;0<=--c;)if(p=s[u=h[c]])if(g(p)){for(l=p.length;0<=--l;)if(p[l]){if(F(a,h[c]))i=new v(p[l],[u,l],"Property",null);else{if(!A(p[l]))continue;i=new v(p[l],[u,l],null,null)}n.push(i)}}else A(p)&&n.push(new v(p,u,null,null))}}},a.prototype.replace=function(e,t){function n(e){var t,n,r,i;if(e.ref.remove())for(n=e.ref.key,i=e.ref.parent,t=s.length;t--;)if((r=s[t]).ref&&r.ref.parent===i){if(r.ref.key<n)break;--r.ref.key}}var s,r,i,a,o,u,c,l,h,p,d,f,m;for(this.__initialize(e,t),d={},s=this.__worklist,r=this.__leavelist,u=new v(e,null,null,new C(f={root:e},"root")),s.push(u),r.push(u);s.length;)if((u=s.pop())===d){if(u=r.pop(),void 0!==(o=this.__execute(t.leave,u))&&o!==y&&o!==E&&o!==x&&u.ref.replace(o),this.__state!==x&&o!==x||n(u),this.__state===y||o===y)return f.root}else{if(void 0!==(o=this.__execute(t.enter,u))&&o!==y&&o!==E&&o!==x&&(u.ref.replace(o),u.node=o),this.__state!==x&&o!==x||(n(u),u.node=null),this.__state===y||o===y)return f.root;if((i=u.node)&&(s.push(d),r.push(u),this.__state!==E)&&o!==E){if(a=i.type||u.wrap,!(h=this.__keys[a])){if(!this.__fallback)throw new Error("Unknown node type "+a+".");h=D(i)}for(c=h.length;0<=--c;)if(p=i[m=h[c]])if(g(p)){for(l=p.length;0<=--l;)if(p[l]){if(F(a,h[c]))u=new v(p[l],[m,l],"Property",new C(p,l));else{if(!A(p[l]))continue;u=new v(p[l],[m,l],null,new C(p,l))}s.push(u)}}else A(p)&&s.push(new v(p,m,null,new C(i,m)))}}return f.root},t.version=o("./package.json").version,t.Syntax=n,t.traverse=l,t.replace=function(e,t){return(new a).replace(e,t)},t.attachComments=function(e,t,n){var r,i,s,a,o=[];if(!e.range)throw new Error("attachComments needs range information");if(n.length){for(s=0,i=t.length;s<i;s+=1)o.push(h(c(t[s]),n));a=0,l(e,{enter:function(e){for(var t;a<o.length&&!((t=o[a]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}}),a=0,l(e,{leave:function(e){for(var t;a<o.length&&(t=o[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}})}else if(t.length){for(s=0,i=t.length;s<i;s+=1)(r=c(t[s])).extendedRange=[0,e.range[0]],o.push(r);e.leadingComments=o}return e},t.VisitorKeys=r,t.VisitorOption=u,t.Controller=a,t.cloneEnvironment=function(){return e({})},t}(t)},{"./package.json":59}],59:[function(e,t,n){t.exports={name:"estraverse",description:"ECMAScript JS AST traversal functions",homepage:"https://github.com/estools/estraverse",main:"estraverse.js",version:"4.1.1",engines:{node:">=0.10.0"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/estraverse.git"},devDependencies:{chai:"^2.1.1","coffee-script":"^1.8.0",espree:"^1.11.0",gulp:"^3.8.10","gulp-bump":"^0.2.2","gulp-filter":"^2.0.0","gulp-git":"^1.0.1","gulp-tag-version":"^1.2.1",jshint:"^2.5.6",mocha:"^2.1.0"},license:"BSD-2-Clause",scripts:{test:"npm run-script lint && npm run-script unit-test",lint:"jshint estraverse.js","unit-test":"mocha --compilers coffee:coffee-script/register"}}},{}],60:[function(e,t,n){t.exports={name:"esshorten",description:"Shorten (mangle) names in JavaScript code",main:"lib/esshorten.js",version:"1.1.1",engines:{node:">=0.6.0"},directories:{lib:"./lib"},maintainers:[{name:"Yusuke Suzuki",email:"utatane.tea@gmail.com",web:"http://github.com/Constellation"}],repository:{type:"git",url:"http://github.com/estools/esshorten.git"},dependencies:{estraverse:"~4.1.1",escope:"~1.0.1",esutils:"~2.0.2"},devDependencies:{chai:"*","commonjs-everywhere":"~0.9.7","jshint-stylish":"~2.0.1","gulp-mocha":"~2.1.3","gulp-jshint":"~1.11.2",gulp:"~3.9.0","coffee-script":"~1.10.0"},licenses:[{type:"BSD",url:"http://github.com/estools/esshorten/raw/master/LICENSE.BSD"}],scripts:{test:"gulp travis",lint:"gulp lint","unit-test":"gulp test"}}},{}],61:[function(e,t,n){!function e(t){"use strict";var n,u,r,g,D,y;function c(e){var t,n,r={};for(t in e)e.hasOwnProperty(t)&&(n=e[t],r[t]="object"==typeof n&&null!==n?c(n):n);return r}function E(e,t){this.parent=e,this.key=t}function x(e,t,n,r){this.node=e,this.path=t,this.wrap=n,this.ref=r}function i(){}function C(e){return null!=e&&"object"==typeof e&&"string"==typeof e.type}function v(e,t){return(e===n.ObjectExpression||e===n.ObjectPattern)&&"properties"===t}function f(e,t){for(var n=e.length-1;0<=n;--n)if(e[n].node===t)return 1}function l(e,t){return(new i).traverse(e,t)}function h(t,e){var n=function(e,t){for(var n,r,i=e.length,s=0;i;)t(e[r=s+(n=i>>>1)])?i=n:(s=r+1,i-=1+n);return s}(e,function(e){return e.range[0]>t.range[0]});return t.extendedRange=[t.range[0],t.range[1]],n!==e.length&&(t.extendedRange[1]=e[n].range[0]),0<=--n&&(t.extendedRange[0]=e[n].range[1]),t}return n={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},r={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},u={Break:g={},Skip:D={},Remove:y={}},E.prototype.replace=function(e){this.parent[this.key]=e},E.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)},i.prototype.path=function(){var e,t,n,r,i;function s(e,t){if(Array.isArray(t))for(n=0,r=t.length;n<r;++n)e.push(t[n]);else e.push(t)}if(!this.__current.path)return null;for(i=[],e=2,t=this.__leavelist.length;e<t;++e)s(i,this.__leavelist[e].path);return s(i,this.__current.path),i},i.prototype.type=function(){return this.current().type||this.__current.wrap},i.prototype.parents=function(){for(var e=[],t=1,n=this.__leavelist.length;t<n;++t)e.push(this.__leavelist[t].node);return e},i.prototype.current=function(){return this.__current.node},i.prototype.__execute=function(e,t){var n=void 0,r=this.__current;return this.__current=t,this.__state=null,e&&(n=e.call(this,t.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=r,n},i.prototype.notify=function(e){this.__state=e},i.prototype.skip=function(){this.notify(D)},i.prototype.break=function(){this.notify(g)},i.prototype.remove=function(){this.notify(y)},i.prototype.__initialize=function(e,t){this.visitor=t,this.root=e,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,"iteration"===t.fallback?this.__fallback=Object.keys:"function"==typeof t.fallback&&(this.__fallback=t.fallback),this.__keys=r,t.keys&&(this.__keys=Object.assign(Object.create(this.__keys),t.keys))},i.prototype.traverse=function(e,t){var n,r,i,s,a,o,u,c,l,h,p,d;for(this.__initialize(e,t),d={},n=this.__worklist,r=this.__leavelist,n.push(new x(e,null,null,null)),r.push(new x(null,null,null,null));n.length;)if((i=n.pop())===d){if(i=r.pop(),o=this.__execute(t.leave,i),this.__state===g||o===g)return}else if(i.node){if(o=this.__execute(t.enter,i),this.__state===g||o===g)return;if(n.push(d),r.push(i),this.__state!==D&&o!==D){if(a=(s=i.node).type||i.wrap,!(h=this.__keys[a])){if(!this.__fallback)throw new Error("Unknown node type "+a+".");h=this.__fallback(s)}for(c=h.length;0<=--c;)if(p=s[u=h[c]])if(Array.isArray(p)){for(l=p.length;0<=--l;)if(p[l]&&!f(r,p[l])){if(v(a,h[c]))i=new x(p[l],[u,l],"Property",null);else{if(!C(p[l]))continue;i=new x(p[l],[u,l],null,null)}n.push(i)}}else!C(p)||f(r,p)||n.push(new x(p,u,null,null))}}},i.prototype.replace=function(e,t){var s,n,r,i,a,o,u,c,l,h,p,d,f;function m(e){var t,n,r,i;if(e.ref.remove())for(n=e.ref.key,i=e.ref.parent,t=s.length;t--;)if((r=s[t]).ref&&r.ref.parent===i){if(r.ref.key<n)break;--r.ref.key}}for(this.__initialize(e,t),p={},s=this.__worklist,n=this.__leavelist,o=new x(e,null,null,new E(d={root:e},"root")),s.push(o),n.push(o);s.length;)if((o=s.pop())===p){if(o=n.pop(),void 0!==(a=this.__execute(t.leave,o))&&a!==g&&a!==D&&a!==y&&o.ref.replace(a),this.__state!==y&&a!==y||m(o),this.__state===g||a===g)return d.root}else{if(void 0!==(a=this.__execute(t.enter,o))&&a!==g&&a!==D&&a!==y&&(o.ref.replace(a),o.node=a),this.__state!==y&&a!==y||(m(o),o.node=null),this.__state===g||a===g)return d.root;if((r=o.node)&&(s.push(p),n.push(o),this.__state!==D)&&a!==D){if(i=r.type||o.wrap,!(l=this.__keys[i])){if(!this.__fallback)throw new Error("Unknown node type "+i+".");l=this.__fallback(r)}for(u=l.length;0<=--u;)if(h=r[f=l[u]])if(Array.isArray(h)){for(c=h.length;0<=--c;)if(h[c]){if(v(i,l[u]))o=new x(h[c],[f,c],"Property",new E(h,c));else{if(!C(h[c]))continue;o=new x(h[c],[f,c],null,new E(h,c))}s.push(o)}}else C(h)&&s.push(new x(h,f,null,new E(r,f)))}}return d.root},t.Syntax=n,t.traverse=l,t.replace=function(e,t){return(new i).replace(e,t)},t.attachComments=function(e,t,n){var r,i,s,a,o=[];if(!e.range)throw new Error("attachComments needs range information");if(n.length){for(s=0,i=t.length;s<i;s+=1)o.push(h(c(t[s]),n));a=0,l(e,{enter:function(e){for(var t;a<o.length&&!((t=o[a]).extendedRange[1]>e.range[0]);)t.extendedRange[1]===e.range[0]?(e.leadingComments||(e.leadingComments=[]),e.leadingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}}),a=0,l(e,{leave:function(e){for(var t;a<o.length&&(t=o[a],!(e.range[1]<t.extendedRange[0]));)e.range[1]===t.extendedRange[0]?(e.trailingComments||(e.trailingComments=[]),e.trailingComments.push(t),o.splice(a,1)):a+=1;return a===o.length?u.Break:o[a].extendedRange[0]>e.range[1]?u.Skip:void 0}})}else if(t.length){for(s=0,i=t.length;s<i;s+=1)(r=c(t[s])).extendedRange=[0,e.range[0]],o.push(r);e.leadingComments=o}return e},t.VisitorKeys=r,t.VisitorOption=u,t.Controller=i,t.cloneEnvironment=function(){return e({})},t}(n)},{}],62:[function(e,r,t){!function(){"use strict";function t(e){if(null!=e)switch(e.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function n(e){switch(e.type){case"IfStatement":return null!=e.alternate?e.alternate:e.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return e.body}return null}r.exports={isExpression:function(e){if(null!=e)switch(e.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1},isStatement:t,isIterationStatement:function(e){if(null!=e)switch(e.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1},isSourceElement:function(e){return t(e)||null!=e&&"FunctionDeclaration"===e.type},isProblematicIfStatement:function(e){var t;if("IfStatement"===e.type&&null!=e.alternate){t=e.consequent;do{if("IfStatement"===t.type&&null==t.alternate)return!0}while(t=n(t))}return!1},trailingStatement:n}}()},{}],63:[function(e,o,t){!function(){"use strict";var t,n,r,i,s,e;function a(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(Math.floor((e-65536)/1024)+55296)+String.fromCharCode((e-65536)%1024+56320)}for(n={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},t={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},r=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],i=new Array(128),e=0;e<128;++e)i[e]=97<=e&&e<=122||65<=e&&e<=90||36===e||95===e;for(s=new Array(128),e=0;e<128;++e)s[e]=97<=e&&e<=122||65<=e&&e<=90||48<=e&&e<=57||36===e||95===e;o.exports={isDecimalDigit:function(e){return 48<=e&&e<=57},isHexDigit:function(e){return 48<=e&&e<=57||97<=e&&e<=102||65<=e&&e<=70},isOctalDigit:function(e){return 48<=e&&e<=55},isWhiteSpace:function(e){return 32===e||9===e||11===e||12===e||160===e||5760<=e&&0<=r.indexOf(e)},isLineTerminator:function(e){return 10===e||13===e||8232===e||8233===e},isIdentifierStartES5:function(e){return e<128?i[e]:n.NonAsciiIdentifierStart.test(a(e))},isIdentifierPartES5:function(e){return e<128?s[e]:n.NonAsciiIdentifierPart.test(a(e))},isIdentifierStartES6:function(e){return e<128?i[e]:t.NonAsciiIdentifierStart.test(a(e))},isIdentifierPartES6:function(e){return e<128?s[e]:t.NonAsciiIdentifierPart.test(a(e))}}}()},{}],64:[function(e,t,n){!function(){"use strict";var a=e("./code");function n(e,t){return!(!t&&"yield"===e)&&r(e,t)}function r(e,t){if(t&&function(e){switch(e){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return 1;default:return}}(e))return!0;switch(e.length){case 2:return"if"===e||"in"===e||"do"===e;case 3:return"var"===e||"for"===e||"new"===e||"try"===e;case 4:return"this"===e||"else"===e||"case"===e||"void"===e||"with"===e||"enum"===e;case 5:return"while"===e||"break"===e||"catch"===e||"throw"===e||"const"===e||"yield"===e||"class"===e||"super"===e;case 6:return"return"===e||"typeof"===e||"delete"===e||"switch"===e||"export"===e||"import"===e;case 7:return"default"===e||"finally"===e||"extends"===e;case 8:return"function"===e||"continue"===e||"debugger"===e;case 10:return"instanceof"===e;default:return!1}}function i(e,t){return"null"===e||"true"===e||"false"===e||n(e,t)}function s(e,t){return"null"===e||"true"===e||"false"===e||r(e,t)}function o(e){var t,n,r;if(0===e.length)return!1;if(r=e.charCodeAt(0),!a.isIdentifierStartES5(r))return!1;for(t=1,n=e.length;t<n;++t)if(r=e.charCodeAt(t),!a.isIdentifierPartES5(r))return!1;return!0}function u(e){var t,n,r,i,s;if(0===e.length)return!1;for(s=a.isIdentifierStartES6,t=0,n=e.length;t<n;++t){if(55296<=(r=e.charCodeAt(t))&&r<=56319){if(n<=++t)return!1;if(!(56320<=(i=e.charCodeAt(t))&&i<=57343))return!1;r=1024*(r-55296)+(i-56320)+65536}if(!s(r))return!1;s=a.isIdentifierPartES6}return!0}t.exports={isKeywordES5:n,isKeywordES6:r,isReservedWordES5:i,isReservedWordES6:s,isRestrictedWord:function(e){return"eval"===e||"arguments"===e},isIdentifierNameES5:o,isIdentifierNameES6:u,isIdentifierES5:function(e,t){return o(e)&&!i(e,t)},isIdentifierES6:function(e,t){return u(e)&&!s(e,t)}}}()},{"./code":63}],65:[function(e,t,n){!function(){"use strict";n.ast=e("./ast"),n.code=e("./code"),n.keyword=e("./keyword")}()},{"./ast":62,"./code":63,"./keyword":64}],66:[function(e,t,n){var s=e("./util"),a=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function u(){this._array=[],this._set=o?new Map:Object.create(null)}u.fromArray=function(e,t){for(var n=new u,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},u.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},u.prototype.add=function(e,t){var n=o?e:s.toSetString(e),r=o?this.has(e):a.call(this._set,n),i=this._array.length;r&&!t||this._array.push(e),r||(o?this._set.set(e,i):this._set[n]=i)},u.prototype.has=function(e){return o?this._set.has(e):(e=s.toSetString(e),a.call(this._set,e))},u.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(0<=t)return t}else{t=s.toSetString(e);if(a.call(this._set,t))return this._set[t]}throw new Error('"'+e+'" is not in the set.')},u.prototype.at=function(e){if(0<=e&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},u.prototype.toArray=function(){return this._array.slice()},n.ArraySet=u},{"./util":75}],67:[function(e,t,n){var c=e("./base64");n.encode=function(e){for(var t,n="",r=(e=e)<0?1+(-e<<1):e<<1;t=31&r,0<(r>>>=5)&&(t|=32),n+=c.encode(t),0<r;);return n},n.decode=function(e,t,n){var r,i,s,a=e.length,o=0,u=0;do{if(a<=t)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=c.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1))}while(r=!!(32&i),o+=(i&=31)<<u,u+=5,r);n.value=(s=o>>1,1==(1&o)?-s:s),n.rest=t}},{"./base64":68}],68:[function(e,t,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},{}],69:[function(e,t,c){c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.search=function(e,t,n,r){if(0===t.length)return-1;var i=function e(t,n,r,i,s,a){var o=Math.floor((n-t)/2)+t,u=s(r,i[o],!0);return 0===u?o:0<u?1<n-o?e(o,n,r,i,s,a):a==c.LEAST_UPPER_BOUND?n<i.length?n:-1:o:1<o-t?e(t,o,r,i,s,a):a==c.LEAST_UPPER_BOUND?o:t<0?-1:t}(-1,t.length,e,t,n,r||c.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;0<=i-1&&0===n(t[i],t[i-1],!0);)--i;return i}},{}],70:[function(e,t,n){var o=e("./util");function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},r.prototype.add=function(e){var t,n,r,i,s,a;t=this._last,n=e,r=t.generatedLine,i=n.generatedLine,s=t.generatedColumn,a=n.generatedColumn,r<i||i==r&&s<=a||o.compareByGeneratedPositionsInflated(t,n)<=0?this._last=e:this._sorted=!1,this._array.push(e)},r.prototype.toArray=function(){return this._sorted||(this._array.sort(o.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},n.MappingList=r},{"./util":75}],71:[function(e,t,n){function c(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function l(e,t,n,r){if(n<r){u=r;for(var i=(o=n)-1,s=(c(e,Math.round(o+Math.random()*(u-o)),r),e[r]),a=n;a<r;a++)t(e[a],s)<=0&&c(e,i+=1,a);c(e,i+1,a);u=i+1;l(e,t,n,u-1),l(e,t,u+1,r)}var o,u}n.quickSort=function(e,t){l(e,t,0,e.length-1)}},{}],72:[function(e,t,n){var y=e("./util"),u=e("./binary-search"),p=e("./array-set").ArraySet,E=e("./base64-vlq"),x=e("./quick-sort").quickSort;function a(e,t){var n=e;return new(null!=(n="string"==typeof e?y.parseSourceMapInput(e):n).sections?r:d)(n,t)}function d(e,t){var n=e,e=("string"==typeof e&&(n=y.parseSourceMapInput(e)),y.getArg(n,"version")),r=y.getArg(n,"sources"),i=y.getArg(n,"names",[]),s=y.getArg(n,"sourceRoot",null),a=y.getArg(n,"sourcesContent",null),o=y.getArg(n,"mappings"),n=y.getArg(n,"file",null);if(e!=this._version)throw new Error("Unsupported version: "+e);s=s&&y.normalize(s),r=r.map(String).map(y.normalize).map(function(e){return s&&y.isAbsolute(s)&&y.isAbsolute(e)?y.relative(s,e):e}),this._names=p.fromArray(i.map(String),!0),this._sources=p.fromArray(r,!0),this._absoluteSources=this._sources.toArray().map(function(e){return y.computeSourceURL(s,e,t)}),this.sourceRoot=s,this.sourcesContent=a,this._mappings=o,this._sourceMapURL=t,this.file=n}function C(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function r(e,i){var t=e,e=("string"==typeof e&&(t=y.parseSourceMapInput(e)),y.getArg(t,"version")),t=y.getArg(t,"sections");if(e!=this._version)throw new Error("Unsupported version: "+e);this._sources=new p,this._names=new p;var s={line:-1,column:0};this._sections=t.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=y.getArg(e,"offset"),n=y.getArg(t,"line"),r=y.getArg(t,"column");if(n<s.line||n===s.line&&r<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:n+1,generatedColumn:r+1},consumer:new a(y.getArg(e,"map"),i)}})}a.fromSourceMap=function(e,t){return d.fromSourceMap(e,t)},a.prototype._version=3,a.prototype.__generatedMappings=null,Object.defineProperty(a.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),a.prototype.__originalMappings=null,Object.defineProperty(a.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),a.prototype._charIsMappingSeparator=function(e,t){e=e.charAt(t);return";"===e||","===e},a.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},a.GENERATED_ORDER=1,a.ORIGINAL_ORDER=2,a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2,a.prototype.eachMapping=function(e,t,n){var r,t=t||null;switch(n||a.GENERATED_ORDER){case a.GENERATED_ORDER:r=this._generatedMappings;break;case a.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:y.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,t)},a.prototype.allGeneratedPositionsFor=function(e){var t=y.getArg(e,"line"),n={source:y.getArg(e,"source"),originalLine:t,originalColumn:y.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,u.LEAST_UPPER_BOUND);if(0<=i){var s=this._originalMappings[i];if(void 0===e.column)for(var a=s.originalLine;s&&s.originalLine===a;)r.push({line:y.getArg(s,"generatedLine",null),column:y.getArg(s,"generatedColumn",null),lastColumn:y.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++i];else for(var o=s.originalColumn;s&&s.originalLine===t&&s.originalColumn==o;)r.push({line:y.getArg(s,"generatedLine",null),column:y.getArg(s,"generatedColumn",null),lastColumn:y.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++i]}return r},n.SourceMapConsumer=a,(d.prototype=Object.create(a.prototype)).consumer=a,d.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=y.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},d.fromSourceMap=function(e,t){for(var n=Object.create(d.prototype),r=n._names=p.fromArray(e._names.toArray(),!0),i=n._sources=p.fromArray(e._sources.toArray(),!0),s=(n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(e){return y.computeSourceURL(n.sourceRoot,e,t)}),e._mappings.toArray().slice()),a=n.__generatedMappings=[],o=n.__originalMappings=[],u=0,c=s.length;u<c;u++){var l=s[u],h=new C;h.generatedLine=l.generatedLine,h.generatedColumn=l.generatedColumn,l.source&&(h.source=i.indexOf(l.source),h.originalLine=l.originalLine,h.originalColumn=l.originalColumn,l.name&&(h.name=r.indexOf(l.name)),o.push(h)),a.push(h)}return x(n.__originalMappings,y.compareByOriginalPositions),n},d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),d.prototype._parseMappings=function(e,t){for(var n,r,i,s,a=1,o=0,u=0,c=0,l=0,h=0,p=e.length,d=0,f={},m={},g=[],D=[];d<p;)if(";"===e.charAt(d))a++,d++,o=0;else if(","===e.charAt(d))d++;else{for((n=new C).generatedLine=a,s=d;s<p&&!this._charIsMappingSeparator(e,s);s++);if(i=f[r=e.slice(d,s)])d+=r.length;else{for(i=[];d<s;)E.decode(e,d,m),d=m.rest,i.push(m.value);if(2===i.length)throw new Error("Found a source, but no line and column");if(3===i.length)throw new Error("Found a source and line, but no column");f[r]=i}n.generatedColumn=o+i[0],o=n.generatedColumn,1<i.length&&(n.source=l+i[1],l+=i[1],n.originalLine=u+i[2],u=n.originalLine,n.originalLine+=1,n.originalColumn=c+i[3],c=n.originalColumn,4<i.length)&&(n.name=h+i[4],h+=i[4]),D.push(n),"number"==typeof n.originalLine&&g.push(n)}x(D,y.compareByGeneratedPositionsDeflated),this.__generatedMappings=D,x(g,y.compareByOriginalPositions),this.__originalMappings=g},d.prototype._findMapping=function(e,t,n,r,i,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return u.search(e,t,i,s)},d.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},d.prototype.originalPositionFor=function(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},e=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",y.compareByGeneratedPositionsDeflated,y.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(0<=e){var n,e=this._generatedMappings[e];if(e.generatedLine===t.generatedLine)return null!==(t=y.getArg(e,"source",null))&&(t=this._sources.at(t),t=y.computeSourceURL(this.sourceRoot,t,this._sourceMapURL)),null!==(n=y.getArg(e,"name",null))&&(n=this._names.at(n)),{source:t,line:y.getArg(e,"originalLine",null),column:y.getArg(e,"originalColumn",null),name:n}}return{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},d.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(0<=n)return this.sourcesContent[n];var r,n=e;if(null!=this.sourceRoot&&(n=y.relative(this.sourceRoot,n)),null!=this.sourceRoot&&(r=y.urlParse(this.sourceRoot))){e=n.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];if((!r.path||"/"==r.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(t)return null;throw new Error('"'+n+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(e){var t=y.getArg(e,"source"),t=this._findSourceIndex(t);if(!(t<0)){t={source:t,originalLine:y.getArg(e,"line"),originalColumn:y.getArg(e,"column")},e=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,y.getArg(e,"bias",a.GREATEST_LOWER_BOUND));if(0<=e){e=this._originalMappings[e];if(e.source===t.source)return{line:y.getArg(e,"generatedLine",null),column:y.getArg(e,"generatedColumn",null),lastColumn:y.getArg(e,"lastGeneratedColumn",null)}}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=d,(r.prototype=Object.create(a.prototype)).constructor=a,r.prototype._version=3,Object.defineProperty(r.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),r.prototype.originalPositionFor=function(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},n=u.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[n];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},r.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},r.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},r.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(y.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},r.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],i=r.consumer._generatedMappings,s=0;s<i.length;s++){var a=i[s],o=r.consumer._sources.at(a.source),o=y.computeSourceURL(r.consumer.sourceRoot,o,this._sourceMapURL),u=(this._sources.add(o),o=this._sources.indexOf(o),null),o=(a.name&&(u=r.consumer._names.at(a.name),this._names.add(u),u=this._names.indexOf(u)),{source:o,generatedLine:a.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(r.generatedOffset.generatedLine===a.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u});this.__generatedMappings.push(o),"number"==typeof o.originalLine&&this.__originalMappings.push(o)}x(this.__generatedMappings,y.compareByGeneratedPositionsDeflated),x(this.__originalMappings,y.compareByOriginalPositions)},n.IndexedSourceMapConsumer=r},{"./array-set":66,"./base64-vlq":67,"./binary-search":69,"./quick-sort":71,"./util":75}],73:[function(e,t,n){var d=e("./base64-vlq"),f=e("./util"),u=e("./array-set").ArraySet,r=e("./mapping-list").MappingList;function s(e){this._file=f.getArg(e=e||{},"file",null),this._sourceRoot=f.getArg(e,"sourceRoot",null),this._skipValidation=f.getArg(e,"skipValidation",!1),this._sources=new u,this._names=new u,this._mappings=new r,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(n){var r=n.sourceRoot,i=new s({file:n.file,sourceRoot:r});return n.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=r&&(t.source=f.relative(r,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name)&&(t.name=e.name),i.addMapping(t)}),n.sources.forEach(function(e){var t=e,t=(null!==r&&(t=f.relative(r,e)),i._sources.has(t)||i._sources.add(t),n.sourceContentFor(e));null!=t&&i.setSourceContent(e,t)}),i},s.prototype.addMapping=function(e){var t=f.getArg(e,"generated"),n=f.getArg(e,"original",null),r=f.getArg(e,"source",null),e=f.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,e),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=e&&(e=String(e),this._names.has(e)||this._names.add(e)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:e})},s.prototype.setSourceContent=function(e,t){null!=this._sourceRoot&&(e=f.relative(this._sourceRoot,e)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[f.toSetString(e)]=t):this._sourcesContents&&(delete this._sourcesContents[f.toSetString(e)],0===Object.keys(this._sourcesContents).length)&&(this._sourcesContents=null)},s.prototype.applySourceMap=function(n,e,r){var i=e;if(null==e){if(null==n.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=n.file}var s=this._sourceRoot,a=(null!=s&&(i=f.relative(s,i)),new u),o=new u;this._mappings.unsortedForEach(function(e){e.source===i&&null!=e.originalLine&&null!=(t=n.originalPositionFor({line:e.originalLine,column:e.originalColumn})).source&&(e.source=t.source,null!=r&&(e.source=f.join(r,e.source)),null!=s&&(e.source=f.relative(s,e.source)),e.originalLine=t.line,e.originalColumn=t.column,null!=t.name)&&(e.name=t.name);var t=e.source,t=(null==t||a.has(t)||a.add(t),e.name);null==t||o.has(t)||o.add(t)},this),this._sources=a,this._names=o,n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&(null!=r&&(e=f.join(r,e)),null!=s&&(e=f.relative(s,e)),this.setSourceContent(e,t))},this)},s.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&0<e.line&&0<=e.column)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&0<e.line&&0<=e.column&&0<t.line&&0<=t.column&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},s.prototype._serializeMappings=function(){for(var e,t,n,r=0,i=1,s=0,a=0,o=0,u=0,c="",l=this._mappings.toArray(),h=0,p=l.length;h<p;h++){if(e="",(t=l[h]).generatedLine!==i)for(r=0;t.generatedLine!==i;)e+=";",i++;else if(0<h){if(!f.compareByGeneratedPositionsInflated(t,l[h-1]))continue;e+=","}e+=d.encode(t.generatedColumn-r),r=t.generatedColumn,null!=t.source&&(n=this._sources.indexOf(t.source),e+=d.encode(n-u),u=n,e+=d.encode(t.originalLine-1-a),a=t.originalLine-1,e+=d.encode(t.originalColumn-s),s=t.originalColumn,null!=t.name)&&(n=this._names.indexOf(t.name),e+=d.encode(n-o),o=n),c+=e}return c},s.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=f.relative(t,e));e=f.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,e)?this._sourcesContents[e]:null},this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this.toJSON())},n.SourceMapGenerator=s},{"./array-set":66,"./base64-vlq":67,"./mapping-list":70,"./util":75}],74:[function(e,t,n){var r=e("./source-map-generator").SourceMapGenerator,p=e("./util"),d=/(\r?\n)/,s="$$$isSourceNode$$$";function f(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}f.fromStringWithSourceMap=function(e,n,r){function i(){return e()+(e()||"");function e(){return o<a.length?a[o++]:void 0}}var s=new f,a=e.split(d),o=0,u=1,c=0,l=null;return n.eachMapping(function(e){if(null!==l){var t;if(!(u<e.generatedLine))return t=(n=a[o]||"").substr(0,e.generatedColumn-c),a[o]=n.substr(e.generatedColumn-c),c=e.generatedColumn,h(l,t),void(l=e);h(l,i()),u++,c=0}for(;u<e.generatedLine;)s.add(i()),u++;var n;c<e.generatedColumn&&(n=a[o]||"",s.add(n.substr(0,e.generatedColumn)),a[o]=n.substr(e.generatedColumn),c=e.generatedColumn),l=e},this),o<a.length&&(l&&h(l,i()),s.add(a.splice(o).join(""))),n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&(null!=r&&(e=p.join(r,e)),s.setSourceContent(e,t))}),s;function h(e,t){var n;null===e||void 0===e.source?s.add(t):(n=r?p.join(r,e.source):e.source,s.add(new f(e.originalLine,e.originalColumn,n,t,e.name)))}},f.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},f.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;0<=t;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},f.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},f.prototype.join=function(e){var t,n,r=this.children.length;if(0<r){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},f.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},f.prototype.setSourceContent=function(e,t){this.sourceContents[p.toSetString(e)]=t},f.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);for(var r=Object.keys(this.sourceContents),t=0,n=r.length;t<n;t++)e(p.fromSetString(r[t]),this.sourceContents[r[t]])},f.prototype.toString=function(){var t="";return this.walk(function(e){t+=e}),t},f.prototype.toStringWithSourceMap=function(e){var i={code:"",line:1,column:0},s=new r(e),a=!1,o=null,u=null,c=null,l=null;return this.walk(function(e,t){i.code+=e,null!==t.source&&null!==t.line&&null!==t.column?(o===t.source&&u===t.line&&c===t.column&&l===t.name||s.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:i.line,column:i.column},name:t.name}),o=t.source,u=t.line,c=t.column,l=t.name,a=!0):a&&(s.addMapping({generated:{line:i.line,column:i.column}}),o=null,a=!1);for(var n=0,r=e.length;n<r;n++)10===e.charCodeAt(n)?(i.line++,i.column=0,n+1===r?(o=null,a=!1):a&&s.addMapping({source:t.source,original:{line:t.line,column:t.column},generated:{line:i.line,column:i.column},name:t.name})):i.column++}),this.walkSourceContents(function(e,t){s.setSourceContent(e,t)}),{code:i.code,map:s}},n.SourceNode=f},{"./source-map-generator":73,"./util":75}],75:[function(e,t,o){o.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function u(e){e=e.match(n);return e?{scheme:e[1],auth:e[2],host:e[3],port:e[4],path:e[5]}:null}function c(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,n=u(e);if(n){if(!n.path)return e;t=n.path}for(var r,e=o.isAbsolute(t),i=t.split(/\/+/),s=0,a=i.length-1;0<=a;a--)"."===(r=i[a])?i.splice(a,1):".."===r?s++:0<s&&(""===r?(i.splice(a+1,s),s=0):(i.splice(a,2),s--));return""===(t=i.join("/"))&&(t=e?"/":"."),n?(n.path=t,c(n)):t}function r(e,t){""===e&&(e=".");var n=u(t=""===t?".":t),r=u(e);return r&&(e=r.path||"/"),n&&!n.scheme?(r&&(n.scheme=r.scheme),c(n)):n||t.match(i)?t:!r||r.host||r.path?(n="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t),r?(r.path=n,c(r)):n):(r.host=t,c(r))}o.urlParse=u,o.urlGenerate=c,o.normalize=s,o.join=r,o.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},o.relative=function(e,t){e=(e=""===e?".":e).replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function l(e){return e}function h(e){if(e){var t=e.length;if(!(t<9)&&95===e.charCodeAt(t-1)&&95===e.charCodeAt(t-2)&&111===e.charCodeAt(t-3)&&116===e.charCodeAt(t-4)&&111===e.charCodeAt(t-5)&&114===e.charCodeAt(t-6)&&112===e.charCodeAt(t-7)&&95===e.charCodeAt(t-8)&&95===e.charCodeAt(t-9)){for(var n=t-10;0<=n;n--)if(36!==e.charCodeAt(n))return;return 1}}}function p(e,t){return e===t?0:null===e||null!==t&&t<e?1:-1}o.toSetString=a?l:function(e){return h(e)?"$"+e:e},o.fromSetString=a?l:function(e){return h(e)?e.slice(1):e},o.compareByOriginalPositions=function(e,t,n){var r=p(e.source,t.source);return 0!==r||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)||n||0!=(r=e.generatedColumn-t.generatedColumn)||0!=(r=e.generatedLine-t.generatedLine)?r:p(e.name,t.name)},o.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!=r||0!=(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=p(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:p(e.name,t.name)},o.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!=n||0!=(n=e.generatedColumn-t.generatedColumn)||0!==(n=p(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:p(e.name,t.name)},o.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},o.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){e=u(n);if(!e)throw new Error("sourceMapURL could not be parsed");e.path&&0<=(n=e.path.lastIndexOf("/"))&&(e.path=e.path.substring(0,n+1)),t=r(c(e),t)}return s(t)}},{}],76:[function(e,t,n){n.SourceMapGenerator=e("./lib/source-map-generator").SourceMapGenerator,n.SourceMapConsumer=e("./lib/source-map-consumer").SourceMapConsumer,n.SourceNode=e("./lib/source-node").SourceNode},{"./lib/source-map-consumer":72,"./lib/source-map-generator":73,"./lib/source-node":74}],77:[function(e,t,n){const i=e("../JSC/jsc.js")["JSC"];t.exports.build=async function(t,e){var n,r=new i(e=>t.readFile(e));return r.include("/std.js"),r.process(),[r,[e,n]]=[r.write("js"),e],`<!doctype html>
<html>
<head>
<style>
html, body, canvas {
width: 100%;
height: 100%;
position: absolute;
overflow: hidden;
margin: 0;
border: 0;
padding: 0;
left: 0;
right: 0;
top: 0;
bottom: 0;
}
canvas {
margin: auto;
image-rendering: pixelated;
}
</style>
<script src="assets.js"></script>
<script src="browser.js"></script>
<script>
${r}
</script>
</head>
<body>
<canvas id=canvas width=${e} height=${n}></canvas>
</body>
</html>`}},{"../JSC/jsc.js":5}],78:[function(e,t,n){const r=e("./dom.js")["dom"],i=e("./esptool.js");let s;t.exports.upload=async function(e){if(!s){if(await new Promise((t,e)=>{const n=r(document.body,{style:{position:"absolute",width:"100%",height:"100%",margin:0,padding:0}},[["div",{style:{position:"absolute",width:"300px",height:"200px",margin:"auto",left:0,right:0,top:0,bottom:0,background:"#333",borderRadius:"10px",border:"1px solid #555"},onclick:e=>{n.remove(),t()}}]])}),!s){var t=await i.connect({log:(...e)=>console.log(...e),debug:(...e)=>console.debug(...e),error:(...e)=>console.error(...e)});try{await t.initialize(),console.log("Connected to "+t.chipName),(s=await t.runStub()).addEventListener("disconnect",()=>{s=!1})}catch(e){throw await t.disconnect(),e}}await 0}s&&(console.log("Uploading ",e),await s.flashData(e,(e,t)=>{console.log(Math.floor(e/t*100)+"%")},0),s)&&(await s.disconnect(),await s.port.close(),s=void 0)}},{"./dom.js":86,"./esptool.js":87}],79:[function(e,t,n){"use strict";const{dom:a,index:r}=e("./dom.js"),s=e("./Model.js")["Model"],i=e("./TreeListNode.js")["TreeListNode"],o=e("./TabContainer.js")["TabContainer"],u=e("./Preview.js")["Preview"],c=e("./ProjectControls.js")["ProjectControls"],l=e("./pngfs.js")["PNGFS"],h=e("./stdlib.js")["stdlib"],p=e("./ESPBoy.js"),d=e("./Browser.js");t.exports.IDE=class{constructor(e,t,n){this.fs=null,this.model=n,this.projectModel=null,this.editors={},this.view=null,this.tabContainer=null,this.treeNodes={},this.preview=null,this.el=e,this.parent=t,this.booted=!1,n.watch("state",e=>this.changeState(e)),n.watch("windowSize",e=>this.resize())}resize(){if(!this.el.classList.contains("hidden"))for(var e in this.boot(),this.editors)this.editors[e].editor.layout()}async changeState(e){this.el.classList.toggle("hidden",e!=this.constructor.name),await this.closeProject(),e==this.constructor.name&&(this.resize(),this.openProject())}async closeProject(){this.fs=null,this.projectModel=null,[...Object.values(this.editors)].forEach(({shortPath:e})=>this.tabContainer.close(e))}async openProject(){var e="project-"+this.model.get("projectId");let t=this.model.get(e,null),n=this.model.get(e+"-fs",null);t||(await(t=new s).useStorage(e),this.model.set(e,t),t.onBeforeSave=e=>{t.set("fs",n.toJSON())}),n=n||new l(t.get("fs",null)),this.projectModel=t,this.fs=n,this.fs.onDirty=e=>t.dirty(),0==this.fs.ls().length&&this.loadExample(),this.refreshTree();var e=t.get("activeFile","/source/main.js"),r=t.get("openFileList",[]),i=[...r];r.length=0,i.forEach(e=>this.openFile(e)),this.openFile(e)}boot(){this.booted||(this.booted=!0,this.setupMonaco(),this.view=r(this.el,{},this),this.model.watch("platform",e=>this.emitStd(e)))}setupPreview(e){return this.preview=new u(e,this,this.model),!1}setupTabContainer(e){return this.tabContainer=new o(e),this.tabContainer.onClose=this.onCloseEditor.bind(this),this.tabContainer.onActivate=this.onActivateFile.bind(this),!1}setupProjectControls(e){return new c(e,this.model),!1}setupMonaco(){monaco.languages.typescript.javascriptDefaults.setEagerModelSync(!0),monaco.languages.typescript.javascriptDefaults.setCompilerOptions({target:monaco.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,noLib:!0,allowJs:!0});var e="ts:filename/stdlib.d.ts";monaco.languages.typescript.javascriptDefaults.addExtraLib(h,e),monaco.editor.createModel(h,"typescript",monaco.Uri.parse(e))}refreshTree(){var e,t=document.querySelector("#treelist");for(this.treeNodes={};t.childNodes.length;)t.removeChild(t.childNodes[0]);for(e of this.fs.ls("/"))t.appendChild(new i(e,"/",this.openFile.bind(this),this.treeNodes).dom)}openFile(r){var e=r.split("/").pop();if(this.tabContainer.activate(e))this.projectModel.set("activeFile",r);else{let n=this.fs.readFile(r);if(!1!==n){var t=a("div",{style:{width:"100%",height:"100%",position:"absolute"}}),i={node:t,shortPath:e,path:r,editor:null};this.editors[r]=i,this.projectModel.get("openFileList",[]).push(r),this.projectModel.dirty("openFileList"),this.tabContainer.add(e,t),this.tabContainer.activate(e);const s=monaco.editor.create(t,{value:n,language:"javascript",theme:"vs-dark"});s.onDidChangeModelContent(e=>{var t=s.getValue();t!=n&&(n=t,this.fs.writeFile(r,n))}),i.editor=s}}}getEditor(e){for(var t in this.editors){t=this.editors[t];if(t.node==e)return t}return null}getActiveTreeNode(){for(var e in this.treeNodes)if(this.treeNodes[e].isActive())return this.treeNodes[e]}onActivateFile(e){var t,n=this.getEditor(e)?.path;for(t in this.editors[n]?.editor?.layout(),this.projectModel.set("activeFile",n),this.treeNodes)this.treeNodes[t].setActive(t==n)}onCloseEditor(e){for(var t in this.editors){var{node:n,editor:r}=this.editors[t];if(n==e){r.dispose(),delete this.editors[t],this.projectModel&&((n=this.projectModel.get("openFileList",[])).splice(n.indexOf("path"),1),this.projectModel.dirty("openFileList"));break}}return!0}emitStd(e){this.fs&&(this.fs?.writeFile("/std.js",e=`"set platform ${e}";
"addSysCall setScreenMode setPen setFont setLED setTexture";
"addSysCall setMirrored setFlipped setTransparent";
"addSysCall getWidth getHeight";
"addSysCall clear image text";
"push globals UP DOWN LEFT RIGHT A B C D";
"include /source/main.js"
`),this.editors["/std.js"]?.editor.setValue(e))}createFile(){var e,t,n,r=this.fs,i=prompt("File Name:");i&&(t=(e=this.getActiveTreeNode()).path.split("/"),e.isDirectory()||t.pop(),t.push(i),e=t.join("/"),r.lookup(e)?alert(`File ${i} already exists.`):([t,n]=e.split("/").pop().split("."),t&&n?(n="js"!==n.toLowerCase()?"":`// ${i}

class ${t} {
    constructor() {
    }

    update(time) {
    }

    render() {
    }
}

`,r.writeFile(e,n)?(this.refreshTree(),this.openFile(e)):alert(`Could not write file ${i}.`)):alert("Invalid file name: "+i)))}createDir(){var e,t,n=this.fs,r=prompt("Directory Name:");r&&(t=(e=this.getActiveTreeNode()).path.split("/"),e.isDirectory()||t.pop(),t.push(r),t=t.join("/"),n.mkdir(t)||alert(`Could not create directory ${r}.`),this.refreshTree(),e.isFile())&&this.openFile(e.path)}loadExample(){var e=this.fs;e.mkdir("/images"),e.mkdir("/sounds"),e.mkdir("/source"),e.writeFile("/source/bat.js",`const batDead = R.bat1;
const batFly = [R.bat2, R.bat3, R.bat4];

class Bat {
    constructor(id) {
        this.id = id;
        this.x = rand(300);
        this.y = rand(10);
        this.z = 1;
        this.vx = 0;
        this.vy = 0;
        this.hp = 100;
        this.angle = 0;
    }

    updatePlayer() {
        this.vx += RIGHT - LEFT;
        this.vy += DOWN - UP;
    }

    updateAI() {
        let tx = this.x - bats[0].x;
        let ty = this.y - bats[0].y;

        if (tx*tx + ty*ty < 500) {
            this.vx *= 1.026;
            this.vy *= 1.026;
        } else {
            this.vx += (tx < 0) * 2 - 1;
            this.vy += (ty < 0) * 2 - 1;
        }
    }

    update() {
        if (!this.id)
            this.updatePlayer();
        else
            this.updateAI();

        let x = this.x;
        let y = this.y;
        let vx = this.vx;
        let vy = this.vy;

        for (let i = 0; i < this.id; ++i) {
            let tx = x - bats[i].x;
            let ty = y - bats[i].y;
            let d = tx*tx + ty*ty;
            if (d < 200) {
                vx += tx;
                vy += ty;
            }
        }

        vx *= 0.975;
        vy *= 0.975;

        x += vx * 0.1;
        y += vy * 0.1;

        if (y > bgHeight*0.45 && vy > 0) {
            vy = -vy;
            y = bgHeight*0.45;
        }

        if (vx && vy) {
            this.angle = -atan2(vy, vx);
        }

        this.vx = vx;
        this.vy = vy;
        this.x = x;
        this.y = y;

        if (!this.id) {
            cameraX = (cameraX * 15 + (x - width/2)) / 16;
            cameraY = (cameraY * 15 + (y - height/2)) / 16;
            cameraY = max(height - bgHeight, cameraY);
            cameraY = min(height - bgHeight * 0.6, cameraY);
        }
    }

    draw() {
        setFlipped(this.vx < 0);
        setMirrored(false);
        setPen((!!this.id) * 2);

        let texture = batDead;
        if (this.hp > 0)
            texture = batFly[(this.id + (frame >> 2))%batFly.length];
        image(texture, this.x - cameraX, this.y - cameraY, this.angle, 1 - 0.25 * !!this.id);
    }
}
`),e.writeFile("/source/main.js",`
"include /source/bat.js";

let width;
let height;
let bgHeight;
let bgWidth;

let cameraX = 0.01;
let cameraY = 0.01;

let frame = 0;
let frames = 0;
let start = 0;
let fps = 0;
let prevTime = 0;
const bats = new Array(10);
const black = setPen(0, 0, 0);

function init() {
    width = getWidth();
    height = getHeight();
    bgHeight = getHeight(R.background);
    bgWidth = getWidth(R.background);

    for (let i = 0; i < bats.length; ++i)
        bats[i] = new Bat(i);
}

function update(time) {
    let targetFrame = ceil(time * 30 / 1000)
    let delta = targetFrame - frame;
    prevTime = time;
    frames++;
    if (time - start > 1000) {
        fps = frames;
        frames = 0;
        start = time;
        debug(fps);
    }

    for (let i = 0; i < delta; ++i) {
        ++frame;
        for (let bat of bats)
            bat.update(delta);
    }
}

function render() {
    setMirrored(false);
    setFlipped(false);
    setTransparent(false);
    setPen(0);

    let bgX = (-cameraX) % bgWidth;
    if (bgX > 0)
        bgX -= bgWidth;
    image(R.background, bgX, -cameraY);
    image(R.background, bgX + bgWidth, -cameraY);

    for (let bat of bats)
        bat.draw();

    setPen(black);
    text(fps, 5, 5);
}
`)}async run(e){this.preview.showHTML(await d.build(this.fs,e))}async export(){var e;"espboy"==this.model.get("platform")&&navigator.serial?"application/octet-stream"==(e=await fetch(this.view.postform.action,{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({body:this.fs})})).headers.get("content-type")?p.upload(await e.arrayBuffer()):(e=await e.text(),console.error(e)):(this.view.postbody.value=JSON.stringify(this.fs),this.view.postform.submit())}}},{"./Browser.js":77,"./ESPBoy.js":78,"./Model.js":80,"./Preview.js":81,"./ProjectControls.js":82,"./TabContainer.js":84,"./TreeListNode.js":85,"./dom.js":86,"./pngfs.js":90,"./stdlib.js":91}],80:[function(e,t,n){const r=e("localforage");r.config({name:"model"});t.exports.Model=class{#storageId;#data;#timeout;#dirtyCount=0;onBeforeSave;onAfterSave;constructor(){this.#data={}}dirty(e){let t=this.#data[e];if(t&&t.listeners.forEach(e=>e(t.value)),this.#storageId){if(0<this.#timeout){if(this.#dirtyCount++,100<this.#dirtyCount)return;clearTimeout(this.#timeout),this.#timeout=0}else if(-1==this.#timeout)return;this.#timeout=setTimeout(e=>{this.#timeout=-1,console.log("Saving",this.#storageId),this.onBeforeSave?.(),clearTimeout(this.#timeout),this.#timeout=0,this.#dirtyCount=0,r.setItem(this.#storageId,this.toJSON()),this.onAfterSave?.()},1e3)}}toJSON(){var e,t={};for(e in this.#data){var n=this.#data[e].value;n&&"object"==typeof n&&n.constructor!=Object&&n.constructor!=Array||(t[e]=n)}return t}async useStorage(e){this.#storageId=null;var t=await r.getItem(e);if(t)for(var n in t)this.set(n,t[n]);this.#storageId=e}init(t){var n=[];for(const r in t){const i=t[r];let e=this.#data[r];e&&"value"in e||(e?(e.value=i,n.push(...e.listeners.map(e=>e.bind(null,i)))):e=this.#data[r]={value:i,listeners:[]})}n.forEach(e=>e())}set(e,t){let n=this.#data[e];n?(n.value!=t||t&&"object"==typeof t)&&(n.value=t,this.dirty(e)):n=this.#data[e]={value:t,listeners:[]}}get(e,t){var n=this.#data[e];return n?n.value:(void 0!==t&&this.set(e,t),t)}watch(t,n){if("object"==typeof t){var e,r=[];for(e in t){var i=t[e];if(!Array.isArray(i)&&-1==r.indexOf(i))for(let e=0;e<i.attributes.length;++e){var s,a=i.attributes[e],o=a.name.split("-");2==o.length&&(s={text:"textContent",html:"innerHTML"}[o[1]]||o[1],"read"!=o[0]&&"readwrite"!=o[0]||this.watch(a.value,c.bind(this,i,s)),"write"!=o[0]&&"readwrite"!=o[0]||i.addEventListener("change",l.bind(this,i,s,a.value)),"for"==o[0]&&"each"==o[1])&&this.watch(a.value,u.bind(this,i,i.innerHTML))}}function u(e,t,n){if(Array.isArray(n)){var r=[];for(const i of n)r.push(t.replace(/\$\{([^}]+)\}/g,(e,t)=>i[t]));e.innerHTML=r.join("")}}function c(e,t,n){e[t]=n,console.log("updating ",e,"prop",t,"with val",n)}function l(e,t,n){this.set(n,e[t])}}else{let e=this.#data[t];e?e.listeners.push(n):e=this.#data[t]={listeners:[n]},n(e.value)}}}},{localforage:89}],81:[function(e,t,n){"use strict";const r=e("./dom.js")["index"];t.exports.Preview=class{constructor(e,t,n){this.view=r(e,{},this),this.model=n,this.parent=t,n.watch(this.view),n.watch("platform",e=>this.resize()),this.resize()}getPlatformSize(){return{pokitto:[220,176],blit:[320,240],espboy:[128,128]}[this.model.get("platform")]}resize(){var e,t,n=this.view.screencontainer,r=this.getPlatformSize(),i=this.view.zoom.value;r?([r,e]=r,(t=this.view.screencontainer.querySelector("iframe"))&&(t.style.width=r*i+"px",t.style.height=e*i+"px"),n.style.display="block",n.style.height=e*i+"px",n.style["min-width"]=r*i+"px",n.parentElement.style["min-width"]=r*i+"px"):n.display="none"}showHTML(e){this.view.screen.remove(),this.view.screencontainer.innerHTML=this.view.screen.outerHTML;var t=this.view.screencontainer.querySelector("iframe");t.src="about:blank",t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close(),t.focus(),this.resize()}run(){var e=this.getPlatformSize();e&&this.parent.run(e)}export(){this.parent.export()}}},{"./dom.js":86}],82:[function(e,t,n){const r=e("./dom.js")["index"];t.exports.ProjectControls=class{constructor(e,t){this.el=e,this.view=r(e,{},this),(this.model=t).watch(this.view)}goToTOP(){this.model.set("state","TOP")}}},{"./dom.js":86}],83:[function(e,t,n){const r=e("./dom.js")["index"];t.exports.TOP=class{#el;#view;#parent;#model;constructor(e,t,n){this.#el=e,this.#view=r(e,{},this),this.#parent=t,(this.#model=n).watch(this.#view),n.watch("state",e=>this.changeState(e))}changeState(e){this.#el.classList.toggle("hidden",e!=this.constructor.name)}clickProject(e){e.target!=e.currentTarget&&this[e.target.getAttribute("bind-click")]?.(e)}checkName(){var e=this.#view.newprojectname.value,t=e.trim().replace(/[^a-zA-Z 0-9]+/,"").substr(0,18);return e!=t&&(this.#view.newprojectname.value=t),t}newProject(){var t=this.checkName(),n=this.#view.newprojectname;if(0==t.length)n.focus(),n.placeholder="Enter Your Project's name here.";else{var r,i=this.#model.get("projectList",[]);let e=0;for(r of i)if(e<=(0|r.id)&&(e=1+(0|r.id)),r.name.toLowerCase()==t.toLowerCase())return n.focus(),n.placeholder="Name already taken by another project.",void(n.value="");var s={id:e,name:t};i.push(s),this.#model.set("projectId",s.id),this.#model.set("projectName",s.name),this.#model.set("state","IDE"),this.#model.set("projectList",i)}}findProject(e){e:for(const t of this.#model.get("projectList",[])){for(const n in e)if(e[n]!=t[n])continue e;return t}}openProject(e){e=this.findProject({id:e.target.getAttribute("project-id")});this.#model.set("projectId",e.id),this.#model.set("projectName",e.name),this.#model.set("state","IDE")}deleteProject(){var e=this.findProject({id:event.target.getAttribute("project-id")}),t=this.#model.get("projectList",[]),e=t.indexOf(e);t.splice(e,1),this.#model.dirty("projectList")}}},{"./dom.js":86}],84:[function(e,t,n){const r=e("./dom.js")["dom"];t.exports.TabContainer=class{constructor(e){this.onClose=null,this.onActivate=null,this.tabs={},this.node=e,this.tabset=r(e,{className:"tabset"}),this.container=r(e,{className:"tabcontainer"})}close(r){const i=this.tabs[r];if(i&&(!this.onClose||!1!==this.onClose(i.contents))){let e=null,t=null,n=null;for(var s in this.tabs){const i=this.tabs[s]["tab"];if(-1==i.className.indexOf("inactive"))e=s;else if(e){if(!n){n=s;break}}else t=s}e==r&&(t?this.activate(t):n&&this.activate(n)),i.tab.remove(),i.contents.remove(),delete this.tabs[r]}}active(){for(var e in this.tabs){var{tab:t,contents:n}=this.tabs[e];if(-1==t.className.indexOf("inactive"))return{name:e,contents:n}}}add(t,e){var n=[];this.onClose&&n.push(r("span",{className:"tabclose",textContent:"x",onclick:this.close.bind(this,t)})),this.tabs[t]={tab:r(this.tabset,{textContent:t,className:"tab inactive",onclick:e=>{this.activate(t)}},n),contents:e}}activate(e){var t,n=this.tabs[e];if(!n)return!1;for(;this.container.lastChild;)this.container.removeChild(this.container.lastChild);for(t in this.container.appendChild(n.contents),this.tabs)this.tabs[t].tab.className="tab "+(t==e?"active":"inactive");return this.onActivate&&this.onActivate(n.contents),!0}}},{"./dom.js":86}],85:[function(e,t,n){const a=e("./dom.js")["dom"];t.exports.TreeListNode=class o{constructor(t,n,r,i){this.path=n+t.name,this.entry=t,i[this.path]=this;var e=n.split("/").length-2,e="&nbsp;".repeat(2*e),s=Object.values(t.node.children||{}).sort((e,t)=>e.node.children&&!t.node.children||e.name>t.name);this.dom=a("div",{className:"treenode inactive",onclick:e=>r(n+t.name)},[["div",{innerHTML:e+t.name,className:"filelabel"}],...s.map(e=>new o(e,this.path+"/",r,i).dom)])}setActive(e){this.dom.className=e?"treenode active":"treenode inactive"}isActive(){return-1==this.dom.className.indexOf("inactive")}isFile(){return this.entry.isFile()}isDirectory(){return this.entry.isDirectory()}}},{"./dom.js":86}],86:[function(e,t,n){t.exports.dom=function t(...e){let n="div",r=null,i=null,s=null;for(var a of e)void 0!==a&&("string"==typeof a?n=a:a&&a instanceof Element?r=a:a&&Array.isArray(a)?s=a:a&&"object"==typeof a&&(i=a));let o=document.createElement(n);return r&&r.appendChild(o),i&&(i.style&&(Object.assign(o.style,i.style),delete(i=Object.assign({},i)).style),Object.assign(o,i)),s&&s.forEach(e=>{e&&(Array.isArray(e)?t(o,...e):e instanceof Element&&o.appendChild(e))}),o},t.exports.index=function n(r,i={},s=null){r.className&&(Array.isArray(i[r.className])?i[r.className].push(r):i[r.className]=[r]),r.id&&(i[r.id]=r);let t=!0;if(s){var a=s.constructor.name.toLowerCase();for(let e=0;e<r.attributes.length;++e){var o,u=r.attributes[e].name,c=r.attributes[e].value;2!=(u=u.split("-")).length||"index"!=u[0]&&"bind"!=u[0]||"index"==u[0]&&u[1]!=a||("function"!=typeof(o=s[c])?console.warn(`No method ${c} in ${s.constructor.name}.`,r):"index"==u[0]?t=!1!==o.call(s,r):"bind"==u[0]&&r.addEventListener(u[1],s[c].bind(s)))}}if(t)for(let e=0,t=r.children.length;e<t;++e)n(r.children[e],i,s);return i}},{}],87:[function(O,j,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=e.ESPLoader=e.CHIP_FAMILY_ESP8266=e.CHIP_FAMILY_ESP32S3=e.CHIP_FAMILY_ESP32S2=e.CHIP_FAMILY_ESP32H2=e.CHIP_FAMILY_ESP32C6=e.CHIP_FAMILY_ESP32C3=e.CHIP_FAMILY_ESP32=void 0;const M=t=>{var n=[];for(let e=0;e<t.length;e++){var r=t.charCodeAt(e);r<=255&&n.push(r)}return n},a=e=>"["+e.map(e=>y(e)).join(", ")+"]",y=(e,t=2)=>{e=e.toString(16).toUpperCase();return e.startsWith("-")?"-0x"+e.substring(1).padStart(t,"0"):"0x"+e.padStart(t,"0")},R=t=>new Promise(e=>setTimeout(e,t)),U={18:"256KB",19:"512KB",20:"1MB",21:"2MB",22:"4MB",23:"8MB",24:"16MB",25:"32MB",26:"64MB"},z=M(" UUUUUUUUUUUUUUUUUUUUUUUUUUUUUUUU"),c=12882,l=12883,h=12995,q={4293968129:{name:"ESP8266",family:33382},15736195:{name:"ESP32",family:50},1990:{name:"ESP32-S2",family:c},9:{name:"ESP32-S3",family:l},3942662454:{name:"ESP32-S3(beta2)",family:l},1763790959:{name:"ESP32-C3",family:h},456216687:{name:"ESP32-C3",family:h},3391540258:{name:"ESP32-H2",family:12914},228687983:{name:"ESP32-C6(beta)",family:12998}},J=(e,t)=>{e=Math.floor(e*(t/486));return e<3e3?3e3:e},W=e=>{switch(e){case 50:return{regBase:1072963584,baseFuse:1073061888,macFuse:1073061888,usrOffs:28,usr1Offs:32,usr2Offs:36,mosiDlenOffs:40,misoDlenOffs:44,w0Offs:128,uartDateReg:1610612856,flashOffs:4096};case c:return{regBase:1061167104,baseFuse:1061265408,macFuse:1061265476,usrOffs:24,usr1Offs:28,usr2Offs:32,mosiDlenOffs:36,misoDlenOffs:40,w0Offs:88,uartDateReg:1610612856,flashOffs:4096};case l:return{regBase:1610620928,usrOffs:24,baseFuse:1610641408,macFuse:1610641476,usr1Offs:28,usr2Offs:32,mosiDlenOffs:36,misoDlenOffs:40,w0Offs:88,uartDateReg:1610612864,flashOffs:0};case 33382:return{regBase:1610613248,usrOffs:28,baseFuse:1072693328,macFuse:1072693328,usr1Offs:32,usr2Offs:36,mosiDlenOffs:-1,misoDlenOffs:-1,w0Offs:64,uartDateReg:1610612856,flashOffs:0};case h:return{regBase:1610620928,baseFuse:1610647552,macFuse:1610647620,usrOffs:24,usr1Offs:28,usr2Offs:32,mosiDlenOffs:36,misoDlenOffs:40,w0Offs:88,uartDateReg:1610612860,flashOffs:0};default:return{regBase:-1,baseFuse:-1,macFuse:-1,usrOffs:-1,usr1Offs:-1,usr2Offs:-1,mosiDlenOffs:-1,misoDlenOffs:-1,w0Offs:-1,uartDateReg:-1,flashOffs:-1}}};e.CHIP_FAMILY_ESP32H2=12914,e.CHIP_FAMILY_ESP32C6=12998,e.CHIP_FAMILY_ESP32C3=h,e.CHIP_FAMILY_ESP32S3=l,e.CHIP_FAMILY_ESP32S2=c,e.CHIP_FAMILY_ESP32=50,e.CHIP_FAMILY_ESP8266=33382;class V extends Error{constructor(e){super(e),this.name="SlipReadError"}}const X=async e=>{let t;return 50==e?t=await import("./esp32-273074c1.js"):e==c?t=await import("./esp32s2-f8cf1215.js"):e==l?t=await import("./esp32s3-b0a5f517.js"):33382==e?t=await import("./esp8266-b7fae3a7.js"):e==h&&(t=await import("./esp32c3-8f007052.js")),{...t,text:M(atob(t.text)),data:M(atob(t.data))}};function t(e){let t=e.length;for(;0<=--t;)e[t]=0}const $=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),H=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),K=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new Array(576),d=(t(p),new Array(60)),o=(t(d),new Array(512)),u=(t(o),new Array(256)),Y=(t(u),new Array(29)),Z=(t(Y),new Array(30));function Q(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let ee,te,ne;function re(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}t(Z);const ie=e=>e<256?o[e]:o[256+(e>>>7)],i=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},f=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,i(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},m=(e,t,n)=>{f(e,n[2*t],n[2*t+1])},se=(e,t)=>{let n=0;for(;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1},ae=(e,t,n)=>{var r=new Array(16);let i,s,a=0;for(i=1;i<=15;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=t;s++){var o=e[2*s+1];0!==o&&(e[2*s]=se(r[o]++,o))}},oe=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},ue=e=>{8<e.bi_valid?i(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ce=(e,t,n,r)=>{var i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},le=(e,t,n)=>{var r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&ce(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!ce(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},he=(e,t,n)=>{let r,i,s,a,o=0;if(0!==e.sym_next)for(;r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,i=e.pending_buf[e.sym_buf+o++],0==r?m(e,i,t):(s=u[i],m(e,s+256+1,t),0!==(a=$[s])&&(i-=Y[s],f(e,i,a)),r--,s=ie(r),m(e,s,n),0!==(a=H[s])&&(r-=Z[s],f(e,r,a))),o<e.sym_next;);m(e,256,t)},pe=(o,u)=>{var e=u.dyn_tree,t=u.stat_desc.static_tree,n=u.stat_desc.has_stree,r=u.stat_desc.elems;let i,s,a,c=-1;for(o.heap_len=0,o.heap_max=573,i=0;i<r;i++)0!==e[2*i]?(o.heap[++o.heap_len]=c=i,o.depth[i]=0):e[2*i+1]=0;for(;o.heap_len<2;)e[2*(a=o.heap[++o.heap_len]=c<2?++c:0)]=1,o.depth[a]=0,o.opt_len--,n&&(o.static_len-=t[2*a+1]);for(u.max_code=c,i=o.heap_len>>1;1<=i;i--)le(o,e,i);for(a=r;i=o.heap[1],o.heap[1]=o.heap[o.heap_len--],le(o,e,1),s=o.heap[1],o.heap[--o.heap_max]=i,o.heap[--o.heap_max]=s,e[2*a]=e[2*i]+e[2*s],o.depth[a]=(o.depth[i]>=o.depth[s]?o.depth[i]:o.depth[s])+1,e[2*i+1]=e[2*s+1]=a,o.heap[1]=a++,le(o,e,1),2<=o.heap_len;);o.heap[--o.heap_max]=o.heap[1];{var l=o,h=u.dyn_tree,p=u.max_code,d=u.stat_desc.static_tree,f=u.stat_desc.has_stree,m=u.stat_desc.extra_bits,g=u.stat_desc.extra_base,D=u.stat_desc.max_length;let e,t,n,r,i,s,a=0;for(r=0;r<=15;r++)l.bl_count[r]=0;for(h[2*l.heap[l.heap_max]+1]=0,e=l.heap_max+1;e<573;e++)t=l.heap[e],(r=h[2*h[2*t+1]+1]+1)>D&&(r=D,a++),h[2*t+1]=r,t>p||(l.bl_count[r]++,i=0,t>=g&&(i=m[t-g]),s=h[2*t],l.opt_len+=s*(r+i),f&&(l.static_len+=s*(d[2*t+1]+i)));if(0!==a){do{for(r=D-1;0===l.bl_count[r];)r--}while(l.bl_count[r]--,l.bl_count[r+1]+=2,l.bl_count[D]--,0<(a-=2));for(r=D;0!==r;r--)for(t=l.bl_count[r];0!==t;)p<(n=l.heap[--e])||(h[2*n+1]!==r&&(l.opt_len+=(r-h[2*n+1])*h[2*n],h[2*n+1]=r),t--)}}ae(e,c,o.bl_count)},de=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<u&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,c=0===a?(u=138,3):i===a?(u=6,3):(u=7,4))},fe=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<u&&i===a)){if(o<c)for(;m(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(m(e,i,e.bl_tree),o--),m(e,16,e.bl_tree),f(e,o-3,2)):o<=10?(m(e,17,e.bl_tree),f(e,o-3,3)):(m(e,18,e.bl_tree),f(e,o-11,7));o=0,s=i,c=0===a?(u=138,3):i===a?(u=6,3):(u=7,4)}};let me=!1;const ge=(e,t,n,r)=>{f(e,0+(r?1:0),3),ue(e),i(e,n),i(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var De={_tr_init:e=>{if(!me){{let e,t,n,r,i;var s=new Array(16);for(n=0,r=0;r<28;r++)for(Y[r]=n,e=0;e<1<<$[r];e++)u[n++]=r;for(u[n-1]=r,i=0,r=0;r<16;r++)for(Z[r]=i,e=0;e<1<<H[r];e++)o[i++]=r;for(i>>=7;r<30;r++)for(Z[r]=i<<7,e=0;e<1<<H[r]-7;e++)o[256+i++]=r;for(t=0;t<=15;t++)s[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,s[8]++;for(;e<=255;)p[2*e+1]=9,e++,s[9]++;for(;e<=279;)p[2*e+1]=7,e++,s[7]++;for(;e<=287;)p[2*e+1]=8,e++,s[8]++;for(ae(p,287,s),e=0;e<30;e++)d[2*e+1]=5,d[2*e]=se(e,5);ee=new Q(p,$,257,286,15),te=new Q(d,H,0,30,15),ne=new Q(new Array(0),K,0,19,7)}me=!0}e.l_desc=new re(e.dyn_ltree,ee),e.d_desc=new re(e.dyn_dtree,te),e.bl_desc=new re(e.bl_tree,ne),e.bi_buf=0,e.bi_valid=0,oe(e)},_tr_stored_block:ge,_tr_flush_block:(t,n,r,e)=>{let i,s,a=0;if(0<t.level?(2===t.strm.data_type&&(t.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(t)),pe(t,t.l_desc),pe(t,t.d_desc),a=(e=>{let t;for(de(e,e.dyn_ltree,e.l_desc.max_code),de(e,e.dyn_dtree,e.d_desc.max_code),pe(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*G[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==n)ge(t,n,r,e);else if(4===t.strategy||s===i)f(t,2+(e?1:0),3),he(t,p,d);else{f(t,4+(e?1:0),3);{var o=t,u=(n=t.l_desc.max_code+1,r=t.d_desc.max_code+1,a+1);let e;for(f(o,n-257,5),f(o,r-1,5),f(o,u-4,4),e=0;e<u;e++)f(o,o.bl_tree[2*G[e]+1],3);fe(o,o.dyn_ltree,n-1),fe(o,o.dyn_dtree,r-1)}he(t,t.dyn_ltree,t.dyn_dtree)}oe(t),e&&ue(t)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(u[n]+256+1)]++,e.dyn_dtree[2*ie(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{f(e,2,3),m(e,256,p),16===(e=e).bi_valid?(i(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},ye=(e,t,n,r)=>{let i=65535&e|0,s=e>>>16&65535|0,a=0;for(;0!==n;){for(n-=a=2e3<n?2e3:n;i=i+t[r++]|0,s=s+i|0,--a;);i%=65521,s%=65521}return i|s<<16|0};const Ee=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var g=(t,n,e,r)=>{var i=Ee,s=r+e;t^=-1;for(let e=r;e<s;e++)t=t>>>8^i[255&(t^n[e])];return-1^t},xe={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},n={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ce,_tr_stored_block:ve,_tr_flush_block:Ae,_tr_tally:D,_tr_align:Fe}=De,{Z_NO_FLUSH:E,Z_PARTIAL_FLUSH:be,Z_FULL_FLUSH:Se,Z_FINISH:x,Z_BLOCK:we,Z_OK:C,Z_STREAM_END:_e,Z_STREAM_ERROR:v,Z_DATA_ERROR:Be,Z_BUF_ERROR:ke,Z_DEFAULT_COMPRESSION:Ie,Z_FILTERED:Ne,Z_HUFFMAN_ONLY:Te,Z_RLE:Le,Z_FIXED:Pe,Z_UNKNOWN:Oe,Z_DEFLATED:je}=n,A=(e,t)=>(e.msg=xe[t],t),Me=e=>2*e-(4<e?9:0),F=e=>{let t=e.length;for(;0<=--t;)e[t]=0},Re=e=>{let t,n,r,i=e.w_size;for(t=e.hash_size,r=t;n=e.head[--r],e.head[r]=n>=i?n-i:0,--t;);for(t=i,r=t;n=e.prev[--r],e.prev[r]=n>=i?n-i:0,--t;);};let b=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const S=e=>{var t=e.state;let n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending)&&(t.pending_out=0)},w=(e,t)=>{Ae(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,S(e.strm)},_=(e,t)=>{e.pending_buf[e.pending++]=t},B=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ue=(e,t,n,r)=>{let i=e.avail_in;return 0===(i=i>r?r:i)?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=ye(e.adler,t,i,n):2===e.state.wrap&&(e.adler=g(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},ze=(e,t)=>{let n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;var u=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,l=e.w_mask,h=e.prev,p=e.strstart+258;let d=c[s+a-1],f=c[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(c[(n=t)+a]===f&&c[n+a-1]===d&&c[n]===c[s]&&c[++n]===c[s+1]){for(s+=2,n++;c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<p;);if(r=258-(p-s),s=p-258,r>a){if(e.match_start=t,(a=r)>=o)break;d=c[s+a-1],f=c[s+a]}}}while((t=h[t&l])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead},k=e=>{var t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Re(e),r+=t),0===e.strm.avail_in)break;if(n=Ue(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,3<=e.lookahead+e.insert)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=b(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=b(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},qe=(e,t)=>{let n,r,i,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,o=e.strm.avail_in;for(;n=65535,i=e.bi_valid+42>>3,!(e.strm.avail_out<i||(i=e.strm.avail_out-i,r=e.strstart-e.block_start,(n=(n=n>r+e.strm.avail_in?r+e.strm.avail_in:n)>i?i:n)<s&&(0===n&&t!==x||t===E||n!==r+e.strm.avail_in))||(a=t===x&&n===r+e.strm.avail_in?1:0,ve(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,S(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Ue(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n),0!==a)););return(o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart)&&(e.insert=e.strstart),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==E&&t!==x&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart)&&(e.insert=e.strstart),(i=i>e.strm.avail_in?e.strm.avail_in:i)&&(Ue(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=65535<e.pending_buf_size-i?65535:e.pending_buf_size-i,s=i>e.w_size?e.w_size:i,((r=e.strstart-e.block_start)>=s||(r||t===x)&&t!==E&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===x&&0===e.strm.avail_in&&n===r?1:0,ve(e,e.block_start,n,a),e.block_start+=n,S(e.strm)),a?3:1)},Je=(e,t)=>{let n,r;for(;;){if(e.lookahead<262){if(k(e),e.lookahead<262&&t===E)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=b(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=ze(e,n)),3<=e.match_length)if(r=D(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){for(e.match_length--;e.strstart++,e.ins_h=b(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=b(e,e.ins_h,e.window[e.strstart+1]);else r=D(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===x?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2},r=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<262){if(k(e),e.lookahead<262&&t===E)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=b(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=ze(e,n),e.match_length<=5)&&(e.strategy===Ne||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2),3<=e.prev_length&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=D(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=b(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(w(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=D(e,0,e.window[e.strstart-1]))&&w(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=D(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===x?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2};function s(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const I=[new s(0,0,0,0,qe),new s(4,4,8,4,Je),new s(4,5,16,8,Je),new s(4,6,32,32,Je),new s(4,4,16,16,r),new s(8,16,32,32,r),new s(8,16,128,128,r),new s(8,32,128,256,r),new s(32,128,258,1024,r),new s(32,258,258,4096,r)];function We(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=je,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),F(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const N=e=>{var t;return!e||!(t=e.state)||t.strm!==e||42!==t.status&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&113!==t.status&&666!==t.status?1:0},Ve=e=>{if(N(e))return A(e,v);e.total_in=e.total_out=0,e.data_type=Oe;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,Ce(t),C},Xe=e=>{var t=Ve(e);return t===C&&((e=e.state).window_size=2*e.w_size,F(e.head),e.max_lazy_match=I[e.level].max_lazy,e.good_match=I[e.level].good_length,e.nice_match=I[e.level].nice_length,e.max_chain_length=I[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),t},$e=(e,t,n,r,i,s)=>{if(!e)return v;let a=1;if(t===Ie&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),i<1||9<i||n!==je||r<8||15<r||t<0||9<t||s<0||s>Pe||8===r&&1!==a)return A(e,v);8===r&&(r=9);var o=new We;return(e.state=o).strm=e,o.status=42,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=n,Xe(e)};var He=$e,Ke=(Xe,Ve,(e,t)=>N(e)||2!==e.state.wrap?v:(e.state.gzhead=t,C)),Ge=(n,e)=>{if(N(n)||e>we||e<0)return n?A(n,v):v;var r=n.state;if(!n.output||0!==n.avail_in&&!n.input||666===r.status&&e!==x)return A(n,0===n.avail_out?ke:v);var i=r.last_flush;if(r.last_flush=e,0!==r.pending){if(S(n),0===n.avail_out)return r.last_flush=-1,C}else if(0===n.avail_in&&Me(e)<=Me(i)&&e!==x)return A(n,ke);if(666===r.status&&0!==n.avail_in)return A(n,ke);if(42===r.status&&0===r.wrap&&(r.status=113),42===r.status){let e=je+(r.w_bits-8<<4)<<8,t;if(t=r.strategy>=Te||r.level<2?0:r.level<6?1:6===r.level?2:3,e|=t<<6,0!==r.strstart&&(e|=32),e+=31-e%31,B(r,e),0!==r.strstart&&(B(r,n.adler>>>16),B(r,65535&n.adler)),n.adler=1,r.status=113,S(n),0!==r.pending)return r.last_flush=-1,C}if(57===r.status)if(n.adler=0,_(r,31),_(r,139),_(r,8),r.gzhead)_(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),_(r,255&r.gzhead.time),_(r,r.gzhead.time>>8&255),_(r,r.gzhead.time>>16&255),_(r,r.gzhead.time>>24&255),_(r,9===r.level?2:r.strategy>=Te||r.level<2?4:0),_(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(_(r,255&r.gzhead.extra.length),_(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(n.adler=g(n.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69;else if(_(r,0),_(r,0),_(r,0),_(r,0),_(r,0),_(r,9===r.level?2:r.strategy>=Te||r.level<2?4:0),_(r,3),r.status=113,S(n),0!==r.pending)return r.last_flush=-1,C;if(69===r.status){if(r.gzhead.extra){let e=r.pending,t=(65535&r.gzhead.extra.length)-r.gzindex;for(;r.pending+t>r.pending_buf_size;){var s=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+s),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>e&&(n.adler=g(n.adler,r.pending_buf,r.pending-e,e)),r.gzindex+=s,S(n),0!==r.pending)return r.last_flush=-1,C;e=0,t-=s}i=new Uint8Array(r.gzhead.extra);r.pending_buf.set(i.subarray(r.gzindex,r.gzindex+t),r.pending),r.pending+=t,r.gzhead.hcrc&&r.pending>e&&(n.adler=g(n.adler,r.pending_buf,r.pending-e,e)),r.gzindex=0}r.status=73}if(73===r.status){if(r.gzhead.name){let e,t=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>t&&(n.adler=g(n.adler,r.pending_buf,r.pending-t,t)),S(n),0!==r.pending)return r.last_flush=-1,C;t=0}}while(e=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,_(r,e),0!=e);r.gzhead.hcrc&&r.pending>t&&(n.adler=g(n.adler,r.pending_buf,r.pending-t,t)),r.gzindex=0}r.status=91}if(91===r.status){if(r.gzhead.comment){let e,t=r.pending;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>t&&(n.adler=g(n.adler,r.pending_buf,r.pending-t,t)),S(n),0!==r.pending)return r.last_flush=-1,C;t=0}}while(e=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,_(r,e),0!=e);r.gzhead.hcrc&&r.pending>t&&(n.adler=g(n.adler,r.pending_buf,r.pending-t,t))}r.status=103}if(103===r.status){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(S(n),0!==r.pending))return r.last_flush=-1,C;_(r,255&n.adler),_(r,n.adler>>8&255),n.adler=0}if(r.status=113,S(n),0!==r.pending)return r.last_flush=-1,C}if(0!==n.avail_in||0!==r.lookahead||e!==E&&666!==r.status){i=0===r.level?qe(r,e):r.strategy===Te?((e,t)=>{for(var n;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(t===E)return 1;break}if(e.match_length=0,n=D(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===x?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2})(r,e):r.strategy===Le?((e,t)=>{let n,r,i,s;for(var a=e.window;;){if(e.lookahead<=258){if(k(e),e.lookahead<=258&&t===E)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(i=e.strstart-1,(r=a[i])===a[++i])&&r===a[++i]&&r===a[++i]){for(s=e.strstart+258;r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s;);e.match_length=258-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(n=D(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=D(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===x?(w(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(w(e,!1),0===e.strm.avail_out)?1:2})(r,e):I[r.level].func(r,e);if(3!==i&&4!==i||(r.status=666),1===i||3===i)return 0===n.avail_out&&(r.last_flush=-1),C;if(2===i&&(e===be?Fe(r):e!==we&&(ve(r,0,0,!1),e===Se)&&(F(r.head),0===r.lookahead)&&(r.strstart=0,r.block_start=0,r.insert=0),S(n),0===n.avail_out))return r.last_flush=-1,C}return e!==x||!(r.wrap<=0)&&(2===r.wrap?(_(r,255&n.adler),_(r,n.adler>>8&255),_(r,n.adler>>16&255),_(r,n.adler>>24&255),_(r,255&n.total_in),_(r,n.total_in>>8&255),_(r,n.total_in>>16&255),_(r,n.total_in>>24&255)):(B(r,n.adler>>>16),B(r,65535&n.adler)),S(n),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending)?C:_e},Ye=e=>{var t;return N(e)?v:(t=e.state.status,e.state=null,113===t?A(e,Be):C)},Ze=(e,t)=>{let n=t.length;if(N(e))return v;var r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return v;1===i&&(e.adler=ye(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(0===i&&(F(r.head),r.strstart=0,r.block_start=0,r.insert=0),(s=new Uint8Array(r.w_size)).set(t.subarray(n-r.w_size,n),0),t=s,n=r.w_size);var s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,k(r);3<=r.lookahead;){let e=r.strstart,t=r.lookahead-2;for(;r.ins_h=b(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++,--t;);r.strstart=e,r.lookahead=2,k(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,r.wrap=i,C};const Qe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function et(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Qe(n,t)&&(e[t]=n[t])}}return e}var tt=r=>{let n=0;for(let e=0,t=r.length;e<t;e++)n+=r[e].length;var i=new Uint8Array(n);for(let e=0,t=0,n=r.length;e<n;e++){var s=r[e];i.set(s,t),t+=s.length}return i};let nt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(M){nt=!1}const rt=new Uint8Array(256);for(let e=0;e<256;e++)rt[e]=252<=e?6:248<=e?5:240<=e?4:224<=e?3:192<=e?2:1;rt[254]=rt[254]=1;function it(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var st=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<a&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t};const at=Object.prototype.toString,{Z_NO_FLUSH:ot,Z_SYNC_FLUSH:ut,Z_FULL_FLUSH:ct,Z_FINISH:lt,Z_OK:ht,Z_STREAM_END:pt,Z_DEFAULT_COMPRESSION:dt,Z_DEFAULT_STRATEGY:ft,Z_DEFLATED:mt}=n;function T(e){this.options=et({level:dt,method:mt,chunkSize:16384,windowBits:15,memLevel:8,strategy:ft},e||{});e=this.options;if(e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new it,this.strm.avail_out=0,(t=He(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy))!==ht)throw new Error(xe[t]);if(e.header&&Ke(this.strm,e.header),e.dictionary){var t,e="string"==typeof e.dictionary?st(e.dictionary):"[object ArrayBuffer]"===at.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;if((t=Ze(this.strm,e))!==ht)throw new Error(xe[t]);this._dict_set=!0}}function gt(e,t){t=new T(t);if(t.push(e,!0),t.err)throw t.msg||xe[t.err];return t.result}T.prototype.push=function(e,t){var n,r,i=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?lt:ot,"string"==typeof e?i.input=st(e):"[object ArrayBuffer]"===at.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(s),i.next_out=0,i.avail_out=s),(r===ut||r===ct)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(Ge(i,r)===pt)return 0<i.next_out&&this.onData(i.output.subarray(0,i.next_out)),n=Ye(this.strm),this.onEnd(n),this.ended=!0,n===ht;if(0!==i.avail_out){if(0<r&&0<i.next_out)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},T.prototype.onData=function(e){this.chunks.push(e)},T.prototype.onEnd=function(e){e===ht&&(this.result=tt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};De={Deflate:T,deflate:gt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,gt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,gt(e,t)},constants:n};new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);const{Z_OK:Dt,Z_STREAM_ERROR:yt}=n;function Et(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const xt=e=>{var t;return!e||!(t=e.state)||t.strm!==e||t.mode<16180||16211<t.mode?1:0},Ct=e=>{var t;return xt(e)?yt:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Dt)},vt=e=>{var t;return xt(e)?yt:((t=e.state).wsize=0,t.whave=0,t.wnext=0,Ct(e))},At=(e,t)=>{let n;var r;return xt(e)||(r=e.state,t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t))?yt:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,vt(e))},Ft=(e,t)=>{var n;return e?(n=new Et,(e.state=n).strm=e,n.window=null,n.mode=16180,(n=At(e,t))!==Dt&&(e.state=null),n):yt};vt,At,Ct,Ft;Object.prototype.toString;var n=De["deflate"],bt=n;const L={b:{u:DataView.prototype.getInt8,p:DataView.prototype.setInt8,bytes:1},B:{u:DataView.prototype.getUint8,p:DataView.prototype.setUint8,bytes:1},h:{u:DataView.prototype.getInt16,p:DataView.prototype.setInt16,bytes:2},H:{u:DataView.prototype.getUint16,p:DataView.prototype.setUint16,bytes:2},i:{u:DataView.prototype.getInt32,p:DataView.prototype.setInt32,bytes:4},I:{u:DataView.prototype.getUint32,p:DataView.prototype.setUint32,bytes:4},q:{u:DataView.prototype.getInt64,p:DataView.prototype.setInt64,bytes:8},Q:{u:DataView.prototype.getUint64,p:DataView.prototype.setUint64,bytes:8}},P=(t,...n)=>{let r=0;if(t.replace(/[<>]/,"").length!=n.length)throw"Pack format to Argument count mismatch";let i=[],s=!0;for(let e=0;e<t.length;e++)if("<"==t[e])s=!0;else if(">"==t[e])s=!1;else{{a=void 0;o=void 0;u=void 0;c=void 0;var a=t[e];var o=n[r];if(!(a in L))throw"Unhandled character '"+a+"' in pack format";var u=L[a].bytes,c=new DataView(new ArrayBuffer(u));L[a].p.bind(c)(0,o,s);for(let e=0;e<u;e++)i.push(c.getUint8(e))}r++}return i},St=(e,t)=>{let n=0,r=[],i=!0;for(var s of e)if("<"==s)i=!0;else if(">"==s)i=!1;else{a=void 0;o=void 0;u=void 0;var a=s;if(!(a in L))throw"Unhandled character '"+a+"' in unpack format";var o=L[a].bytes,u=new DataView(new ArrayBuffer(o));for(let e=0;e<o;e++)u.setUint8(e,255&t[n+e]);a=L[a].u.bind(u);r.push(a(0,i)),n+=o}return r};class wt extends EventTarget{constructor(e,t,n){super(),this.port=e,this.logger=t,this._parent=n,this.chipName=null,this._efuses=new Array(4).fill(0),this._flashsize=4194304,this.debug=!1,this.IS_STUB=!1,this.connected=!0,this.flashSize=null}get _inputBuffer(){return this._parent?this._parent._inputBuffer:this.__inputBuffer}async initialize(){await this.hardReset(!0),this._parent||(this.__inputBuffer=[],this.readLoop()),await this.sync();var e=await this.readRegister(1073745920),t=q[e>>>0];if(void 0===t)throw new Error(`Unknown Chip: Hex: ${y(e>>>0,8).toLowerCase()} Number: `+e);this.chipName=t.name,this.chipFamily=t.family;var n=W(this.getChipFamily()).macFuse;for(let e=0;e<4;e++)this._efuses[e]=await this.readRegister(n+4*e);this.logger.log("Chip type "+this.chipName)}async readLoop(){this.debug&&this.logger.debug("Starting read loop"),this._reader=this.port.readable.getReader();try{for(;;){var{value:e,done:t}=await this._reader.read();if(t){this._reader.releaseLock();break}e&&0!==e.length&&this._inputBuffer.push(...Array.from(e))}}catch(e){console.error("Read loop got disconnected")}this.connected=!1,this.dispatchEvent(new Event("disconnect")),this.logger.debug("Finished read loop")}async hardReset(e=!1){this.logger.log("Try hard reset."),await this.port.setSignals({dataTerminalReady:!1,requestToSend:!0}),await this.port.setSignals({dataTerminalReady:e,requestToSend:!1}),await new Promise(e=>setTimeout(e,1e3))}macAddr(){let e,t=new Array(6).fill(0),n=this._efuses[0],r=this._efuses[1],i=this._efuses[2],s=this._efuses[3];if(33382==this.chipFamily){if(0!=s)e=[s>>16&255,s>>8&255,255&s];else if(0==(r>>16&255))e=[24,254,52];else{if(1!=(r>>16&255))throw new Error("Couldnt determine OUI");e=[172,208,116]}t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=r>>8&255,t[4]=255&r,t[5]=n>>24&255}else if(50==this.chipFamily)t[0]=i>>8&255,t[1]=255&i,t[2]=r>>24&255,t[3]=r>>16&255,t[4]=r>>8&255,t[5]=255&r;else{if(this.chipFamily!=c&&this.chipFamily!=l&&this.chipFamily!=h)throw new Error("Unknown chip family");t[0]=r>>8&255,t[1]=255&r,t[2]=n>>24&255,t[3]=n>>16&255,t[4]=n>>8&255,t[5]=255&n}return t}async readRegister(e){this.debug&&this.logger.debug("Reading from Register "+y(e,8));var e=P("<I",e),[e,,]=(await this.sendCommand(10,e),await this.getResponse(10));return e}async checkCommand(e,t,n=0,r=3e3){r=Math.min(r,12e5),await this.sendCommand(e,t,n);let[i,s]=await this.getResponse(e,r);if(null===s)throw new Error("Didn't get enough status bytes");let a=0;if(this.IS_STUB||33382==this.chipFamily?a=2:[50,c,l,h].includes(this.chipFamily)?a=4:[2,4].includes(s.length)&&(a=s.length),s.length<a)throw new Error("Didn't get enough status bytes");t=s.slice(-a,s.length);if(s=s.slice(0,-a),this.debug&&(this.logger.debug("status",t),this.logger.debug("value",i),this.logger.debug("data",s)),1==t[0])throw 5==t[1]?new Error("Invalid (unsupported) command "+y(e)):new Error("Command failure error code "+y(t[1]));return[i,s]}async sendCommand(n,r,i=0){var e=(()=>{let e=[192];for(var t of[...P("<BBHI",0,n,r.length,i),...r])219==t?e=e.concat([219,221]):192==t?e=e.concat([219,220]):e.push(t);return e.push(192),e})();this.debug&&this.logger.debug(`Writing ${e.length} byte${1==e.length?"":"s"}:`,e),await this.writeToStream(e)}async readPacket(e){let t=null,n=!1,r=[];for(;;){var i,s=Date.now();for(r=[];Date.now()-s<e;){if(0<this._inputBuffer.length){r.push(this._inputBuffer.shift());break}await R(10)}if(0==r.length)throw new V("Timed out waiting for packet "+(null===t?"header":"content"));this.debug&&this.logger.debug("Read "+r.length+" bytes: "+a(r));for(i of r)if(null===t){if(192!=i)throw this.debug&&(this.logger.debug("Read invalid data: "+a(r)),this.logger.debug("Remaining data in serial buffer: "+a(this._inputBuffer))),new V("Invalid head of packet ("+y(i)+")");t=[]}else if(n)if(n=!1,220==i)t.push(192);else{if(221!=i)throw this.debug&&(this.logger.debug("Read invalid data: "+a(r)),this.logger.debug("Remaining data in serial buffer: "+a(this._inputBuffer))),new V("Invalid SLIP escape (0xdb, "+y(i)+")");t.push(219)}else if(219==i)n=!0;else{if(192==i)return this.debug&&this.logger.debug("Received full packet: "+a(t)),t;t.push(i)}}throw new V("Invalid state")}async getResponse(t,n=3e3){for(let e=0;e<100;e++){var r=await this.readPacket(n);if(!(r.length<8)){var[i,s,,a]=St("<BBHI",r.slice(0,8));if(1==i){i=r.slice(8);if(null==t||s==t)return[a,i];if(0!=i[0]&&5==i[1])throw this._inputBuffer.length=0,new Error("Invalid (unsupported) command "+y(t))}}}throw"Response doesn't match request"}checksum(e,t=239){for(var n of e)t^=n;return t}async setBaudrate(t){if(33382==this.chipFamily)throw new Error("Changing baud rate is not supported on the ESP8266");this.logger.log("Attempting to change baud rate to "+t+"...");try{var e=P("<II",t,this.IS_STUB?115200:0);await this.checkCommand(15,e)}catch(e){throw console.error(e),new Error(`Unable to change the baud rate to ${t}: No response from set baud rate command.`)}this._parent?await this._parent.reconfigurePort(t):await this.reconfigurePort(t)}async reconfigurePort(e){var t;try{await(null==(t=this._reader)?void 0:t.cancel()),await this.port.close(),await this.port.open({baudRate:e}),this.readLoop(),this.logger.log("Changed baud rate to "+e)}catch(t){throw console.error(t),new Error(`Unable to change the baud rate to ${e}: `+t)}}async sync(){for(let e=0;e<5;e++){if(this._inputBuffer.length=0,await this._sync())return await R(100),!0;await R(100)}throw new Error("Couldn't sync to ESP. Try resetting.")}async _sync(){await this.sendCommand(8,z);for(let e=0;e<8;e++)try{var[,t]=await this.getResponse(8,100);if(1<t.length&&0==t[0]&&0==t[1])return!0}catch(e){}return!1}getFlashWriteSize(){return this.IS_STUB?16384:1024}async flashData(e,t,n=0,r=!1){var i,s,a;8<=e.byteLength&&(i=(a=Array.from(new Uint8Array(e,0,4)))[0],s=a[2],a=a[3],this.logger.log(`Image header, Magic=${y(i)}, FlashMode=${y(s)}, FlashSizeFreq=`+y(a)));let o,u=e.byteLength,c=0,l=3e3,h=(r?(o=bt(new Uint8Array(e),{level:9}).buffer,c=o.byteLength,this.logger.log(`Writing data with filesize: ${u}. Compressed Size: `+c),l=await this.flashDeflBegin(u,c,n)):(this.logger.log("Writing data with filesize: "+u),o=e,await this.flashBegin(u,n)),[]),p=0,d=0,f=0,m=Date.now(),g=this.getFlashWriteSize(),D=r?c:u;for(;0<D-f;)this.debug&&this.logger.log(`Writing at ${y(n+p*g,8)} `),D-f>=g?h=Array.from(new Uint8Array(o,f,g)):(h=Array.from(new Uint8Array(o,f,D-f)),r||(h=h.concat(new Array(g-h.length).fill(255)))),r?await this.flashDeflBlock(h,p,l):await this.flashBlock(h,p),p+=1,d+=r?Math.round(h.length*u/c):h.length,f+=g,t(Math.min(d,u),u);this.logger.log("Took "+(Date.now()-m)+"ms to write "+D+" bytes"),this.IS_STUB&&(await this.flashBegin(0,0),r?await this.flashDeflFinish():await this.flashFinish())}async flashBlock(e,t,n=3e3){await this.checkCommand(3,P("<IIII",e.length,t,0,0).concat(e),this.checksum(e),n)}async flashDeflBlock(e,t,n=3e3){await this.checkCommand(17,P("<IIII",e.length,t,0,0).concat(e),this.checksum(e),n)}async flashBegin(e=0,t=0,n=!1){let r,i,s=this.getFlashWriteSize();!this.IS_STUB&&[50,c,l,h].includes(this.chipFamily)&&await this.checkCommand(13,new Array(8).fill(0));var a,o=Math.floor((e+s-1)/s),u=(r=33382==this.chipFamily?this.getEraseSize(t,e):e,a=this.IS_STUB?3e3:J(3e4,e),Date.now());return i=P("<IIII",r,o,s,t),50!=this.chipFamily&&this.chipFamily!=c&&this.chipFamily!=l&&this.chipFamily!=h||(i=i.concat(P("<I",n?1:0))),this.logger.log("Erase size "+r+", blocks "+o+", block size "+y(s,4)+", offset "+y(t,4)+", encrypted "+(n?"yes":"no")),await this.checkCommand(2,i,0,a),0==e||this.IS_STUB||this.logger.log("Took "+(Date.now()-u)+"ms to erase "+o+" bytes"),o}async flashDeflBegin(e=0,t=0,n=0,r){let i,s=this.getFlashWriteSize(),a=Math.floor((t+s-1)/s),o=Math.floor((e+s-1)/s),u=0,c=0;return c=this.IS_STUB?(u=e,J(3e4,u)):(u=o*s,3e3),i=P("<IIII",u,a,s,n),await this.checkCommand(16,i,0,c),c}async flashFinish(){var e=P("<I",1);await this.checkCommand(4,e)}async flashDeflFinish(){var e=P("<I",1);await this.checkCommand(18,e)}getBootloaderOffset(){return W(this.getChipFamily()).flashOffs}async flashId(){return this.runSpiFlashCommand(159,[],24)}getChipFamily(){return(this._parent||this).chipFamily}async writeRegister(e,t,n=4294967295,r=0,i=0){e=P("<IIII",e,t,n,r);0<i&&e.concat(P("<IIII",W(this.getChipFamily()).uartDateReg,0,0,i)),await this.checkCommand(9,e)}async setDataLengths(e,t,n){var r,i;-1!=e.mosiDlenOffs?(i=e.regBase+e.mosiDlenOffs,r=e.regBase+e.misoDlenOffs,0<t&&await this.writeRegister(i,t-1),0<n&&await this.writeRegister(r,n-1)):(i=e.regBase+e.usr1Offs,await this.writeRegister(i,(0==n?0:n-1)<<8|(0==t?0:t-1)<<17))}async waitDone(t,n){for(let e=0;e<10;e++)if(0==(await this.readRegister(t)&n))return;throw Error("SPI command did not complete in time")}async runSpiFlashCommand(e,n,t=0){var r=W(this.getChipFamily()),i=r.regBase,s=i,a=i+r.usrOffs,o=i+r.usr2Offs,i=i+r.w0Offs;if(32<t)throw new Error("Reading more than 32 bits back from a SPI flash operation is unsupported");if(64<n.length)throw new Error("Writing more than 64 bytes of data with one SPI command is unsupported");let u=8*n.length,c=await this.readRegister(a),l=await this.readRegister(o),h=1<<31;if(0<t&&(h|=268435456),0<u&&(h|=134217728),await this.setDataLengths(r,u,t),await this.writeRegister(a,h),await this.writeRegister(o,7<<28|e),0==u)await this.writeRegister(i,0);else{n.concat(new Array(n.length%4).fill(0));let e=St("I".repeat(Math.floor(n.length/4)),n),t=i;this.logger.debug("Words Length: "+e.length);for(const n of e)this.logger.debug(`Writing word ${y(n)} to register offset `+y(t)),await this.writeRegister(t,n),t+=4}await this.writeRegister(s,1<<18),await this.waitDone(s,1<<18);r=await this.readRegister(i);return await this.writeRegister(a,c),await this.writeRegister(o,l),r}async detectFlashSize(){this.logger.log("Detecting Flash Size");var e=await this.flashId(),t=255&e,n=e>>16&255;this.logger.log("FlashId: "+y(e)),this.logger.log("Flash Manufacturer: "+t.toString(16)),this.logger.log("Flash Device: "+(e>>8&255).toString(16)+n.toString(16)),this.flashSize=U[n],this.logger.log("Auto-detected Flash size: "+this.flashSize)}getEraseSize(e,t){let n=Math.floor((t+4096-1)/4096),r=16-Math.floor(e/4096)%16;return n<2*(r=n<r?n:r)?Math.floor((n+1)/2*4096):4096*(n-r)}async memBegin(e,t,n,r){return this.checkCommand(5,P("<IIII",e,t,n,r))}async memBlock(e,t){return this.checkCommand(7,P("<IIII",e.length,t,0,0).concat(e),this.checksum(e))}async memFinish(e=0){var t=this.IS_STUB?3e3:500,e=P("<II",0==e?1:0,e);return this.checkCommand(6,e,0,t)}async runStub(){var n,r=await X(this.chipFamily);this.logger.log("Uploading stub...");for(n of["text","data"])if(Object.keys(r).includes(n)){var i,e=r[n+"_start"],s=r[n].length,t=Math.floor((s+2048-1)/2048);await this.memBegin(s,t,2048,e);for(i of Array(t).keys()){let e=2048*i,t=2048+e;t>s&&(t=s),await this.memBlock(r[n].slice(e,t),i)}}this.logger.log("Running stub..."),await this.memFinish(r.entry);var a=await this.readPacket(500);if("OHAI"!=(a=String.fromCharCode(...a)))throw new Error("Failed to start stub. Unexpected response: "+a);this.logger.log("Stub is now running...");a=new _t(this.port,this.logger,this);return await a.detectFlashSize(),a}async writeToStream(e){var t=this.port.writable.getWriter();await t.write(new Uint8Array(e));try{t.releaseLock()}catch(e){console.error("Ignoring release lock error",e)}}async disconnect(){this._parent?await this._parent.disconnect():(await this.port.writable.getWriter().close(),await new Promise(e=>{this._reader||e(void 0),this.addEventListener("disconnect",e,{once:!0}),this._reader.cancel()}),this.connected=!1)}}class _t extends(e.ESPLoader=wt){constructor(){super(...arguments),this.IS_STUB=!0}async memBegin(e,t,n,r){var i,s,a=await X(this.chipFamily),o=r,u=r+e;console.log(o,u),console.log(a.data_start,a.data.length,a.text_start,a.text.length);for([i,s]of[[a.data_start,a.data_start+a.data.length],[a.text_start,a.text_start+a.text.length]])if(o<s&&u>i)throw new Error("Software loader is resident at "+y(i,8)+"-"+y(s,8)+". Can't load binary at overlapping address range "+y(o,8)+"-"+y(u,8)+". Try changing the binary loading address.")}async eraseFlash(){await this.checkCommand(208,[],0,6e5)}}e.connect=async e=>{var t=await navigator.serial.requestPort();return e.log("Connecting..."),await t.open({baudRate:115200}),e.log("Connected successfully."),new wt(t,e)}},{}],88:[function(e,t,n){const r=e("./dom.js")["index"],i=e("./Model.js")["Model"],s=e("./IDE.js")["IDE"],a=e("./TOP.js")["TOP"];window.main=new class{#view;#model;#ide;#top;constructor(){addEventListener("DOMContentLoaded",this.loaded.bind(this)),addEventListener("resize",this.resize.bind(this)),this.#model=new i}setupIDE(e){return this.#ide=new s(e,this,this.#model),!1}setupTOP(e){return this.#top=new a(e,this,this.#model),!1}loaded(){window.monaco?this.boot():setTimeout(this.loaded.bind(this),1e3)}resize(){this.#model.set("windowSize",[window.clientWidth,window.clientHeight])}async boot(){await this.#model.useStorage("main"),this.#model.init({windowSize:[0,0],state:"TOP",platform:"espboy",projectId:null,projectName:null,projectList:[{id:1,name:"Bats"}]}),this.#view=r(document.body,{},this)}}},{"./IDE.js":79,"./Model.js":80,"./TOP.js":83,"./dom.js":86}],89:[function(c,t,n){!function(r){!function(){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).localforage=e()}(function(){return function r(i,s,a){function o(n,e){if(!s[n]){if(!i[n]){var t="function"==typeof c&&c;if(!e&&t)return t(n,!0);if(u)return u(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}t=s[n]={exports:{}};i[n][0].call(t.exports,function(e){var t=i[n][1][e];return o(t||e)},t,t.exports,r,i,s,a)}return s[n].exports}for(var u="function"==typeof c&&c,e=0;e<a.length;e++)o(a[e]);return o}({1:[function(e,c,t){!function(t){"use strict";var e,n,r,i,s=t.MutationObserver||t.WebKitMutationObserver,a=s?(e=0,s=new s(u),n=t.document.createTextNode(""),s.observe(n,{characterData:!0}),function(){n.data=e=++e%2}):t.setImmediate||void 0===t.MessageChannel?"document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){u(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(u,0)}:((r=new t.MessageChannel).port1.onmessage=u,function(){r.port2.postMessage(0)}),o=[];function u(){i=!0;for(var e,t,n=o.length;n;){for(t=o,o=[],e=-1;++e<n;)t[e]();n=o.length}i=!1}c.exports=function(e){1!==o.push(e)||i||a()}}.call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var i=e(1);function u(){}var c={},s=["REJECTED"],a=["FULFILLED"],r=["PENDING"];function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,e!==u&&d(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,n,r){i(function(){var e;try{e=n(r)}catch(e){return c.reject(t,e)}e===t?c.reject(t,new TypeError("Cannot resolve promise with itself")):c.resolve(t,e)})}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,c.reject(t,e))}function i(e){n||(n=!0,c.resolve(t,e))}var s=f(function(){e(i,r)});"error"===s.status&&r(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=o).prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n;return"function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s?this:(n=new this.constructor(u),this.state!==r?h(n,this.state===a?e:t,this.outcome):this.queue.push(new l(n,e,t)),n)},l.prototype.callFulfilled=function(e){c.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){c.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},c.resolve=function(e,t){var n=f(p,t);if("error"===n.status)return c.reject(e,n.value);n=n.value;if(n)d(e,n);else{e.state=a,e.outcome=t;for(var r=-1,i=e.queue.length;++r<i;)e.queue[r].callFulfilled(t)}return e},c.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=function(e){if(e instanceof this)return e;return c.resolve(new this(u),e)},o.reject=function(e){var t=new this(u);return c.reject(t,e)},o.all=function(e){var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);var s=new Array(r),a=0,t=-1,o=new this(u);for(;++t<r;)!function(e,t){n.resolve(e).then(function(e){s[t]=e,++a!==r||i||(i=!0,c.resolve(o,s))},function(e){i||(i=!0,c.reject(o,e))})}(e[t],t);return o},o.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);var i=-1,s=new this(u);for(;++i<n;)!function(e){t.resolve(e).then(function(e){r||(r=!0,c.resolve(s,e))},function(e){r||(r=!0,c.reject(s,e))})}(e[i]);return s}},{1:1}],3:[function(t,e,n){!function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}.call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,O,j){"use strict";var M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}catch(e){}}();function s(t,n){t=t||[],n=n||{};try{return new Blob(t,n)}catch(e){if("TypeError"!==e.name)throw e;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(n.type)}}"undefined"==typeof Promise&&e(3);var d=Promise;function f(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function u(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function l(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var a="local-forage-detect-blob-support",t=void 0,h={},R=Object.prototype.toString,n="readonly",p="readwrite";function U(e){return"boolean"==typeof t?d.resolve(t):(r=e,new d(function(n){var e=r.transaction(a,p),t=s([""]);e.objectStore(a).put(t,"key"),e.onabort=function(e){e.preventDefault(),e.stopPropagation(),n(!1)},e.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),t=navigator.userAgent.match(/Edge\//);n(t||!e||43<=parseInt(e[1],10))}}).catch(function(){return!1}).then(function(e){return t=e}));var r}function m(e){var e=h[e.name],n={};n.promise=new d(function(e,t){n.resolve=e,n.reject=t}),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then(function(){return n.promise}):e.dbReady=n.promise}function g(e){e=h[e.name].deferredOperations.pop();e&&(e.resolve(),e.promise)}function D(e,t){e=h[e.name].deferredOperations.pop();if(e)return e.reject(t),e.promise}function r(i,s){return new d(function(t,n){if(h[i.name]=h[i.name]||q(),i.db){if(!s)return t(i.db);m(i),i.db.close()}var e=[i.name],r=(s&&e.push(i.version),o.open.apply(o,e));s&&(r.onupgradeneeded=function(t){var e=r.result;try{e.createObjectStore(i.storeName),t.oldVersion<=1&&e.createObjectStore(a)}catch(e){if("ConstraintError"!==e.name)throw e;console.warn('The database "'+i.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+i.storeName+'" already exists.')}}),r.onerror=function(e){e.preventDefault(),n(r.error)},r.onsuccess=function(){var e=r.result;e.onversionchange=function(e){e.target.close()},t(e),g(i)}})}function y(e){return r(e,!1)}function E(e){return r(e,!0)}function x(e,t){var n,r,i;return!e.db||(n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,r=e.version>e.db.version,i&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),(r||n)&&(n&&(i=e.db.version+1)>e.version&&(e.version=i),1))}function C(e){return s([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}(atob(e.data))],{type:e.type})}function v(e){return e&&e.__local_forage_encoded_blob}function z(e){var t=this,n=t._initReady().then(function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return u(n,e,e),n}function A(t,n,r,i){void 0===i&&(i=1);try{var e=t.db.transaction(t.storeName,n);r(null,e)}catch(e){if(0<i&&(!t.db||"InvalidStateError"===e.name||"NotFoundError"===e.name))return d.resolve().then(function(){if(!t.db||"NotFoundError"===e.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),E(t)}).then(function(){return function(n){m(n);for(var r=h[n.name],i=r.forages,e=0;e<i.length;e++){var t=i[e];t._dbInfo.db&&(t._dbInfo.db.close(),t._dbInfo.db=null)}return n.db=null,y(n).then(function(e){return n.db=e,x(n)?E(n):e}).then(function(e){n.db=r.db=e;for(var t=0;t<i.length;t++)i[t]._dbInfo.db=e}).catch(function(e){throw D(n,e),e})}(t).then(function(){A(t,n,r,i-1)})}).catch(r);r(e)}}function q(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}e={_driver:"asyncStorage",_initStorage:function(e){var r=this,i={db:null};if(e)for(var t in e)i[t]=e[t];var s=h[i.name],n=(s||(s=q(),h[i.name]=s),s.forages.push(r),r._initReady||(r._initReady=r.ready,r.ready=z),[]);function a(){return d.resolve()}for(var o=0;o<s.forages.length;o++){var u=s.forages[o];u!==r&&n.push(u._initReady().catch(a))}var c=s.forages.slice(0);return d.all(n).then(function(){return i.db=s.db,y(i)}).then(function(e){return i.db=e,x(i,r._defaultConfig.version)?E(i):e}).then(function(e){i.db=s.db=e,r._dbInfo=i;for(var t=0;t<c.length;t++){var n=c[t];n!==r&&(n._dbInfo.db=i.db,n._dbInfo.version=i.version)}})},_support:function(){try{var e,t;return o&&o.open?(e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code"),(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange):!1}catch(e){return!1}}(),iterate:function(a,e){var o=this,t=new d(function(i,s){o.ready().then(function(){A(o._dbInfo,n,function(e,t){if(e)return s(e);try{var n=t.objectStore(o._dbInfo.storeName).openCursor(),r=1;n.onsuccess=function(){var e,t=n.result;t?(v(e=t.value)&&(e=C(e)),void 0!==(e=a(e,t.key,r++))?i(e):t.continue()):i()},n.onerror=function(){s(n.error)}}catch(e){s(e)}})}).catch(s)});return f(t,e),t},getItem:function(s,e){var a=this,t=(s=l(s),new d(function(r,i){a.ready().then(function(){A(a._dbInfo,n,function(e,t){if(e)return i(e);try{var n=t.objectStore(a._dbInfo.storeName).get(s);n.onsuccess=function(){var e=n.result;v(e=void 0===e?null:e)&&(e=C(e)),r(e)},n.onerror=function(){i(n.error)}}catch(e){i(e)}})}).catch(i)}));return f(t,e),t},setItem:function(o,t,e){var u=this,n=(o=l(o),new d(function(s,a){var e;u.ready().then(function(){return e=u._dbInfo,"[object Blob]"===R.call(t)?U(e.db).then(function(e){return e?t:(r=t,new d(function(t,e){var n=new FileReader;n.onerror=e,n.onloadend=function(e){e=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:e,type:r.type})},n.readAsBinaryString(r)}));var r}):t}).then(function(i){A(u._dbInfo,p,function(e,t){if(e)return a(e);try{var n=t.objectStore(u._dbInfo.storeName),r=(null===i&&(i=void 0),n.put(i,o));t.oncomplete=function(){s(i=void 0===i?null:i)},t.onabort=t.onerror=function(){var e=r.error||r.transaction.error;a(e)}}catch(e){a(e)}})}).catch(a)}));return f(n,e),n},removeItem:function(s,e){var a=this,t=(s=l(s),new d(function(r,i){a.ready().then(function(){A(a._dbInfo,p,function(e,t){if(e)return i(e);try{var n=t.objectStore(a._dbInfo.storeName).delete(s);t.oncomplete=function(){r()},t.onerror=function(){i(n.error)},t.onabort=function(){var e=n.error||n.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)}));return f(t,e),t},clear:function(e){var s=this,t=new d(function(r,i){s.ready().then(function(){A(s._dbInfo,p,function(e,t){if(e)return i(e);try{var n=t.objectStore(s._dbInfo.storeName).clear();t.oncomplete=function(){r()},t.onabort=t.onerror=function(){var e=n.error||n.transaction.error;i(e)}}catch(e){i(e)}})}).catch(i)});return f(t,e),t},length:function(e){var s=this,t=new d(function(r,i){s.ready().then(function(){A(s._dbInfo,n,function(e,t){if(e)return i(e);try{var n=t.objectStore(s._dbInfo.storeName).count();n.onsuccess=function(){r(n.result)},n.onerror=function(){i(n.error)}}catch(e){i(e)}})}).catch(i)});return f(t,e),t},key:function(o,e){var u=this,t=new d(function(s,a){o<0?s(null):u.ready().then(function(){A(u._dbInfo,n,function(e,t){if(e)return a(e);try{var n=t.objectStore(u._dbInfo.storeName),r=!1,i=n.openKeyCursor();i.onsuccess=function(){var e=i.result;e?0===o||r?s(e.key):(r=!0,e.advance(o)):s(null)},i.onerror=function(){a(i.error)}}catch(e){a(e)}})}).catch(a)});return f(t,e),t},keys:function(e){var a=this,t=new d(function(i,s){a.ready().then(function(){A(a._dbInfo,n,function(e,t){if(e)return s(e);try{var n=t.objectStore(a._dbInfo.storeName).openKeyCursor(),r=[];n.onsuccess=function(){var e=n.result;e?(r.push(e.key),e.continue()):i(r)},n.onerror=function(){s(n.error)}}catch(e){s(e)}})}).catch(s)});return f(t,e),t},dropInstance:function(a,e){e=c.apply(this,arguments);var t=this.config();return(a="function"!=typeof a&&a||{}).name||(a.name=a.name||t.name,a.storeName=a.storeName||t.storeName),f(t=a.name?(t=a.name===t.name&&this._dbInfo.db?d.resolve(this._dbInfo.db):y(a).then(function(e){var t=h[a.name],n=t.forages;t.db=e;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=e;return e}),a.storeName?t.then(function(e){if(e.objectStoreNames.contains(a.storeName)){var i=e.version+1,r=(m(a),h[a.name]),s=r.forages;e.close();for(var t=0;t<s.length;t++){var n=s[t];n._dbInfo.db=null,n._dbInfo.version=i}return new d(function(t,n){var r=o.open(a.name,i);r.onerror=function(e){r.result.close(),n(e)},r.onupgradeneeded=function(){r.result.deleteObjectStore(a.storeName)},r.onsuccess=function(){var e=r.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<s.length;t++){var n=s[t];n._dbInfo.db=e,g(n._dbInfo)}}).catch(function(e){throw(D(a,e)||d.resolve()).catch(function(){}),e})}}):t.then(function(e){m(a);var n=h[a.name],r=n.forages;e.close();for(var t=0;t<r.length;t++)r[t]._dbInfo.db=null;return new d(function(t,n){var r=o.deleteDatabase(a.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+a.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)g(r[t]._dbInfo)}).catch(function(e){throw(D(a,e)||d.resolve()).catch(function(){}),e})})):d.reject("Invalid arguments"),e),t}};var F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=/^~~local_forage_type~([^~]+)~/,b="__lfsc__:",S=b.length,W=S+"arbf".length,V=Object.prototype.toString;function X(e){for(var t,n,r,i,s=.75*e.length,a=e.length,o=0,s=("="===e[e.length-1]&&(s--,"="===e[e.length-2])&&s--,new ArrayBuffer(s)),u=new Uint8Array(s),c=0;c<a;c+=4)t=F.indexOf(e[c]),n=F.indexOf(e[c+1]),r=F.indexOf(e[c+2]),i=F.indexOf(e[c+3]),u[o++]=t<<2|n>>4,u[o++]=(15&n)<<4|r>>2,u[o++]=(3&r)<<6|63&i;return s}function w(e){for(var t=new Uint8Array(e),n="",r=0;r<t.length;r+=3)n=(n=(n=(n+=F[t[r]>>2])+F[(3&t[r])<<4|t[r+1]>>4])+F[(15&t[r+1])<<2|t[r+2]>>6])+F[63&t[r+2]];return t.length%3==2?n=n.substring(0,n.length-1)+"=":t.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var _={serialize:function(t,n){var e="";if(t&&(e=V.call(t)),t&&("[object ArrayBuffer]"===e||t.buffer&&"[object ArrayBuffer]"===V.call(t.buffer))){var r,i=b;t instanceof ArrayBuffer?(r=t,i+="arbf"):(r=t.buffer,"[object Int8Array]"===e?i+="si08":"[object Uint8Array]"===e?i+="ui08":"[object Uint8ClampedArray]"===e?i+="uic8":"[object Int16Array]"===e?i+="si16":"[object Uint16Array]"===e?i+="ur16":"[object Int32Array]"===e?i+="si32":"[object Uint32Array]"===e?i+="ui32":"[object Float32Array]"===e?i+="fl32":"[object Float64Array]"===e?i+="fl64":n(new Error("Failed to get type for BinaryArray"))),n(i+w(r))}else if("[object Blob]"===e){i=new FileReader;i.onload=function(){var e="~~local_forage_type~"+t.type+"~"+w(this.result);n(b+"blob"+e)},i.readAsArrayBuffer(t)}else try{n(JSON.stringify(t))}catch(e){console.error("Couldn't convert value into a JSON string: ",t),n(null,e)}},deserialize:function(e){if(e.substring(0,S)!==b)return JSON.parse(e);var t,n=e.substring(W),r=e.substring(S,W),i=("blob"===r&&J.test(n)&&(t=(e=n.match(J))[1],n=n.substring(e[0].length)),X(n));switch(r){case"arbf":return i;case"blob":return s([i],{type:t});case"si08":return new Int8Array(i);case"ui08":return new Uint8Array(i);case"uic8":return new Uint8ClampedArray(i);case"si16":return new Int16Array(i);case"ur16":return new Uint16Array(i);case"si32":return new Int32Array(i);case"ui32":return new Uint32Array(i);case"fl32":return new Float32Array(i);case"fl64":return new Float64Array(i);default:throw new Error("Unkown type: "+r)}},stringToBuffer:X,bufferToString:w};function $(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function B(e,r,i,s,a,o){e.executeSql(i,s,a,function(e,n){n.code===n.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[r.storeName],function(e,t){t.rows.length?o(e,n):$(e,r,function(){e.executeSql(i,s,a,o)},o)},o):o(e,n)},o)}function H(a,e,o,u){var c=this,t=(a=l(a),new d(function(i,s){c.ready().then(function(){var n=e=void 0===e?null:e,r=c._dbInfo;r.serializer.serialize(e,function(t,e){e?s(e):r.db.transaction(function(e){B(e,r,"INSERT OR REPLACE INTO "+r.storeName+" (key, value) VALUES (?, ?)",[a,t],function(){i(n)},function(e,t){s(t)})},function(e){e.code===e.QUOTA_ERR&&(0<u?i(H.apply(c,[a,n,o,u-1])):s(e))})})}).catch(s)}));return f(t,o),t}var i={_driver:"webSQLStorage",_initStorage:function(e){var r=this,i={db:null};if(e)for(var t in e)i[t]="string"!=typeof e[t]?e[t].toString():e[t];var n=new d(function(t,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(e){return n(e)}i.db.transaction(function(e){$(e,i,function(){r._dbInfo=i,t()},function(e,t){n(t)})},n)});return i.serializer=_,n},_support:"function"==typeof openDatabase,iterate:function(c,e){var t=this,n=new d(function(u,n){t.ready().then(function(){var o=t._dbInfo;o.db.transaction(function(e){B(e,o,"SELECT * FROM "+o.storeName,[],function(e,t){for(var n=t.rows,r=n.length,i=0;i<r;i++){var s=n.item(i),a=(a=s.value)&&o.serializer.deserialize(a);if(void 0!==(a=c(a,s.key,i+1)))return void u(a)}u()},function(e,t){n(t)})})}).catch(n)});return f(n,e),n},getItem:function(t,e){var s=this,n=(t=l(t),new d(function(r,i){s.ready().then(function(){var n=s._dbInfo;n.db.transaction(function(e){B(e,n,"SELECT * FROM "+n.storeName+" WHERE key = ? LIMIT 1",[t],function(e,t){t=(t=t.rows.length?t.rows.item(0).value:null)&&n.serializer.deserialize(t);r(t)},function(e,t){i(t)})})}).catch(i)}));return f(n,e),n},setItem:function(e,t,n){return H.apply(this,[e,t,n,1])},removeItem:function(i,e){var s=this,t=(i=l(i),new d(function(n,r){s.ready().then(function(){var t=s._dbInfo;t.db.transaction(function(e){B(e,t,"DELETE FROM "+t.storeName+" WHERE key = ?",[i],function(){n()},function(e,t){r(t)})})}).catch(r)}));return f(t,e),t},clear:function(e){var i=this,t=new d(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){B(e,t,"DELETE FROM "+t.storeName,[],function(){n()},function(e,t){r(t)})})}).catch(r)});return f(t,e),t},length:function(e){var i=this,t=new d(function(n,r){i.ready().then(function(){var t=i._dbInfo;t.db.transaction(function(e){B(e,t,"SELECT COUNT(key) as c FROM "+t.storeName,[],function(e,t){t=t.rows.item(0).c;n(t)},function(e,t){r(t)})})}).catch(r)});return f(t,e),t},key:function(i,e){var s=this,t=new d(function(n,r){s.ready().then(function(){var t=s._dbInfo;t.db.transaction(function(e){B(e,t,"SELECT key FROM "+t.storeName+" WHERE id = ? LIMIT 1",[i+1],function(e,t){t=t.rows.length?t.rows.item(0).key:null;n(t)},function(e,t){r(t)})})}).catch(r)});return f(t,e),t},keys:function(e){var r=this,t=new d(function(i,n){r.ready().then(function(){var t=r._dbInfo;t.db.transaction(function(e){B(e,t,"SELECT key FROM "+t.storeName,[],function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).key);i(n)},function(e,t){n(t)})})}).catch(n)});return f(t,e),t},dropInstance:function(n,e){e=c.apply(this,arguments);var r=this.config(),i=((n="function"!=typeof n&&n||{}).name||(n.name=n.name||r.name,n.storeName=n.storeName||r.storeName),this),t=n.name?new d(function(e){var s,t=n.name===r.name?i._dbInfo.db:openDatabase(n.name,"","",0);n.storeName?e({db:t,storeNames:[n.storeName]}):e((s=t,new d(function(i,n){s.transaction(function(e){e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(e,t){for(var n=[],r=0;r<t.rows.length;r++)n.push(t.rows.item(r).name);i({db:s,storeNames:n})},function(e,t){n(t)})},function(e){n(e)})})))}).then(function(a){return new d(function(i,s){a.db.transaction(function(r){for(var e=[],t=0,n=a.storeNames.length;t<n;t++)e.push(function(t){return new d(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(e,t){n(t)})})}(a.storeNames[t]));d.all(e).then(function(){i()}).catch(function(e){s(e)})},function(e){s(e)})})}):d.reject("Invalid arguments");return f(t,e),t}};function K(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function G(){return!function(){var e="_localforage_support_test";try{localStorage.setItem(e,!0),localStorage.removeItem(e)}catch(e){return 1}}()||0<localStorage.length}function Y(e,t){for(var n,r,i=e.length,s=0;s<i;){if((n=e[s])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return 1;s++}}var Z={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=K(e,this._defaultConfig),G()?((this._dbInfo=t).serializer=_,d.resolve()):d.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(u,e){var c=this,t=c.ready().then(function(){for(var e=c._dbInfo,t=e.keyPrefix,n=t.length,r=localStorage.length,i=1,s=0;s<r;s++){var a=localStorage.key(s);if(0===a.indexOf(t)){var o=(o=localStorage.getItem(a))&&e.serializer.deserialize(o);if(void 0!==(o=u(o,a.substring(n),i++)))return o}}});return f(t,e),t},getItem:function(n,e){var r=this,t=(n=l(n),r.ready().then(function(){var e=r._dbInfo,t=localStorage.getItem(e.keyPrefix+n);return t=t&&e.serializer.deserialize(t)}));return f(t,e),t},setItem:function(a,e,t){var o=this,n=(a=l(a),o.ready().then(function(){var s=e=void 0===e?null:e;return new d(function(n,r){var i=o._dbInfo;i.serializer.serialize(e,function(e,t){if(t)r(t);else try{localStorage.setItem(i.keyPrefix+a,e),n(s)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||r(e),r(e)}})})}));return f(n,t),n},removeItem:function(t,e){var n=this,r=(t=l(t),n.ready().then(function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return f(r,e),r},clear:function(e){var r=this,t=r.ready().then(function(){for(var e=r._dbInfo.keyPrefix,t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}});return f(t,e),t},length:function(e){var t=this.keys().then(function(e){return e.length});return f(t,e),t},key:function(n,e){var r=this,t=r.ready().then(function(){var t,e=r._dbInfo;try{t=localStorage.key(n)}catch(e){t=null}return t=t&&t.substring(e.keyPrefix.length)});return f(t,e),t},keys:function(e){var s=this,t=s.ready().then(function(){for(var e=s._dbInfo,t=localStorage.length,n=[],r=0;r<t;r++){var i=localStorage.key(r);0===i.indexOf(e.keyPrefix)&&n.push(i.substring(e.keyPrefix.length))}return n});return f(t,e),t},dropInstance:function(t,e){e=c.apply(this,arguments),(t="function"!=typeof t&&t||{}).name||(r=this.config(),t.name=t.name||r.name,t.storeName=t.storeName||r.storeName);var n=this,r=t.name?new d(function(e){t.storeName?e(K(t,n._defaultConfig)):e(t.name+"/")}).then(function(e){for(var t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):d.reject("Invalid arguments");return f(r,e),r}},Q=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},k={},ee={},I={INDEXEDDB:e,WEBSQL:i,LOCALSTORAGE:Z},e=[I.INDEXEDDB._driver,I.WEBSQL._driver,I.LOCALSTORAGE._driver],N=["dropInstance"],T=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(N),te={description:"",driver:e.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function L(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&(Q(n[r])?e[r]=n[r].slice():e[r]=n[r])}return e}function P(e){var t,n,r;if(!(this instanceof P))throw new TypeError("Cannot call a class as a function");for(t in I)I.hasOwnProperty(t)&&(r=(n=I[t])._driver,this[t]=r,k[r]||this.defineDriver(n));this._defaultConfig=L({},te),this._config=L({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}P.prototype.config=function(e){if("object"!==(void 0===e?"undefined":M(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},P.prototype.defineDriver=function(p,e,t){var n=new d(function(t,n){try{var r=p._driver,e=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(p._driver){for(var i=T.concat("_initStorage"),s=0,a=i.length;s<a;s++){var o=i[s];if((!Y(N,o)||p[o])&&"function"!=typeof p[o])return void n(e)}for(var u=0,c=N.length;u<c;u++){var l=N[u];p[l]||(p[l]=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),e=d.reject(e);return f(e,arguments[arguments.length-1]),e}}(l))}var h=function(e){k[r]&&console.info("Redefining LocalForage driver: "+r),k[r]=p,ee[r]=e,t()};"_support"in p?p._support&&"function"==typeof p._support?p._support().then(h,n):h(!!p._support):h(!0)}else n(e)}catch(e){n(e)}});return u(n,e,t),n},P.prototype.driver=function(){return this._driver||null},P.prototype.getDriver=function(e,t,n){e=k[e]?d.resolve(k[e]):d.reject(new Error("Driver not found."));return u(e,t,n),e},P.prototype.getSerializer=function(e){var t=d.resolve(_);return u(t,e),t},P.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return u(n,e,e),n},P.prototype.setDriver=function(e,t,n){var s=this,r=(Q(e)||(e=[e]),this._getSupportedDrivers(e));function a(){s._config.driver=s.driver()}function o(e){return s._extend(e),a(),s._ready=s._initStorage(s._config),s._ready}function i(i){return function(){var r=0;return function e(){for(;r<i.length;){var t=i[r];return r++,s._dbInfo=null,s._ready=null,s.getDriver(t).then(o).catch(e)}a();var n=new Error("No available storage method found.");return s._driverSet=d.reject(n),s._driverSet}()}}e=null!==this._driverSet?this._driverSet.catch(function(){return d.resolve()}):d.resolve();return this._driverSet=e.then(function(){var e=r[0];return s._dbInfo=null,s._ready=null,s.getDriver(e).then(function(e){s._driver=e._driver,a(),s._wrapLibraryMethodsWithReady(),s._initDriver=i(r)})}).catch(function(){a();var e=new Error("No available storage method found.");return s._driverSet=d.reject(e),s._driverSet}),u(this._driverSet,t,n),this._driverSet},P.prototype.supports=function(e){return!!ee[e]},P.prototype._extend=function(e){L(this,e)},P.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},P.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=T.length;e<t;e++)!function(t,n){t[n]=function(){var e=arguments;return t.ready().then(function(){return t[n].apply(t,e)})}}(this,T[e])},P.prototype.createInstance=function(e){return new P(e)};i=new P;O.exports=i},{3:3}]},{},[4])(4)})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[function(e,t,n){let l=1;class r{constructor(e=l++){this.id=e}}class h extends r{constructor(){super(),this.children={}}addChild(e){this.children[e.name]=e}unlink(e){this.children[e.name]==e&&delete this.children[e.name]}lookup(e){return this.children[e]}unserialize(t,e){e.forEach(e=>{e=t[e];this.children[e.name]=e})}serialize(e){var t,n=[];for(t in this.children){var r=this.children[t];n.push(r.id),r.serialize(e)}e[this.id]={Directory:[n]}}}class p extends r{constructor(e=null){super(),this.data=e}serialize(e){e[this.id]={File:[this.data]}}}class d extends r{constructor(e,t){super(),this.name=e,this.node=t}is(e){return this.node instanceof e}isFile(){return this.is(p)}isDirectory(){return this.is(h)}unserialize(e,t,n){this.name=t,this.node=e[n]}serialize(e){this.node.serialize(e),e[this.id]={Entry:[this.name,this.node.id]}}}t.exports.PNGFS=class{#jsonCache;onDirty;constructor(e){this.root=new d("",new h),this.root.id="root",this.path=[this.root],this.version=1,e&&e.pngfs<=this.version?this.loadJSON(e):e&&this.loadImage(e)}dirty(){this.#jsonCache=null,this.onDirty?.()}loadJSON(e){var t,n,r,i,s={Entry:d,File:p,Directory:h},a={},o={};for(t in e)"pngfs"!=t&&(i=e[t],r=s[n=Object.keys(i)[0]],o[t]=i[n],a[(i=new r(...o[t])).id=t]=i,l<=t)&&(l=t+1);for(const c in a){var u=a[c];u.unserialize&&u.unserialize(a,...o[c])}this.root=a.root,this.path=[this.root]}toJSON(){var e;return this.#jsonCache||(e={pngfs:this.version},this.root.serialize(e),this.#jsonCache=e)}ls(e=""){var t=[...this.path],n=e.split("/");if(e&&n.length)for(""==n[0]&&(t.length=1,n.shift());n.length;){var r=n.shift();if("."!=r&&""!=r)if(".."==r){if(1==t.length)return!1;t.pop()}else{const i=t[t.length-1];r=i.node.lookup(r);if(!r||!r.is(h))return!1;t.push(r)}}const i=t[t.length-1];return Object.values(i.node.children)}cd(e){var t=e.split("/");if(t.length)for(""==t[0]&&(this.path.length=1,t.shift());t.length;){var n=t.shift();if("."!=n&&""!=n)if(".."==n){if(1==this.path.length)return!1;this.path.pop()}else{n=this.path[this.path.length-1].node.lookup(n);if(!n||!n.is(h))return!1;this.path.push(n)}}return!0}mkdir(e){var t=[...this.path],n=e.split("/");if(n.length)for(""==n[0]&&(t.length=1,n.shift());n.length;){var r=n.shift();if("."!=r&&""!=r)if(".."==r){if(1==t.length)return!1;t.pop()}else{var i=t[t.length-1],s=i.node.lookup(r);if(s){if(!s.is(h))return!1;t.push(s)}else{s=new d(r,new h);i.node.addChild(s),t.push(s),this.dirty()}}}return!0}link(e,t){var n=[...this.path],r=e.split("/");if(r.length)for(""==r[0]&&(n.length=1,r.shift());r.length;){var i=r.shift();if("."!=i&&""!=i)if(".."==i){if(1==n.length)return!1;n.pop()}else{var s=n[n.length-1];if(!r.length)return this.dirty(),s.node.addChild(new d(i,t));s=s.node.lookup(i);if(!s||!s.is(h))return!1;n.push(s)}}return!0}writeFile(e,t){var n=this.lookup(e)["child"];return n?!!n.is(p)&&(this.dirty(),n.node.data=t,!0):(this.link(e,new p(t)),!0)}readFile(e,t){e=this.lookup(e).child;return!(!e||!e.is(p))&&(this.dirty(),e.node.data)}rm(e){var{parent:e,child:t}=this.lookup(e);e&&t&&(this.dirty(),e.node.unlink(t))}lookup(e){var t=[...this.path],n=e.split("/");if(n.length)for(""==n[0]&&(t.length=1,n.shift());n.length;){var r=n.shift();if("."!=r&&""!=r)if(".."==r){if(1==t.length)return!1;t.pop()}else{var i=t[t.length-1],r=i.node.lookup(r);if(!r)return!1;if(!n.length)return{parent:i,child:r};if(!r.is(h))return!1;t.push(r)}}return!0}cwd(){return this.path.map(e=>e.name).join("/")}loadImage(e){}}},{}],91:[function(e,t,n){t.exports.stdlib=`
/**
 * Sets the current drawing color.
 * Returns a color.
 */
declare function setPen(R:number, G:number, B:number):number;

/**
 * Sets the current drawing color.
 * Returns a color.
 */
declare function setPen(color:number):number;

/**
 * Sets the font used by the text() function.
 */
declare function setFont(font:FontResource):void;

/**
 * Sets the LED color on supported hardware.
 */
declare function setLED(R:number, G:number, B:number):void;

/**
 * Sets the texture to be used by the image() function.
 */
declare function setTexture(texture:ImageResource):void;

/**
 * Sets if the following image() calls should be flipped horizontally.
 */
declare function setMirrored(mirror:boolean):void;

/**
 * Sets if the following image() calls should be flipped vertically.
 */
declare function setFlipped(flip:boolean):void;

/**
 * Sets if the following image() calls should support transparency.
 */
declare function setTransparent(transparent:boolean):void;

/**
 * Returns the screen's width in pixels.
 */
declare function getWidth():number;

/**
 * Returns the screen's height in pixels.
 */
declare function getHeight():number;

/**
 * Returns the image's width in pixels.
 */
declare function getWidth(image:ImageResource):number;

/**
 * Returns the image's height in pixels.
 */
declare function getHeight(image:ImageResource):number;

/**
 * Fills the entire screen with the current pen's color.
 */
declare function clear():void;

/**
 * Draws the active texture onto the screen at position 0, 0.
 */
declare function image():void;

/**
 * Draws texture onto the screen at position 0, 0.
 */
declare function image(texture:ImageResource):void;

/**
 * Draws the active texture onto the screen at position X, Y.
 */
declare function image(X:number, Y:number):void;

/**
 * Draws texture onto the screen at position X, Y.
 */
declare function image(texture:ImageResource, X:number, Y:number, rotation?:number, scale?:number):void;

/**
 * Draws text onto the screen.
 */
declare function text(message:string, x?:number, y?:number):void;

/**
 * True while button is pressed, false otherwise.
 */
declare var UP:boolean;

/**
 * True while button is pressed, false otherwise.
 */
declare var DOWN:boolean;

/**
 * True while button is pressed, false otherwise.
 */
declare var LEFT:boolean;

/**
 * True while button is pressed, false otherwise.
 */
declare var RIGHT:booeanl;

/**
 * True while button is pressed, false otherwise.
 */
declare var A:boolean;

/**
 * True while button is pressed, false otherwise.
 */
declare var B:boolean;

/**
 * True while button is pressed, false otherwise.
 */
declare var C:boolean;

/**
 * True while button is pressed, false otherwise.
 */
declare var D:boolean";

`},{}]},{},[88]);